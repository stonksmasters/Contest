var dc=Object.defineProperty;var pc=(r,t,e)=>t in r?dc(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var gc=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var oe=(r,t,e)=>pc(r,typeof t!="symbol"?t+"":t,e);var Ud=gc(fe=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function hs(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),e}var rt={},Xr={};Xr.byteLength=bc;Xr.toByteArray=xc;Xr.fromByteArray=Bc;var We=[],Ne=[],yc=typeof Uint8Array<"u"?Uint8Array:Array,ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Rn=0,wc=ki.length;Rn<wc;++Rn)We[Rn]=ki[Rn],Ne[ki.charCodeAt(Rn)]=Rn;Ne[45]=62;Ne[95]=63;function Mo(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function bc(r){var t=Mo(r),e=t[0],n=t[1];return(e+n)*3/4-n}function vc(r,t,e){return(t+e)*3/4-e}function xc(r){var t,e=Mo(r),n=e[0],s=e[1],i=new yc(vc(r,n,s)),o=0,c=s>0?n-4:n,d;for(d=0;d<c;d+=4)t=Ne[r.charCodeAt(d)]<<18|Ne[r.charCodeAt(d+1)]<<12|Ne[r.charCodeAt(d+2)]<<6|Ne[r.charCodeAt(d+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=Ne[r.charCodeAt(d)]<<2|Ne[r.charCodeAt(d+1)]>>4,i[o++]=t&255),s===1&&(t=Ne[r.charCodeAt(d)]<<10|Ne[r.charCodeAt(d+1)]<<4|Ne[r.charCodeAt(d+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function Ec(r){return We[r>>18&63]+We[r>>12&63]+We[r>>6&63]+We[r&63]}function Sc(r,t,e){for(var n,s=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),s.push(Ec(n));return s.join("")}function Bc(r){for(var t,e=r.length,n=e%3,s=[],i=16383,o=0,c=e-n;o<c;o+=i)s.push(Sc(r,o,o+i>c?c:o+i));return n===1?(t=r[e-1],s.push(We[t>>2]+We[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],s.push(We[t>>10]+We[t>>4&63]+We[t<<2&63]+"=")),s.join("")}var ds={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ds.read=function(r,t,e,n,s){var i,o,c=s*8-n-1,d=(1<<c)-1,w=d>>1,S=-7,A=e?s-1:0,k=e?-1:1,B=r[t+A];for(A+=k,i=B&(1<<-S)-1,B>>=-S,S+=c;S>0;i=i*256+r[t+A],A+=k,S-=8);for(o=i&(1<<-S)-1,i>>=-S,S+=n;S>0;o=o*256+r[t+A],A+=k,S-=8);if(i===0)i=1-w;else{if(i===d)return o?NaN:(B?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-w}return(B?-1:1)*o*Math.pow(2,i-n)};ds.write=function(r,t,e,n,s,i){var o,c,d,w=i*8-s-1,S=(1<<w)-1,A=S>>1,k=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=n?0:i-1,I=n?1:-1,R=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,o=S):(o=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-o))<1&&(o--,d*=2),o+A>=1?t+=k/d:t+=k*Math.pow(2,1-A),t*d>=2&&(o++,d/=2),o+A>=S?(c=0,o=S):o+A>=1?(c=(t*d-1)*Math.pow(2,s),o=o+A):(c=t*Math.pow(2,A-1)*Math.pow(2,s),o=0));s>=8;r[e+B]=c&255,B+=I,c/=256,s-=8);for(o=o<<s|c,w+=s;w>0;r[e+B]=o&255,B+=I,o/=256,w-=8);r[e+B-I]|=R*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Xr,e=ds,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=q,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const g=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(g,u),g.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function o(g){if(g>s)throw new RangeError('The value "'+g+'" is invalid for option "size"');const u=new Uint8Array(g);return Object.setPrototypeOf(u,c.prototype),u}function c(g,u,l){if(typeof g=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(g)}return d(g,u,l)}c.poolSize=8192;function d(g,u,l){if(typeof g=="string")return k(g,u);if(ArrayBuffer.isView(g))return I(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(Ae(g,ArrayBuffer)||g&&Ae(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(g,SharedArrayBuffer)||g&&Ae(g.buffer,SharedArrayBuffer)))return R(g,u,l);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const v=g.valueOf&&g.valueOf();if(v!=null&&v!==g)return c.from(v,u,l);const T=L(g);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return c.from(g[Symbol.toPrimitive]("string"),u,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}c.from=function(g,u,l){return d(g,u,l)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function w(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function S(g,u,l){return w(g),g<=0?o(g):u!==void 0?typeof l=="string"?o(g).fill(u,l):o(g).fill(u):o(g)}c.alloc=function(g,u,l){return S(g,u,l)};function A(g){return w(g),o(g<0?0:U(g)|0)}c.allocUnsafe=function(g){return A(g)},c.allocUnsafeSlow=function(g){return A(g)};function k(g,u){if((typeof u!="string"||u==="")&&(u="utf8"),!c.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const l=F(g,u)|0;let v=o(l);const T=v.write(g,u);return T!==l&&(v=v.slice(0,T)),v}function B(g){const u=g.length<0?0:U(g.length)|0,l=o(u);for(let v=0;v<u;v+=1)l[v]=g[v]&255;return l}function I(g){if(Ae(g,Uint8Array)){const u=new Uint8Array(g);return R(u.buffer,u.byteOffset,u.byteLength)}return B(g)}function R(g,u,l){if(u<0||g.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<u+(l||0))throw new RangeError('"length" is outside of buffer bounds');let v;return u===void 0&&l===void 0?v=new Uint8Array(g):l===void 0?v=new Uint8Array(g,u):v=new Uint8Array(g,u,l),Object.setPrototypeOf(v,c.prototype),v}function L(g){if(c.isBuffer(g)){const u=U(g.length)|0,l=o(u);return l.length===0||g.copy(l,0,0,u),l}if(g.length!==void 0)return typeof g.length!="number"||Tt(g.length)?o(0):B(g);if(g.type==="Buffer"&&Array.isArray(g.data))return B(g.data)}function U(g){if(g>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return g|0}function q(g){return+g!=g&&(g=0),c.alloc(+g)}c.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==c.prototype},c.compare=function(u,l){if(Ae(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),Ae(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(u)||!c.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===l)return 0;let v=u.length,T=l.length;for(let C=0,P=Math.min(v,T);C<P;++C)if(u[C]!==l[C]){v=u[C],T=l[C];break}return v<T?-1:T<v?1:0},c.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(u,l){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return c.alloc(0);let v;if(l===void 0)for(l=0,v=0;v<u.length;++v)l+=u[v].length;const T=c.allocUnsafe(l);let C=0;for(v=0;v<u.length;++v){let P=u[v];if(Ae(P,Uint8Array))C+P.length>T.length?(c.isBuffer(P)||(P=c.from(P)),P.copy(T,C)):Uint8Array.prototype.set.call(T,P,C);else if(c.isBuffer(P))P.copy(T,C);else throw new TypeError('"list" argument must be an Array of Buffers');C+=P.length}return T};function F(g,u){if(c.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||Ae(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const l=g.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&l===0)return 0;let T=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return Rt(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return Lt(g).length;default:if(T)return v?-1:Rt(g).length;u=(""+u).toLowerCase(),T=!0}}c.byteLength=F;function W(g,u,l){let v=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,u>>>=0,l<=u))return"";for(g||(g="utf8");;)switch(g){case"hex":return _(this,u,l);case"utf8":case"utf-8":return a(this,u,l);case"ascii":return b(this,u,l);case"latin1":case"binary":return x(this,u,l);case"base64":return m(this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,u,l);default:if(v)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),v=!0}}c.prototype._isBuffer=!0;function Q(g,u,l){const v=g[u];g[u]=g[l],g[l]=v}c.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<u;l+=2)Q(this,l,l+1);return this},c.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<u;l+=4)Q(this,l,l+3),Q(this,l+1,l+2);return this},c.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<u;l+=8)Q(this,l,l+7),Q(this,l+1,l+6),Q(this,l+2,l+5),Q(this,l+3,l+4);return this},c.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?a(this,0,u):W.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(u){if(!c.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:c.compare(this,u)===0},c.prototype.inspect=function(){let u="";const l=r.INSPECT_MAX_BYTES;return u=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(u+=" ... "),"<Buffer "+u+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(u,l,v,T,C){if(Ae(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),!c.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(l===void 0&&(l=0),v===void 0&&(v=u?u.length:0),T===void 0&&(T=0),C===void 0&&(C=this.length),l<0||v>u.length||T<0||C>this.length)throw new RangeError("out of range index");if(T>=C&&l>=v)return 0;if(T>=C)return-1;if(l>=v)return 1;if(l>>>=0,v>>>=0,T>>>=0,C>>>=0,this===u)return 0;let P=C-T,pt=v-l;const dt=Math.min(P,pt),ht=this.slice(T,C),It=u.slice(l,v);for(let ft=0;ft<dt;++ft)if(ht[ft]!==It[ft]){P=ht[ft],pt=It[ft];break}return P<pt?-1:pt<P?1:0};function it(g,u,l,v,T){if(g.length===0)return-1;if(typeof l=="string"?(v=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Tt(l)&&(l=T?0:g.length-1),l<0&&(l=g.length+l),l>=g.length){if(T)return-1;l=g.length-1}else if(l<0)if(T)l=0;else return-1;if(typeof u=="string"&&(u=c.from(u,v)),c.isBuffer(u))return u.length===0?-1:et(g,u,l,v,T);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(g,u,l):Uint8Array.prototype.lastIndexOf.call(g,u,l):et(g,[u],l,v,T);throw new TypeError("val must be string, number or Buffer")}function et(g,u,l,v,T){let C=1,P=g.length,pt=u.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(g.length<2||u.length<2)return-1;C=2,P/=2,pt/=2,l/=2}function dt(It,ft){return C===1?It[ft]:It.readUInt16BE(ft*C)}let ht;if(T){let It=-1;for(ht=l;ht<P;ht++)if(dt(g,ht)===dt(u,It===-1?0:ht-It)){if(It===-1&&(It=ht),ht-It+1===pt)return It*C}else It!==-1&&(ht-=ht-It),It=-1}else for(l+pt>P&&(l=P-pt),ht=l;ht>=0;ht--){let It=!0;for(let ft=0;ft<pt;ft++)if(dt(g,ht+ft)!==dt(u,ft)){It=!1;break}if(It)return ht}return-1}c.prototype.includes=function(u,l,v){return this.indexOf(u,l,v)!==-1},c.prototype.indexOf=function(u,l,v){return it(this,u,l,v,!0)},c.prototype.lastIndexOf=function(u,l,v){return it(this,u,l,v,!1)};function X(g,u,l,v){l=Number(l)||0;const T=g.length-l;v?(v=Number(v),v>T&&(v=T)):v=T;const C=u.length;v>C/2&&(v=C/2);let P;for(P=0;P<v;++P){const pt=parseInt(u.substr(P*2,2),16);if(Tt(pt))return P;g[l+P]=pt}return P}function D(g,u,l,v){return kt(Rt(u,g.length-l),g,l,v)}function G(g,u,l,v){return kt(Ft(u),g,l,v)}function Z(g,u,l,v){return kt(Lt(u),g,l,v)}function tt(g,u,l,v){return kt(br(u,g.length-l),g,l,v)}c.prototype.write=function(u,l,v,T){if(l===void 0)T="utf8",v=this.length,l=0;else if(v===void 0&&typeof l=="string")T=l,v=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(v)?(v=v>>>0,T===void 0&&(T="utf8")):(T=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const C=this.length-l;if((v===void 0||v>C)&&(v=C),u.length>0&&(v<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let P=!1;for(;;)switch(T){case"hex":return X(this,u,l,v);case"utf8":case"utf-8":return D(this,u,l,v);case"ascii":case"latin1":case"binary":return G(this,u,l,v);case"base64":return Z(this,u,l,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,u,l,v);default:if(P)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),P=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(g,u,l){return u===0&&l===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(u,l))}function a(g,u,l){l=Math.min(g.length,l);const v=[];let T=u;for(;T<l;){const C=g[T];let P=null,pt=C>239?4:C>223?3:C>191?2:1;if(T+pt<=l){let dt,ht,It,ft;switch(pt){case 1:C<128&&(P=C);break;case 2:dt=g[T+1],(dt&192)===128&&(ft=(C&31)<<6|dt&63,ft>127&&(P=ft));break;case 3:dt=g[T+1],ht=g[T+2],(dt&192)===128&&(ht&192)===128&&(ft=(C&15)<<12|(dt&63)<<6|ht&63,ft>2047&&(ft<55296||ft>57343)&&(P=ft));break;case 4:dt=g[T+1],ht=g[T+2],It=g[T+3],(dt&192)===128&&(ht&192)===128&&(It&192)===128&&(ft=(C&15)<<18|(dt&63)<<12|(ht&63)<<6|It&63,ft>65535&&ft<1114112&&(P=ft))}}P===null?(P=65533,pt=1):P>65535&&(P-=65536,v.push(P>>>10&1023|55296),P=56320|P&1023),v.push(P),T+=pt}return p(v)}const h=4096;function p(g){const u=g.length;if(u<=h)return String.fromCharCode.apply(String,g);let l="",v=0;for(;v<u;)l+=String.fromCharCode.apply(String,g.slice(v,v+=h));return l}function b(g,u,l){let v="";l=Math.min(g.length,l);for(let T=u;T<l;++T)v+=String.fromCharCode(g[T]&127);return v}function x(g,u,l){let v="";l=Math.min(g.length,l);for(let T=u;T<l;++T)v+=String.fromCharCode(g[T]);return v}function _(g,u,l){const v=g.length;(!u||u<0)&&(u=0),(!l||l<0||l>v)&&(l=v);let T="";for(let C=u;C<l;++C)T+=Pt[g[C]];return T}function M(g,u,l){const v=g.slice(u,l);let T="";for(let C=0;C<v.length-1;C+=2)T+=String.fromCharCode(v[C]+v[C+1]*256);return T}c.prototype.slice=function(u,l){const v=this.length;u=~~u,l=l===void 0?v:~~l,u<0?(u+=v,u<0&&(u=0)):u>v&&(u=v),l<0?(l+=v,l<0&&(l=0)):l>v&&(l=v),l<u&&(l=u);const T=this.subarray(u,l);return Object.setPrototypeOf(T,c.prototype),T};function y(g,u,l){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+u>l)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(u,l,v){u=u>>>0,l=l>>>0,v||y(u,l,this.length);let T=this[u],C=1,P=0;for(;++P<l&&(C*=256);)T+=this[u+P]*C;return T},c.prototype.readUintBE=c.prototype.readUIntBE=function(u,l,v){u=u>>>0,l=l>>>0,v||y(u,l,this.length);let T=this[u+--l],C=1;for(;l>0&&(C*=256);)T+=this[u+--l]*C;return T},c.prototype.readUint8=c.prototype.readUInt8=function(u,l){return u=u>>>0,l||y(u,1,this.length),this[u]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(u,l){return u=u>>>0,l||y(u,2,this.length),this[u]|this[u+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(u,l){return u=u>>>0,l||y(u,2,this.length),this[u]<<8|this[u+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(u,l){return u=u>>>0,l||y(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(u,l){return u=u>>>0,l||y(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},c.prototype.readBigUInt64LE=De(function(u){u=u>>>0,Le(u,"offset");const l=this[u],v=this[u+7];(l===void 0||v===void 0)&&Bt(u,this.length-8);const T=l+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,C=this[++u]+this[++u]*2**8+this[++u]*2**16+v*2**24;return BigInt(T)+(BigInt(C)<<BigInt(32))}),c.prototype.readBigUInt64BE=De(function(u){u=u>>>0,Le(u,"offset");const l=this[u],v=this[u+7];(l===void 0||v===void 0)&&Bt(u,this.length-8);const T=l*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],C=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+v;return(BigInt(T)<<BigInt(32))+BigInt(C)}),c.prototype.readIntLE=function(u,l,v){u=u>>>0,l=l>>>0,v||y(u,l,this.length);let T=this[u],C=1,P=0;for(;++P<l&&(C*=256);)T+=this[u+P]*C;return C*=128,T>=C&&(T-=Math.pow(2,8*l)),T},c.prototype.readIntBE=function(u,l,v){u=u>>>0,l=l>>>0,v||y(u,l,this.length);let T=l,C=1,P=this[u+--T];for(;T>0&&(C*=256);)P+=this[u+--T]*C;return C*=128,P>=C&&(P-=Math.pow(2,8*l)),P},c.prototype.readInt8=function(u,l){return u=u>>>0,l||y(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},c.prototype.readInt16LE=function(u,l){u=u>>>0,l||y(u,2,this.length);const v=this[u]|this[u+1]<<8;return v&32768?v|4294901760:v},c.prototype.readInt16BE=function(u,l){u=u>>>0,l||y(u,2,this.length);const v=this[u+1]|this[u]<<8;return v&32768?v|4294901760:v},c.prototype.readInt32LE=function(u,l){return u=u>>>0,l||y(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},c.prototype.readInt32BE=function(u,l){return u=u>>>0,l||y(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},c.prototype.readBigInt64LE=De(function(u){u=u>>>0,Le(u,"offset");const l=this[u],v=this[u+7];(l===void 0||v===void 0)&&Bt(u,this.length-8);const T=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(v<<24);return(BigInt(T)<<BigInt(32))+BigInt(l+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),c.prototype.readBigInt64BE=De(function(u){u=u>>>0,Le(u,"offset");const l=this[u],v=this[u+7];(l===void 0||v===void 0)&&Bt(u,this.length-8);const T=(l<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(T)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+v)}),c.prototype.readFloatLE=function(u,l){return u=u>>>0,l||y(u,4,this.length),e.read(this,u,!0,23,4)},c.prototype.readFloatBE=function(u,l){return u=u>>>0,l||y(u,4,this.length),e.read(this,u,!1,23,4)},c.prototype.readDoubleLE=function(u,l){return u=u>>>0,l||y(u,8,this.length),e.read(this,u,!0,52,8)},c.prototype.readDoubleBE=function(u,l){return u=u>>>0,l||y(u,8,this.length),e.read(this,u,!1,52,8)};function f(g,u,l,v,T,C){if(!c.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>T||u<C)throw new RangeError('"value" argument is out of bounds');if(l+v>g.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(u,l,v,T){if(u=+u,l=l>>>0,v=v>>>0,!T){const pt=Math.pow(2,8*v)-1;f(this,u,l,v,pt,0)}let C=1,P=0;for(this[l]=u&255;++P<v&&(C*=256);)this[l+P]=u/C&255;return l+v},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(u,l,v,T){if(u=+u,l=l>>>0,v=v>>>0,!T){const pt=Math.pow(2,8*v)-1;f(this,u,l,v,pt,0)}let C=v-1,P=1;for(this[l+C]=u&255;--C>=0&&(P*=256);)this[l+C]=u/P&255;return l+v},c.prototype.writeUint8=c.prototype.writeUInt8=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,1,255,0),this[l]=u&255,l+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,2,65535,0),this[l]=u&255,this[l+1]=u>>>8,l+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,2,65535,0),this[l]=u>>>8,this[l+1]=u&255,l+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,4,4294967295,0),this[l+3]=u>>>24,this[l+2]=u>>>16,this[l+1]=u>>>8,this[l]=u&255,l+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,4,4294967295,0),this[l]=u>>>24,this[l+1]=u>>>16,this[l+2]=u>>>8,this[l+3]=u&255,l+4};function E(g,u,l,v,T){St(u,v,T,g,l,7);let C=Number(u&BigInt(4294967295));g[l++]=C,C=C>>8,g[l++]=C,C=C>>8,g[l++]=C,C=C>>8,g[l++]=C;let P=Number(u>>BigInt(32)&BigInt(4294967295));return g[l++]=P,P=P>>8,g[l++]=P,P=P>>8,g[l++]=P,P=P>>8,g[l++]=P,l}function V(g,u,l,v,T){St(u,v,T,g,l,7);let C=Number(u&BigInt(4294967295));g[l+7]=C,C=C>>8,g[l+6]=C,C=C>>8,g[l+5]=C,C=C>>8,g[l+4]=C;let P=Number(u>>BigInt(32)&BigInt(4294967295));return g[l+3]=P,P=P>>8,g[l+2]=P,P=P>>8,g[l+1]=P,P=P>>8,g[l]=P,l+8}c.prototype.writeBigUInt64LE=De(function(u,l=0){return E(this,u,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=De(function(u,l=0){return V(this,u,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(u,l,v,T){if(u=+u,l=l>>>0,!T){const dt=Math.pow(2,8*v-1);f(this,u,l,v,dt-1,-dt)}let C=0,P=1,pt=0;for(this[l]=u&255;++C<v&&(P*=256);)u<0&&pt===0&&this[l+C-1]!==0&&(pt=1),this[l+C]=(u/P>>0)-pt&255;return l+v},c.prototype.writeIntBE=function(u,l,v,T){if(u=+u,l=l>>>0,!T){const dt=Math.pow(2,8*v-1);f(this,u,l,v,dt-1,-dt)}let C=v-1,P=1,pt=0;for(this[l+C]=u&255;--C>=0&&(P*=256);)u<0&&pt===0&&this[l+C+1]!==0&&(pt=1),this[l+C]=(u/P>>0)-pt&255;return l+v},c.prototype.writeInt8=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,1,127,-128),u<0&&(u=255+u+1),this[l]=u&255,l+1},c.prototype.writeInt16LE=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,2,32767,-32768),this[l]=u&255,this[l+1]=u>>>8,l+2},c.prototype.writeInt16BE=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,2,32767,-32768),this[l]=u>>>8,this[l+1]=u&255,l+2},c.prototype.writeInt32LE=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,4,2147483647,-2147483648),this[l]=u&255,this[l+1]=u>>>8,this[l+2]=u>>>16,this[l+3]=u>>>24,l+4},c.prototype.writeInt32BE=function(u,l,v){return u=+u,l=l>>>0,v||f(this,u,l,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[l]=u>>>24,this[l+1]=u>>>16,this[l+2]=u>>>8,this[l+3]=u&255,l+4},c.prototype.writeBigInt64LE=De(function(u,l=0){return E(this,u,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=De(function(u,l=0){return V(this,u,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(g,u,l,v,T,C){if(l+v>g.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function J(g,u,l,v,T){return u=+u,l=l>>>0,T||K(g,u,l,4),e.write(g,u,l,v,23,4),l+4}c.prototype.writeFloatLE=function(u,l,v){return J(this,u,l,!0,v)},c.prototype.writeFloatBE=function(u,l,v){return J(this,u,l,!1,v)};function mt(g,u,l,v,T){return u=+u,l=l>>>0,T||K(g,u,l,8),e.write(g,u,l,v,52,8),l+8}c.prototype.writeDoubleLE=function(u,l,v){return mt(this,u,l,!0,v)},c.prototype.writeDoubleBE=function(u,l,v){return mt(this,u,l,!1,v)},c.prototype.copy=function(u,l,v,T){if(!c.isBuffer(u))throw new TypeError("argument should be a Buffer");if(v||(v=0),!T&&T!==0&&(T=this.length),l>=u.length&&(l=u.length),l||(l=0),T>0&&T<v&&(T=v),T===v||u.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),u.length-l<T-v&&(T=u.length-l+v);const C=T-v;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,v,T):Uint8Array.prototype.set.call(u,this.subarray(v,T),l),C},c.prototype.fill=function(u,l,v,T){if(typeof u=="string"){if(typeof l=="string"?(T=l,l=0,v=this.length):typeof v=="string"&&(T=v,v=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!c.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(u.length===1){const P=u.charCodeAt(0);(T==="utf8"&&P<128||T==="latin1")&&(u=P)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(l<0||this.length<l||this.length<v)throw new RangeError("Out of range index");if(v<=l)return this;l=l>>>0,v=v===void 0?this.length:v>>>0,u||(u=0);let C;if(typeof u=="number")for(C=l;C<v;++C)this[C]=u;else{const P=c.isBuffer(u)?u:c.from(u,T),pt=P.length;if(pt===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(C=0;C<v-l;++C)this[C+l]=P[C%pt]}return this};const lt={};function ut(g,u,l){lt[g]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(g,u){return`The "${g}" argument must be of type number. Received type ${typeof u}`},TypeError),ut("ERR_OUT_OF_RANGE",function(g,u,l){let v=`The value of "${g}" is out of range.`,T=l;return Number.isInteger(l)&&Math.abs(l)>2**32?T=Nt(String(l)):typeof l=="bigint"&&(T=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(T=Nt(T)),T+="n"),v+=` It must be ${u}. Received ${T}`,v},RangeError);function Nt(g){let u="",l=g.length;const v=g[0]==="-"?1:0;for(;l>=v+4;l-=3)u=`_${g.slice(l-3,l)}${u}`;return`${g.slice(0,l)}${u}`}function Et(g,u,l){Le(u,"offset"),(g[u]===void 0||g[u+l]===void 0)&&Bt(u,g.length-(l+1))}function St(g,u,l,v,T,C){if(g>l||g<u){const P=typeof u=="bigint"?"n":"";let pt;throw u===0||u===BigInt(0)?pt=`>= 0${P} and < 2${P} ** ${(C+1)*8}${P}`:pt=`>= -(2${P} ** ${(C+1)*8-1}${P}) and < 2 ** ${(C+1)*8-1}${P}`,new lt.ERR_OUT_OF_RANGE("value",pt,g)}Et(v,T,C)}function Le(g,u){if(typeof g!="number")throw new lt.ERR_INVALID_ARG_TYPE(u,"number",g)}function Bt(g,u,l){throw Math.floor(g)!==g?(Le(g,l),new lt.ERR_OUT_OF_RANGE("offset","an integer",g)):u<0?new lt.ERR_BUFFER_OUT_OF_BOUNDS:new lt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,g)}const Ot=/[^+/0-9A-Za-z-_]/g;function wr(g){if(g=g.split("=")[0],g=g.trim().replace(Ot,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function Rt(g,u){u=u||1/0;let l;const v=g.length;let T=null;const C=[];for(let P=0;P<v;++P){if(l=g.charCodeAt(P),l>55295&&l<57344){if(!T){if(l>56319){(u-=3)>-1&&C.push(239,191,189);continue}else if(P+1===v){(u-=3)>-1&&C.push(239,191,189);continue}T=l;continue}if(l<56320){(u-=3)>-1&&C.push(239,191,189),T=l;continue}l=(T-55296<<10|l-56320)+65536}else T&&(u-=3)>-1&&C.push(239,191,189);if(T=null,l<128){if((u-=1)<0)break;C.push(l)}else if(l<2048){if((u-=2)<0)break;C.push(l>>6|192,l&63|128)}else if(l<65536){if((u-=3)<0)break;C.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((u-=4)<0)break;C.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return C}function Ft(g){const u=[];for(let l=0;l<g.length;++l)u.push(g.charCodeAt(l)&255);return u}function br(g,u){let l,v,T;const C=[];for(let P=0;P<g.length&&!((u-=2)<0);++P)l=g.charCodeAt(P),v=l>>8,T=l%256,C.push(T),C.push(v);return C}function Lt(g){return t.toByteArray(wr(g))}function kt(g,u,l,v){let T;for(T=0;T<v&&!(T+l>=u.length||T>=g.length);++T)u[T+l]=g[T];return T}function Ae(g,u){return g instanceof u||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===u.name}function Tt(g){return g!==g}const Pt=function(){const g="0123456789abcdef",u=new Array(256);for(let l=0;l<16;++l){const v=l*16;for(let T=0;T<16;++T)u[v+T]=g[l]+g[T]}return u}();function De(g){return typeof BigInt>"u"?Dt:g}function Dt(){throw new Error("BigInt not supported")}})(rt);window.Buffer||(window.Buffer=rt.Buffer);const Ii={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEFAULT_CLUSTER:"mainnet",VITE_OWNER_SOL_DOMAIN:"stonkystonkster.sol",VITE_OWNER_WALLET:"HeGffZqFhB9euhind4aJFWy8waLCppTkie4gvW8bQhzp",VITE_RPC_DEVNET:"https://api.devnet.solana.com",VITE_RPC_MAINNET:"https://mainnet.helius-rpc.com/?api-key=41701dab-24cf-4c52-8583-b60a3a8ddaac"},Tn=(r,t="")=>{var e;return(Ii==null?void 0:Ii[r])??((e=window.__ENV__)==null?void 0:e[r])??t},Ys=r=>r.split(",").map(t=>t.trim()).filter(Boolean),vt={DEFAULT_CLUSTER:Tn("VITE_DEFAULT_CLUSTER","mainnet"),TIP_DEST_SOL:Tn("VITE_OWNER_WALLET","HeGffZqFhB9euhind4aJFWy8waLCppTkie4gvW8bQhzp"),OWNER_SOL_DOMAIN:Tn("VITE_OWNER_SOL_DOMAIN",""),DEVNET_RPCS:(()=>{const r=Tn("VITE_RPC_DEVNET","");return r?Ys(r):["https://rpc.ankr.com/solana_devnet","https://api.devnet.solana.com"]})(),MAINNET_RPCS:(()=>{const r=Tn("VITE_RPC_MAINNET","");return r?Ys(r):["https://rpc.ankr.com/solana","https://solana.drpc.org","https://api.mainnet-beta.solana.com","https://solana-api.projectserum.com"]})(),MEMEGEN_API_KEY:Tn("VITE_MEMEGEN_API_KEY","")},Ln=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lr(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Qi(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Bn(r,...t){if(!lr(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error("Uint8Array expected of length "+t+", got length="+r.length)}function Ro(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Qi(r.outputLen),Qi(r.blockLen)}function Tr(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function _c(r,t){Bn(r);const e=t.outputLen;if(r.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}function Vn(...r){for(let t=0;t<r.length;t++)r[t].fill(0)}function Mi(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Ke(r,t){return r<<32-t|r>>>t}const To=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ac=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function bn(r){if(Bn(r),To)return r.toHex();let t="";for(let e=0;e<r.length;e++)t+=Ac[r[e]];return t}const Xe={_0:48,_9:57,A:65,F:70,a:97,f:102};function Xs(r){if(r>=Xe._0&&r<=Xe._9)return r-Xe._0;if(r>=Xe.A&&r<=Xe.F)return r-(Xe.A-10);if(r>=Xe.a&&r<=Xe.f)return r-(Xe.a-10)}function Lr(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(To)return Uint8Array.fromHex(r);const t=r.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(e);for(let s=0,i=0;s<e;s++,i+=2){const o=Xs(r.charCodeAt(i)),c=Xs(r.charCodeAt(i+1));if(o===void 0||c===void 0){const d=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+i)}n[s]=o*16+c}return n}function kc(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function ps(r){return typeof r=="string"&&(r=kc(r)),Bn(r),r}function He(...r){let t=0;for(let n=0;n<r.length;n++){const s=r[n];Bn(s),t+=s.length}const e=new Uint8Array(t);for(let n=0,s=0;n<r.length;n++){const i=r[n];e.set(i,s),s+=i.length}return e}class Lo{}function Co(r){const t=n=>r().update(ps(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function gs(r=32){if(Ln&&typeof Ln.getRandomValues=="function")return Ln.getRandomValues(new Uint8Array(r));if(Ln&&typeof Ln.randomBytes=="function")return Uint8Array.from(Ln.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function Ic(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(e>>s&i),c=Number(e&i),d=n?4:0,w=n?0:4;r.setUint32(t+d,o,n),r.setUint32(t+w,c,n)}function Mc(r,t,e){return r&t^~r&e}function Rc(r,t,e){return r&t^r&e^t&e}class Uo extends Lo{constructor(t,e,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Mi(this.buffer)}update(t){Tr(this),t=ps(t),Bn(t);const{view:e,buffer:n,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const d=Mi(t);for(;s<=i-o;o+=s)this.process(d,o);continue}n.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Tr(this),_c(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,Vn(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let A=o;A<s;A++)e[A]=0;Ic(n,s-8,BigInt(this.length*8),i),this.process(n,0);const c=Mi(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=d/4,S=this.get();if(w>S.length)throw new Error("_sha2: outputLen bigger than state");for(let A=0;A<w;A++)c.setUint32(4*A,S[A],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:s,finished:i,destroyed:o,pos:c}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=c,s%e&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const sn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),me=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),vr=BigInt(2**32-1),Js=BigInt(32);function Tc(r,t=!1){return t?{h:Number(r&vr),l:Number(r>>Js&vr)}:{h:Number(r>>Js&vr)|0,l:Number(r&vr)|0}}function Lc(r,t=!1){const e=r.length;let n=new Uint32Array(e),s=new Uint32Array(e);for(let i=0;i<e;i++){const{h:o,l:c}=Tc(r[i],t);[n[i],s[i]]=[o,c]}return[n,s]}const Qs=(r,t,e)=>r>>>e,to=(r,t,e)=>r<<32-e|t>>>e,Cn=(r,t,e)=>r>>>e|t<<32-e,Un=(r,t,e)=>r<<32-e|t>>>e,xr=(r,t,e)=>r<<64-e|t>>>e-32,Er=(r,t,e)=>r>>>e-32|t<<64-e;function Je(r,t,e,n){const s=(t>>>0)+(n>>>0);return{h:r+e+(s/2**32|0)|0,l:s|0}}const Cc=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),Uc=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,Nc=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),Oc=(r,t,e,n,s)=>t+e+n+s+(r/2**32|0)|0,Fc=(r,t,e,n,s)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),Pc=(r,t,e,n,s,i)=>t+e+n+s+i+(r/2**32|0)|0,Dc=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),on=new Uint32Array(64);class qc extends Uo{constructor(t=32){super(64,t,8,!1),this.A=sn[0]|0,this.B=sn[1]|0,this.C=sn[2]|0,this.D=sn[3]|0,this.E=sn[4]|0,this.F=sn[5]|0,this.G=sn[6]|0,this.H=sn[7]|0}get(){const{A:t,B:e,C:n,D:s,E:i,F:o,G:c,H:d}=this;return[t,e,n,s,i,o,c,d]}set(t,e,n,s,i,o,c,d){this.A=t|0,this.B=e|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=d|0}process(t,e){for(let A=0;A<16;A++,e+=4)on[A]=t.getUint32(e,!1);for(let A=16;A<64;A++){const k=on[A-15],B=on[A-2],I=Ke(k,7)^Ke(k,18)^k>>>3,R=Ke(B,17)^Ke(B,19)^B>>>10;on[A]=R+on[A-7]+I+on[A-16]|0}let{A:n,B:s,C:i,D:o,E:c,F:d,G:w,H:S}=this;for(let A=0;A<64;A++){const k=Ke(c,6)^Ke(c,11)^Ke(c,25),B=S+k+Mc(c,d,w)+Dc[A]+on[A]|0,R=(Ke(n,2)^Ke(n,13)^Ke(n,22))+Rc(n,s,i)|0;S=w,w=d,d=c,c=o+B|0,o=i,i=s,s=n,n=B+R|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,d=d+this.F|0,w=w+this.G|0,S=S+this.H|0,this.set(n,s,i,o,c,d,w,S)}roundClean(){Vn(on)}destroy(){this.set(0,0,0,0,0,0,0,0),Vn(this.buffer)}}const No=Lc(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),zc=No[0],$c=No[1],an=new Uint32Array(80),cn=new Uint32Array(80);class Kc extends Uo{constructor(t=64){super(128,t,16,!1),this.Ah=me[0]|0,this.Al=me[1]|0,this.Bh=me[2]|0,this.Bl=me[3]|0,this.Ch=me[4]|0,this.Cl=me[5]|0,this.Dh=me[6]|0,this.Dl=me[7]|0,this.Eh=me[8]|0,this.El=me[9]|0,this.Fh=me[10]|0,this.Fl=me[11]|0,this.Gh=me[12]|0,this.Gl=me[13]|0,this.Hh=me[14]|0,this.Hl=me[15]|0}get(){const{Ah:t,Al:e,Bh:n,Bl:s,Ch:i,Cl:o,Dh:c,Dl:d,Eh:w,El:S,Fh:A,Fl:k,Gh:B,Gl:I,Hh:R,Hl:L}=this;return[t,e,n,s,i,o,c,d,w,S,A,k,B,I,R,L]}set(t,e,n,s,i,o,c,d,w,S,A,k,B,I,R,L){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=d|0,this.Eh=w|0,this.El=S|0,this.Fh=A|0,this.Fl=k|0,this.Gh=B|0,this.Gl=I|0,this.Hh=R|0,this.Hl=L|0}process(t,e){for(let F=0;F<16;F++,e+=4)an[F]=t.getUint32(e),cn[F]=t.getUint32(e+=4);for(let F=16;F<80;F++){const W=an[F-15]|0,Q=cn[F-15]|0,it=Cn(W,Q,1)^Cn(W,Q,8)^Qs(W,Q,7),et=Un(W,Q,1)^Un(W,Q,8)^to(W,Q,7),X=an[F-2]|0,D=cn[F-2]|0,G=Cn(X,D,19)^xr(X,D,61)^Qs(X,D,6),Z=Un(X,D,19)^Er(X,D,61)^to(X,D,6),tt=Nc(et,Z,cn[F-7],cn[F-16]),m=Oc(tt,it,G,an[F-7],an[F-16]);an[F]=m|0,cn[F]=tt|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:c,Cl:d,Dh:w,Dl:S,Eh:A,El:k,Fh:B,Fl:I,Gh:R,Gl:L,Hh:U,Hl:q}=this;for(let F=0;F<80;F++){const W=Cn(A,k,14)^Cn(A,k,18)^xr(A,k,41),Q=Un(A,k,14)^Un(A,k,18)^Er(A,k,41),it=A&B^~A&R,et=k&I^~k&L,X=Fc(q,Q,et,$c[F],cn[F]),D=Pc(X,U,W,it,zc[F],an[F]),G=X|0,Z=Cn(n,s,28)^xr(n,s,34)^xr(n,s,39),tt=Un(n,s,28)^Er(n,s,34)^Er(n,s,39),m=n&i^n&c^i&c,a=s&o^s&d^o&d;U=R|0,q=L|0,R=B|0,L=I|0,B=A|0,I=k|0,{h:A,l:k}=Je(w|0,S|0,D|0,G|0),w=c|0,S=d|0,c=i|0,d=o|0,i=n|0,o=s|0;const h=Cc(G,tt,a);n=Uc(h,D,Z,m),s=h|0}({h:n,l:s}=Je(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Je(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l:d}=Je(this.Ch|0,this.Cl|0,c|0,d|0),{h:w,l:S}=Je(this.Dh|0,this.Dl|0,w|0,S|0),{h:A,l:k}=Je(this.Eh|0,this.El|0,A|0,k|0),{h:B,l:I}=Je(this.Fh|0,this.Fl|0,B|0,I|0),{h:R,l:L}=Je(this.Gh|0,this.Gl|0,R|0,L|0),{h:U,l:q}=Je(this.Hh|0,this.Hl|0,U|0,q|0),this.set(n,s,i,o,c,d,w,S,A,k,B,I,R,L,U,q)}roundClean(){Vn(an,cn)}destroy(){Vn(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Oo=Co(()=>new qc),Wc=Co(()=>new Kc);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ms=BigInt(0),ts=BigInt(1);function xn(r,t=""){if(typeof r!="boolean"){const e=t&&`"${t}"`;throw new Error(e+"expected boolean, got type="+typeof r)}return r}function qe(r,t,e=""){const n=lr(r),s=r==null?void 0:r.length,i=t!==void 0;if(!n||i&&s!==t){const o=e&&`"${e}" `,c=i?` of length ${t}`:"",d=n?`length=${s}`:`type=${typeof r}`;throw new Error(o+"expected Uint8Array"+c+", got "+d)}return r}function Sr(r){const t=r.toString(16);return t.length&1?"0"+t:t}function Fo(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?ms:BigInt("0x"+r)}function Jr(r){return Fo(bn(r))}function or(r){return Bn(r),Fo(bn(Uint8Array.from(r).reverse()))}function ys(r,t){return Lr(r.toString(16).padStart(t*2,"0"))}function Po(r,t){return ys(r,t).reverse()}function zt(r,t,e){let n;if(typeof t=="string")try{n=Lr(t)}catch(i){throw new Error(r+" must be hex string or Uint8Array, cause: "+i)}else if(lr(t))n=Uint8Array.from(t);else throw new Error(r+" must be hex string or Uint8Array");const s=n.length;if(typeof e=="number"&&s!==e)throw new Error(r+" of length "+e+" expected, got "+s);return n}function eo(r){return Uint8Array.from(r)}const Ri=r=>typeof r=="bigint"&&ms<=r;function Hc(r,t,e){return Ri(r)&&Ri(t)&&Ri(e)&&t<=r&&r<e}function es(r,t,e,n){if(!Hc(t,e,n))throw new Error("expected valid "+r+": "+e+" <= n < "+n+", got "+t)}function Do(r){let t;for(t=0;r>ms;r>>=ts,t+=1);return t}const hr=r=>(ts<<BigInt(r))-ts;function Vc(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");const n=B=>new Uint8Array(B),s=B=>Uint8Array.of(B);let i=n(r),o=n(r),c=0;const d=()=>{i.fill(1),o.fill(0),c=0},w=(...B)=>e(o,i,...B),S=(B=n(0))=>{o=w(s(0),B),i=w(),B.length!==0&&(o=w(s(1),B),i=w())},A=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let B=0;const I=[];for(;B<t;){i=w();const R=i.slice();I.push(R),B+=i.length}return He(...I)};return(B,I)=>{d(),S(B);let R;for(;!(R=I(A()));)S();return d(),R}}function dr(r,t,e={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function n(s,i,o){const c=r[s];if(o&&c===void 0)return;const d=typeof c;if(d!==i||c===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${d}`)}Object.entries(t).forEach(([s,i])=>n(s,i,!1)),Object.entries(e).forEach(([s,i])=>n(s,i,!0))}function Cr(r){const t=new WeakMap;return(e,...n)=>{const s=t.get(e);if(s!==void 0)return s;const i=r(e,...n);return t.set(e,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _e=BigInt(0),ge=BigInt(1),mn=BigInt(2),qo=BigInt(3),zo=BigInt(4),$o=BigInt(5),jc=BigInt(7),Ko=BigInt(8),Gc=BigInt(9),Wo=BigInt(16);function ae(r,t){const e=r%t;return e>=_e?e:t+e}function qt(r,t,e){let n=r;for(;t-- >_e;)n*=n,n%=e;return n}function no(r,t){if(r===_e)throw new Error("invert: expected non-zero number");if(t<=_e)throw new Error("invert: expected positive modulus, got "+t);let e=ae(r,t),n=t,s=_e,i=ge;for(;e!==_e;){const c=n/e,d=n%e,w=s-i*c;n=e,e=d,s=i,i=w}if(n!==ge)throw new Error("invert: does not exist");return ae(s,t)}function ws(r,t,e){if(!r.eql(r.sqr(t),e))throw new Error("Cannot find square root")}function Ho(r,t){const e=(r.ORDER+ge)/zo,n=r.pow(t,e);return ws(r,n,t),n}function Zc(r,t){const e=(r.ORDER-$o)/Ko,n=r.mul(t,mn),s=r.pow(n,e),i=r.mul(t,s),o=r.mul(r.mul(i,mn),s),c=r.mul(i,r.sub(o,r.ONE));return ws(r,c,t),c}function Yc(r){const t=_n(r),e=Vo(r),n=e(t,t.neg(t.ONE)),s=e(t,n),i=e(t,t.neg(n)),o=(r+jc)/Wo;return(c,d)=>{let w=c.pow(d,o),S=c.mul(w,n);const A=c.mul(w,s),k=c.mul(w,i),B=c.eql(c.sqr(S),d),I=c.eql(c.sqr(A),d);w=c.cmov(w,S,B),S=c.cmov(k,A,I);const R=c.eql(c.sqr(S),d),L=c.cmov(w,S,R);return ws(c,L,d),L}}function Vo(r){if(r<qo)throw new Error("sqrt is not defined for small field");let t=r-ge,e=0;for(;t%mn===_e;)t/=mn,e++;let n=mn;const s=_n(r);for(;ro(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(e===1)return Ho;let i=s.pow(n,t);const o=(t+ge)/mn;return function(d,w){if(d.is0(w))return w;if(ro(d,w)!==1)throw new Error("Cannot find square root");let S=e,A=d.mul(d.ONE,i),k=d.pow(w,t),B=d.pow(w,o);for(;!d.eql(k,d.ONE);){if(d.is0(k))return d.ZERO;let I=1,R=d.sqr(k);for(;!d.eql(R,d.ONE);)if(I++,R=d.sqr(R),I===S)throw new Error("Cannot find square root");const L=ge<<BigInt(S-I-1),U=d.pow(A,L);S=I,A=d.sqr(U),k=d.mul(k,A),B=d.mul(B,U)}return B}}function Xc(r){return r%zo===qo?Ho:r%Ko===$o?Zc:r%Wo===Gc?Yc(r):Vo(r)}const Jc=(r,t)=>(ae(r,t)&ge)===ge,Qc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tu(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},e=Qc.reduce((n,s)=>(n[s]="function",n),t);return dr(r,e),r}function eu(r,t,e){if(e<_e)throw new Error("invalid exponent, negatives unsupported");if(e===_e)return r.ONE;if(e===ge)return t;let n=r.ONE,s=t;for(;e>_e;)e&ge&&(n=r.mul(n,s)),s=r.sqr(s),e>>=ge;return n}function jo(r,t,e=!1){const n=new Array(t.length).fill(e?r.ZERO:void 0),s=t.reduce((o,c,d)=>r.is0(c)?o:(n[d]=o,r.mul(o,c)),r.ONE),i=r.inv(s);return t.reduceRight((o,c,d)=>r.is0(c)?o:(n[d]=r.mul(o,n[d]),r.mul(o,c)),i),n}function ro(r,t){const e=(r.ORDER-ge)/mn,n=r.pow(t,e),s=r.eql(n,r.ONE),i=r.eql(n,r.ZERO),o=r.eql(n,r.neg(r.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Go(r,t){t!==void 0&&Qi(t);const e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function _n(r,t,e=!1,n={}){if(r<=_e)throw new Error("invalid field: expected ORDER > 0, got "+r);let s,i,o=!1,c;if(typeof t=="object"&&t!=null){if(n.sqrt||e)throw new Error("cannot specify opts in two arguments");const k=t;k.BITS&&(s=k.BITS),k.sqrt&&(i=k.sqrt),typeof k.isLE=="boolean"&&(e=k.isLE),typeof k.modFromBytes=="boolean"&&(o=k.modFromBytes),c=k.allowedLengths}else typeof t=="number"&&(s=t),n.sqrt&&(i=n.sqrt);const{nBitLength:d,nByteLength:w}=Go(r,s);if(w>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let S;const A=Object.freeze({ORDER:r,isLE:e,BITS:d,BYTES:w,MASK:hr(d),ZERO:_e,ONE:ge,allowedLengths:c,create:k=>ae(k,r),isValid:k=>{if(typeof k!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof k);return _e<=k&&k<r},is0:k=>k===_e,isValidNot0:k=>!A.is0(k)&&A.isValid(k),isOdd:k=>(k&ge)===ge,neg:k=>ae(-k,r),eql:(k,B)=>k===B,sqr:k=>ae(k*k,r),add:(k,B)=>ae(k+B,r),sub:(k,B)=>ae(k-B,r),mul:(k,B)=>ae(k*B,r),pow:(k,B)=>eu(A,k,B),div:(k,B)=>ae(k*no(B,r),r),sqrN:k=>k*k,addN:(k,B)=>k+B,subN:(k,B)=>k-B,mulN:(k,B)=>k*B,inv:k=>no(k,r),sqrt:i||(k=>(S||(S=Xc(r)),S(A,k))),toBytes:k=>e?Po(k,w):ys(k,w),fromBytes:(k,B=!0)=>{if(c){if(!c.includes(k.length)||k.length>w)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+k.length);const R=new Uint8Array(w);R.set(k,e?0:R.length-k.length),k=R}if(k.length!==w)throw new Error("Field.fromBytes: expected "+w+" bytes, got "+k.length);let I=e?or(k):Jr(k);if(o&&(I=ae(I,r)),!B&&!A.isValid(I))throw new Error("invalid field element: outside of range 0..ORDER");return I},invertBatch:k=>jo(A,k),cmov:(k,B,I)=>I?B:k});return Object.freeze(A)}function Zo(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Yo(r){const t=Zo(r);return t+Math.ceil(t/2)}function nu(r,t,e=!1){const n=r.length,s=Zo(t),i=Yo(t);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=e?or(r):Jr(r),c=ae(o,t-ge)+ge;return e?Po(c,s):ys(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jn=BigInt(0),yn=BigInt(1);function Ur(r,t){const e=t.negate();return r?e:t}function wn(r,t){const e=jo(r.Fp,t.map(n=>n.Z));return t.map((n,s)=>r.fromAffine(n.toAffine(e[s])))}function Xo(r,t){if(!Number.isSafeInteger(r)||r<=0||r>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+r)}function Ti(r,t){Xo(r,t);const e=Math.ceil(t/r)+1,n=2**(r-1),s=2**r,i=hr(r),o=BigInt(r);return{windows:e,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function io(r,t,e){const{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=e;let c=Number(r&s),d=r>>o;c>n&&(c-=i,d+=yn);const w=t*n,S=w+Math.abs(c)-1,A=c===0,k=c<0,B=t%2!==0;return{nextN:d,offset:S,isZero:A,isNeg:k,isNegF:B,offsetF:w}}function ru(r,t){if(!Array.isArray(r))throw new Error("array expected");r.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function iu(r,t){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}const Li=new WeakMap,Jo=new WeakMap;function Ci(r){return Jo.get(r)||1}function so(r){if(r!==jn)throw new Error("invalid wNAF")}class Qo{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,n=this.ZERO){let s=t;for(;e>jn;)e&yn&&(n=n.add(s)),s=s.double(),e>>=yn;return n}precomputeWindow(t,e){const{windows:n,windowSize:s}=Ti(e,this.bits),i=[];let o=t,c=o;for(let d=0;d<n;d++){c=o,i.push(c);for(let w=1;w<s;w++)c=c.add(o),i.push(c);o=c.double()}return i}wNAF(t,e,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=Ti(t,this.bits);for(let c=0;c<o.windows;c++){const{nextN:d,offset:w,isZero:S,isNeg:A,isNegF:k,offsetF:B}=io(n,c,o);n=d,S?i=i.add(Ur(k,e[B])):s=s.add(Ur(A,e[w]))}return so(n),{p:s,f:i}}wNAFUnsafe(t,e,n,s=this.ZERO){const i=Ti(t,this.bits);for(let o=0;o<i.windows&&n!==jn;o++){const{nextN:c,offset:d,isZero:w,isNeg:S}=io(n,o,i);if(n=c,!w){const A=e[d];s=s.add(S?A.negate():A)}}return so(n),s}getPrecomputes(t,e,n){let s=Li.get(e);return s||(s=this.precomputeWindow(e,t),t!==1&&(typeof n=="function"&&(s=n(s)),Li.set(e,s))),s}cached(t,e,n){const s=Ci(t);return this.wNAF(s,this.getPrecomputes(s,t,n),e)}unsafe(t,e,n,s){const i=Ci(t);return i===1?this._unsafeLadder(t,e,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,n),e,s)}createCache(t,e){Xo(e,this.bits),Jo.set(t,e),Li.delete(t)}hasCache(t){return Ci(t)!==1}}function su(r,t,e,n){let s=t,i=r.ZERO,o=r.ZERO;for(;e>jn||n>jn;)e&yn&&(i=i.add(s)),n&yn&&(o=o.add(s)),s=s.double(),e>>=yn,n>>=yn;return{p1:i,p2:o}}function ta(r,t,e,n){ru(e,r),iu(n,t);const s=e.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=r.ZERO,c=Do(BigInt(s));let d=1;c>12?d=c-3:c>4?d=c-2:c>0&&(d=2);const w=hr(d),S=new Array(Number(w)+1).fill(o),A=Math.floor((t.BITS-1)/d)*d;let k=o;for(let B=A;B>=0;B-=d){S.fill(o);for(let R=0;R<i;R++){const L=n[R],U=Number(L>>BigInt(B)&w);S[U]=S[U].add(e[R])}let I=o;for(let R=S.length-1,L=o;R>0;R--)L=L.add(S[R]),I=I.add(L);if(k=k.add(I),B!==0)for(let R=0;R<d;R++)k=k.double()}return k}function oo(r,t,e){if(t){if(t.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return tu(t),t}else return _n(r,{isLE:e})}function ea(r,t,e={},n){if(n===void 0&&(n=r==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${r} CURVE object`);for(const d of["p","n","h"]){const w=t[d];if(!(typeof w=="bigint"&&w>jn))throw new Error(`CURVE.${d} must be positive bigint`)}const s=oo(t.p,e.Fp,n),i=oo(t.n,e.Fn,n),c=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const d of c)if(!s.isValid(t[d]))throw new Error(`CURVE.${d} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const un=BigInt(0),ce=BigInt(1),Ui=BigInt(2),ou=BigInt(8);function au(r,t,e,n){const s=r.sqr(e),i=r.sqr(n),o=r.add(r.mul(t.a,s),i),c=r.add(r.ONE,r.mul(t.d,r.mul(s,i)));return r.eql(o,c)}function cu(r,t={}){const e=ea("edwards",r,t,t.FpFnLE),{Fp:n,Fn:s}=e;let i=e.CURVE;const{h:o}=i;dr(t,{},{uvRatio:"function"});const c=Ui<<BigInt(s.BYTES*8)-ce,d=L=>n.create(L),w=t.uvRatio||((L,U)=>{try{return{isValid:!0,value:n.sqrt(n.div(L,U))}}catch{return{isValid:!1,value:un}}});if(!au(n,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function S(L,U,q=!1){const F=q?ce:un;return es("coordinate "+L,U,F,c),U}function A(L){if(!(L instanceof I))throw new Error("ExtendedPoint expected")}const k=Cr((L,U)=>{const{X:q,Y:F,Z:W}=L,Q=L.is0();U==null&&(U=Q?ou:n.inv(W));const it=d(q*U),et=d(F*U),X=n.mul(W,U);if(Q)return{x:un,y:ce};if(X!==ce)throw new Error("invZ was invalid");return{x:it,y:et}}),B=Cr(L=>{const{a:U,d:q}=i;if(L.is0())throw new Error("bad point: ZERO");const{X:F,Y:W,Z:Q,T:it}=L,et=d(F*F),X=d(W*W),D=d(Q*Q),G=d(D*D),Z=d(et*U),tt=d(D*d(Z+X)),m=d(G+d(q*d(et*X)));if(tt!==m)throw new Error("bad point: equation left != right (1)");const a=d(F*W),h=d(Q*it);if(a!==h)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(U,q,F,W){this.X=S("x",U),this.Y=S("y",q),this.Z=S("z",F,!0),this.T=S("t",W),Object.freeze(this)}static CURVE(){return i}static fromAffine(U){if(U instanceof I)throw new Error("extended point not allowed");const{x:q,y:F}=U||{};return S("x",q),S("y",F),new I(q,F,ce,d(q*F))}static fromBytes(U,q=!1){const F=n.BYTES,{a:W,d:Q}=i;U=eo(qe(U,F,"point")),xn(q,"zip215");const it=eo(U),et=U[F-1];it[F-1]=et&-129;const X=or(it),D=q?c:n.ORDER;es("point.y",X,un,D);const G=d(X*X),Z=d(G-ce),tt=d(Q*G-W);let{isValid:m,value:a}=w(Z,tt);if(!m)throw new Error("bad point: invalid y coordinate");const h=(a&ce)===ce,p=(et&128)!==0;if(!q&&a===un&&p)throw new Error("bad point: x=0 and x_0=1");return p!==h&&(a=d(-a)),I.fromAffine({x:a,y:X})}static fromHex(U,q=!1){return I.fromBytes(zt("point",U),q)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(U=8,q=!0){return R.createCache(this,U),q||this.multiply(Ui),this}assertValidity(){B(this)}equals(U){A(U);const{X:q,Y:F,Z:W}=this,{X:Q,Y:it,Z:et}=U,X=d(q*et),D=d(Q*W),G=d(F*et),Z=d(it*W);return X===D&&G===Z}is0(){return this.equals(I.ZERO)}negate(){return new I(d(-this.X),this.Y,this.Z,d(-this.T))}double(){const{a:U}=i,{X:q,Y:F,Z:W}=this,Q=d(q*q),it=d(F*F),et=d(Ui*d(W*W)),X=d(U*Q),D=q+F,G=d(d(D*D)-Q-it),Z=X+it,tt=Z-et,m=X-it,a=d(G*tt),h=d(Z*m),p=d(G*m),b=d(tt*Z);return new I(a,h,b,p)}add(U){A(U);const{a:q,d:F}=i,{X:W,Y:Q,Z:it,T:et}=this,{X,Y:D,Z:G,T:Z}=U,tt=d(W*X),m=d(Q*D),a=d(et*F*Z),h=d(it*G),p=d((W+Q)*(X+D)-tt-m),b=h-a,x=h+a,_=d(m-q*tt),M=d(p*b),y=d(x*_),f=d(p*_),E=d(b*x);return new I(M,y,E,f)}subtract(U){return this.add(U.negate())}multiply(U){if(!s.isValidNot0(U))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:q,f:F}=R.cached(this,U,W=>wn(I,W));return wn(I,[q,F])[0]}multiplyUnsafe(U,q=I.ZERO){if(!s.isValid(U))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return U===un?I.ZERO:this.is0()||U===ce?this:R.unsafe(this,U,F=>wn(I,F),q)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return R.unsafe(this,i.n).is0()}toAffine(U){return k(this,U)}clearCofactor(){return o===ce?this:this.multiplyUnsafe(o)}toBytes(){const{x:U,y:q}=this.toAffine(),F=n.toBytes(q);return F[F.length-1]|=U&ce?128:0,F}toHex(){return bn(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(U){return wn(I,U)}static msm(U,q){return ta(I,s,U,q)}_setWindowSize(U){this.precompute(U)}toRawBytes(){return this.toBytes()}}I.BASE=new I(i.Gx,i.Gy,ce,d(i.Gx*i.Gy)),I.ZERO=new I(un,ce,ce,un),I.Fp=n,I.Fn=s;const R=new Qo(I,s.BITS);return I.BASE.precompute(8),I}function uu(r,t,e={}){if(typeof t!="function")throw new Error('"hash" function param is required');dr(e,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=e,{BASE:s,Fp:i,Fn:o}=r,c=e.randomBytes||gs,d=e.adjustScalarBytes||(D=>D),w=e.domain||((D,G,Z)=>{if(xn(Z,"phflag"),G.length||Z)throw new Error("Contexts/pre-hash are not supported");return D});function S(D){return o.create(or(D))}function A(D){const G=F.secretKey;D=zt("private key",D,G);const Z=zt("hashed private key",t(D),2*G),tt=d(Z.slice(0,G)),m=Z.slice(G,2*G),a=S(tt);return{head:tt,prefix:m,scalar:a}}function k(D){const{head:G,prefix:Z,scalar:tt}=A(D),m=s.multiply(tt),a=m.toBytes();return{head:G,prefix:Z,scalar:tt,point:m,pointBytes:a}}function B(D){return k(D).pointBytes}function I(D=Uint8Array.of(),...G){const Z=He(...G);return S(t(w(Z,zt("context",D),!!n)))}function R(D,G,Z={}){D=zt("message",D),n&&(D=n(D));const{prefix:tt,scalar:m,pointBytes:a}=k(G),h=I(Z.context,tt,D),p=s.multiply(h).toBytes(),b=I(Z.context,p,a,D),x=o.create(h+b*m);if(!o.isValid(x))throw new Error("sign failed: invalid s");const _=He(p,o.toBytes(x));return qe(_,F.signature,"result")}const L={zip215:!0};function U(D,G,Z,tt=L){const{context:m,zip215:a}=tt,h=F.signature;D=zt("signature",D,h),G=zt("message",G),Z=zt("publicKey",Z,F.publicKey),a!==void 0&&xn(a,"zip215"),n&&(G=n(G));const p=h/2,b=D.subarray(0,p),x=or(D.subarray(p,h));let _,M,y;try{_=r.fromBytes(Z,a),M=r.fromBytes(b,a),y=s.multiplyUnsafe(x)}catch{return!1}if(!a&&_.isSmallOrder())return!1;const f=I(m,M.toBytes(),_.toBytes(),G);return M.add(_.multiplyUnsafe(f)).subtract(y).clearCofactor().is0()}const q=i.BYTES,F={secretKey:q,publicKey:q,signature:2*q,seed:q};function W(D=c(F.seed)){return qe(D,F.seed,"seed")}function Q(D){const G=X.randomSecretKey(D);return{secretKey:G,publicKey:B(G)}}function it(D){return lr(D)&&D.length===o.BYTES}function et(D,G){try{return!!r.fromBytes(D,G)}catch{return!1}}const X={getExtendedPublicKey:k,randomSecretKey:W,isValidSecretKey:it,isValidPublicKey:et,toMontgomery(D){const{y:G}=r.fromBytes(D),Z=F.publicKey,tt=Z===32;if(!tt&&Z!==57)throw new Error("only defined for 25519 and 448");const m=tt?i.div(ce+G,ce-G):i.div(G-ce,G+ce);return i.toBytes(m)},toMontgomeryPriv(D){const G=F.secretKey;qe(D,G);const Z=t(D.subarray(0,G));return d(Z).subarray(0,G)},randomPrivateKey:W,precompute(D=8,G=r.BASE){return G.precompute(D,!1)}};return Object.freeze({keygen:Q,getPublicKey:B,sign:R,verify:U,utils:X,Point:r,lengths:F})}function fu(r){const t={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},e=r.Fp,n=_n(t.n,r.nBitLength,!0),s={Fp:e,Fn:n,uvRatio:r.uvRatio},i={randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:t,curveOpts:s,hash:r.hash,eddsaOpts:i}}function lu(r,t){const e=t.Point;return Object.assign({},t,{ExtendedPoint:e,CURVE:r,nBitLength:e.Fn.BITS,nByteLength:e.Fn.BYTES})}function hu(r){const{CURVE:t,curveOpts:e,hash:n,eddsaOpts:s}=fu(r),i=cu(t,e),o=uu(i,n,s);return lu(r,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const du=BigInt(1),ao=BigInt(2);BigInt(3);const pu=BigInt(5),gu=BigInt(8),bs=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),na={p:bs,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:gu,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function mu(r){const t=BigInt(10),e=BigInt(20),n=BigInt(40),s=BigInt(80),i=bs,c=r*r%i*r%i,d=qt(c,ao,i)*c%i,w=qt(d,du,i)*r%i,S=qt(w,pu,i)*w%i,A=qt(S,t,i)*S%i,k=qt(A,e,i)*A%i,B=qt(k,n,i)*k%i,I=qt(B,s,i)*B%i,R=qt(I,s,i)*B%i,L=qt(R,t,i)*S%i;return{pow_p_5_8:qt(L,ao,i)*r%i,b2:c}}function yu(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const co=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function wu(r,t){const e=bs,n=ae(t*t*t,e),s=ae(n*n*t,e),i=mu(r*s).pow_p_5_8;let o=ae(r*n*i,e);const c=ae(t*o*o,e),d=o,w=ae(o*co,e),S=c===r,A=c===ae(-r,e),k=c===ae(-r*co,e);return S&&(o=d),(A||k)&&(o=w),Jc(o,e)&&(o=ae(-o,e)),{isValid:S||A,value:o}}const bu=_n(na.p,{isLE:!0}),vu={...na,Fp:bu,hash:Wc,adjustScalarBytes:yu,uvRatio:wu},pr=hu(vu);var vs={exports:{}};const xu={},Eu=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),Su=hs(Eu);vs.exports;(function(r){(function(t,e){function n(m,a){if(!m)throw new Error(a||"Assertion failed")}function s(m,a){m.super_=a;var h=function(){};h.prototype=a.prototype,m.prototype=new h,m.prototype.constructor=m}function i(m,a,h){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(m||0,a||10,h||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Su.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,h){return a.cmp(h)>0?a:h},i.min=function(a,h){return a.cmp(h)<0?a:h},i.prototype._init=function(a,h,p){if(typeof a=="number")return this._initNumber(a,h,p);if(typeof a=="object")return this._initArray(a,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var b=0;a[0]==="-"&&(b++,this.negative=1),b<a.length&&(h===16?this._parseHex(a,b,p):(this._parseBase(a,h,b),p==="le"&&this._initArray(this.toArray(),h,p)))},i.prototype._initNumber=function(a,h,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},i.prototype._initArray=function(a,h,p){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var x,_,M=0;if(p==="be")for(b=a.length-1,x=0;b>=0;b-=3)_=a[b]|a[b-1]<<8|a[b-2]<<16,this.words[x]|=_<<M&67108863,this.words[x+1]=_>>>26-M&67108863,M+=24,M>=26&&(M-=26,x++);else if(p==="le")for(b=0,x=0;b<a.length;b+=3)_=a[b]|a[b+1]<<8|a[b+2]<<16,this.words[x]|=_<<M&67108863,this.words[x+1]=_>>>26-M&67108863,M+=24,M>=26&&(M-=26,x++);return this._strip()};function c(m,a){var h=m.charCodeAt(a);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+m)}function d(m,a,h){var p=c(m,h);return h-1>=a&&(p|=c(m,h-1)<<4),p}i.prototype._parseHex=function(a,h,p){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var x=0,_=0,M;if(p==="be")for(b=a.length-1;b>=h;b-=2)M=d(a,h,b)<<x,this.words[_]|=M&67108863,x>=18?(x-=18,_+=1,this.words[_]|=M>>>26):x+=8;else{var y=a.length-h;for(b=y%2===0?h+1:h;b<a.length;b+=2)M=d(a,h,b)<<x,this.words[_]|=M&67108863,x>=18?(x-=18,_+=1,this.words[_]|=M>>>26):x+=8}this._strip()};function w(m,a,h,p){for(var b=0,x=0,_=Math.min(m.length,h),M=a;M<_;M++){var y=m.charCodeAt(M)-48;b*=p,y>=49?x=y-49+10:y>=17?x=y-17+10:x=y,n(y>=0&&x<p,"Invalid character"),b+=x}return b}i.prototype._parseBase=function(a,h,p){this.words=[0],this.length=1;for(var b=0,x=1;x<=67108863;x*=h)b++;b--,x=x/h|0;for(var _=a.length-p,M=_%b,y=Math.min(_,_-M)+p,f=0,E=p;E<y;E+=b)f=w(a,E,E+b,h),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(M!==0){var V=1;for(f=w(a,E,a.length,h),E=0;E<M;E++)V*=h;this.imuln(V),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red};function S(m,a){m.words=a.words,m.length=a.length,m.negative=a.negative,m.red=a.red}if(i.prototype._move=function(a){S(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],B=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,h){a=a||10,h=h|0||1;var p;if(a===16||a==="hex"){p="";for(var b=0,x=0,_=0;_<this.length;_++){var M=this.words[_],y=((M<<b|x)&16777215).toString(16);x=M>>>24-b&16777215,b+=2,b>=26&&(b-=26,_--),x!==0||_!==this.length-1?p=k[6-y.length]+y+p:p=y+p}for(x!==0&&(p=x.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var f=B[a],E=I[a];p="";var V=this.clone();for(V.negative=0;!V.isZero();){var K=V.modrn(E).toString(a);V=V.idivn(E),V.isZero()?p=K+p:p=k[f-K.length]+K+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(a,h){return this.toArrayLike(o,a,h)}),i.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)};var R=function(a,h){return a.allocUnsafe?a.allocUnsafe(h):new a(h)};i.prototype.toArrayLike=function(a,h,p){this._strip();var b=this.byteLength(),x=p||Math.max(1,b);n(b<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var _=R(a,x),M=h==="le"?"LE":"BE";return this["_toArrayLike"+M](_,b),_},i.prototype._toArrayLikeLE=function(a,h){for(var p=0,b=0,x=0,_=0;x<this.length;x++){var M=this.words[x]<<_|b;a[p++]=M&255,p<a.length&&(a[p++]=M>>8&255),p<a.length&&(a[p++]=M>>16&255),_===6?(p<a.length&&(a[p++]=M>>24&255),b=0,_=0):(b=M>>>24,_+=2)}if(p<a.length)for(a[p++]=b;p<a.length;)a[p++]=0},i.prototype._toArrayLikeBE=function(a,h){for(var p=a.length-1,b=0,x=0,_=0;x<this.length;x++){var M=this.words[x]<<_|b;a[p--]=M&255,p>=0&&(a[p--]=M>>8&255),p>=0&&(a[p--]=M>>16&255),_===6?(p>=0&&(a[p--]=M>>24&255),b=0,_=0):(b=M>>>24,_+=2)}if(p>=0)for(a[p--]=b;p>=0;)a[p--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var h=a,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},i.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function L(m){for(var a=new Array(m.bitLength()),h=0;h<a.length;h++){var p=h/26|0,b=h%26;a[h]=m.words[p]>>>b&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this._strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=h.length,this._strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var h,p;this.length>a.length?(h=this,p=a):(h=a,p=this);for(var b=0;b<p.length;b++)this.words[b]=h.words[b]^p.words[b];if(this!==h)for(;b<h.length;b++)this.words[b]=h.words[b];return this.length=h.length,this._strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,p=a%26;this._expand(h),p>0&&h--;for(var b=0;b<h;b++)this.words[b]=~this.words[b]&67108863;return p>0&&(this.words[b]=~this.words[b]&67108863>>26-p),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,h){n(typeof a=="number"&&a>=0);var p=a/26|0,b=a%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<b:this.words[p]=this.words[p]&~(1<<b),this._strip()},i.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var p,b;this.length>a.length?(p=this,b=a):(p=a,b=this);for(var x=0,_=0;_<b.length;_++)h=(p.words[_]|0)+(b.words[_]|0)+x,this.words[_]=h&67108863,x=h>>>26;for(;x!==0&&_<p.length;_++)h=(p.words[_]|0)+x,this.words[_]=h&67108863,x=h>>>26;if(this.length=p.length,x!==0)this.words[this.length]=x,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},i.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,x;p>0?(b=this,x=a):(b=a,x=this);for(var _=0,M=0;M<x.length;M++)h=(b.words[M]|0)-(x.words[M]|0)+_,_=h>>26,this.words[M]=h&67108863;for(;_!==0&&M<b.length;M++)h=(b.words[M]|0)+_,_=h>>26,this.words[M]=h&67108863;if(_===0&&M<b.length&&b!==this)for(;M<b.length;M++)this.words[M]=b.words[M];return this.length=Math.max(this.length,M),b!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function U(m,a,h){h.negative=a.negative^m.negative;var p=m.length+a.length|0;h.length=p,p=p-1|0;var b=m.words[0]|0,x=a.words[0]|0,_=b*x,M=_&67108863,y=_/67108864|0;h.words[0]=M;for(var f=1;f<p;f++){for(var E=y>>>26,V=y&67108863,K=Math.min(f,a.length-1),J=Math.max(0,f-m.length+1);J<=K;J++){var mt=f-J|0;b=m.words[mt]|0,x=a.words[J]|0,_=b*x+V,E+=_/67108864|0,V=_&67108863}h.words[f]=V|0,y=E|0}return y!==0?h.words[f]=y|0:h.length--,h._strip()}var q=function(a,h,p){var b=a.words,x=h.words,_=p.words,M=0,y,f,E,V=b[0]|0,K=V&8191,J=V>>>13,mt=b[1]|0,lt=mt&8191,ut=mt>>>13,Nt=b[2]|0,Et=Nt&8191,St=Nt>>>13,Le=b[3]|0,Bt=Le&8191,Ot=Le>>>13,wr=b[4]|0,Rt=wr&8191,Ft=wr>>>13,br=b[5]|0,Lt=br&8191,kt=br>>>13,Ae=b[6]|0,Tt=Ae&8191,Pt=Ae>>>13,De=b[7]|0,Dt=De&8191,g=De>>>13,u=b[8]|0,l=u&8191,v=u>>>13,T=b[9]|0,C=T&8191,P=T>>>13,pt=x[0]|0,dt=pt&8191,ht=pt>>>13,It=x[1]|0,ft=It&8191,Kt=It>>>13,$s=x[2]|0,Wt=$s&8191,Ht=$s>>>13,Ks=x[3]|0,Vt=Ks&8191,jt=Ks>>>13,Ws=x[4]|0,Gt=Ws&8191,Zt=Ws>>>13,Hs=x[5]|0,Yt=Hs&8191,Xt=Hs>>>13,Vs=x[6]|0,Jt=Vs&8191,Qt=Vs>>>13,js=x[7]|0,te=js&8191,ee=js>>>13,Gs=x[8]|0,ne=Gs&8191,re=Gs>>>13,Zs=x[9]|0,ie=Zs&8191,se=Zs>>>13;p.negative=a.negative^h.negative,p.length=19,y=Math.imul(K,dt),f=Math.imul(K,ht),f=f+Math.imul(J,dt)|0,E=Math.imul(J,ht);var ci=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(ci>>>26)|0,ci&=67108863,y=Math.imul(lt,dt),f=Math.imul(lt,ht),f=f+Math.imul(ut,dt)|0,E=Math.imul(ut,ht),y=y+Math.imul(K,ft)|0,f=f+Math.imul(K,Kt)|0,f=f+Math.imul(J,ft)|0,E=E+Math.imul(J,Kt)|0;var ui=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(ui>>>26)|0,ui&=67108863,y=Math.imul(Et,dt),f=Math.imul(Et,ht),f=f+Math.imul(St,dt)|0,E=Math.imul(St,ht),y=y+Math.imul(lt,ft)|0,f=f+Math.imul(lt,Kt)|0,f=f+Math.imul(ut,ft)|0,E=E+Math.imul(ut,Kt)|0,y=y+Math.imul(K,Wt)|0,f=f+Math.imul(K,Ht)|0,f=f+Math.imul(J,Wt)|0,E=E+Math.imul(J,Ht)|0;var fi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(fi>>>26)|0,fi&=67108863,y=Math.imul(Bt,dt),f=Math.imul(Bt,ht),f=f+Math.imul(Ot,dt)|0,E=Math.imul(Ot,ht),y=y+Math.imul(Et,ft)|0,f=f+Math.imul(Et,Kt)|0,f=f+Math.imul(St,ft)|0,E=E+Math.imul(St,Kt)|0,y=y+Math.imul(lt,Wt)|0,f=f+Math.imul(lt,Ht)|0,f=f+Math.imul(ut,Wt)|0,E=E+Math.imul(ut,Ht)|0,y=y+Math.imul(K,Vt)|0,f=f+Math.imul(K,jt)|0,f=f+Math.imul(J,Vt)|0,E=E+Math.imul(J,jt)|0;var li=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(li>>>26)|0,li&=67108863,y=Math.imul(Rt,dt),f=Math.imul(Rt,ht),f=f+Math.imul(Ft,dt)|0,E=Math.imul(Ft,ht),y=y+Math.imul(Bt,ft)|0,f=f+Math.imul(Bt,Kt)|0,f=f+Math.imul(Ot,ft)|0,E=E+Math.imul(Ot,Kt)|0,y=y+Math.imul(Et,Wt)|0,f=f+Math.imul(Et,Ht)|0,f=f+Math.imul(St,Wt)|0,E=E+Math.imul(St,Ht)|0,y=y+Math.imul(lt,Vt)|0,f=f+Math.imul(lt,jt)|0,f=f+Math.imul(ut,Vt)|0,E=E+Math.imul(ut,jt)|0,y=y+Math.imul(K,Gt)|0,f=f+Math.imul(K,Zt)|0,f=f+Math.imul(J,Gt)|0,E=E+Math.imul(J,Zt)|0;var hi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,y=Math.imul(Lt,dt),f=Math.imul(Lt,ht),f=f+Math.imul(kt,dt)|0,E=Math.imul(kt,ht),y=y+Math.imul(Rt,ft)|0,f=f+Math.imul(Rt,Kt)|0,f=f+Math.imul(Ft,ft)|0,E=E+Math.imul(Ft,Kt)|0,y=y+Math.imul(Bt,Wt)|0,f=f+Math.imul(Bt,Ht)|0,f=f+Math.imul(Ot,Wt)|0,E=E+Math.imul(Ot,Ht)|0,y=y+Math.imul(Et,Vt)|0,f=f+Math.imul(Et,jt)|0,f=f+Math.imul(St,Vt)|0,E=E+Math.imul(St,jt)|0,y=y+Math.imul(lt,Gt)|0,f=f+Math.imul(lt,Zt)|0,f=f+Math.imul(ut,Gt)|0,E=E+Math.imul(ut,Zt)|0,y=y+Math.imul(K,Yt)|0,f=f+Math.imul(K,Xt)|0,f=f+Math.imul(J,Yt)|0,E=E+Math.imul(J,Xt)|0;var di=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(di>>>26)|0,di&=67108863,y=Math.imul(Tt,dt),f=Math.imul(Tt,ht),f=f+Math.imul(Pt,dt)|0,E=Math.imul(Pt,ht),y=y+Math.imul(Lt,ft)|0,f=f+Math.imul(Lt,Kt)|0,f=f+Math.imul(kt,ft)|0,E=E+Math.imul(kt,Kt)|0,y=y+Math.imul(Rt,Wt)|0,f=f+Math.imul(Rt,Ht)|0,f=f+Math.imul(Ft,Wt)|0,E=E+Math.imul(Ft,Ht)|0,y=y+Math.imul(Bt,Vt)|0,f=f+Math.imul(Bt,jt)|0,f=f+Math.imul(Ot,Vt)|0,E=E+Math.imul(Ot,jt)|0,y=y+Math.imul(Et,Gt)|0,f=f+Math.imul(Et,Zt)|0,f=f+Math.imul(St,Gt)|0,E=E+Math.imul(St,Zt)|0,y=y+Math.imul(lt,Yt)|0,f=f+Math.imul(lt,Xt)|0,f=f+Math.imul(ut,Yt)|0,E=E+Math.imul(ut,Xt)|0,y=y+Math.imul(K,Jt)|0,f=f+Math.imul(K,Qt)|0,f=f+Math.imul(J,Jt)|0,E=E+Math.imul(J,Qt)|0;var pi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(pi>>>26)|0,pi&=67108863,y=Math.imul(Dt,dt),f=Math.imul(Dt,ht),f=f+Math.imul(g,dt)|0,E=Math.imul(g,ht),y=y+Math.imul(Tt,ft)|0,f=f+Math.imul(Tt,Kt)|0,f=f+Math.imul(Pt,ft)|0,E=E+Math.imul(Pt,Kt)|0,y=y+Math.imul(Lt,Wt)|0,f=f+Math.imul(Lt,Ht)|0,f=f+Math.imul(kt,Wt)|0,E=E+Math.imul(kt,Ht)|0,y=y+Math.imul(Rt,Vt)|0,f=f+Math.imul(Rt,jt)|0,f=f+Math.imul(Ft,Vt)|0,E=E+Math.imul(Ft,jt)|0,y=y+Math.imul(Bt,Gt)|0,f=f+Math.imul(Bt,Zt)|0,f=f+Math.imul(Ot,Gt)|0,E=E+Math.imul(Ot,Zt)|0,y=y+Math.imul(Et,Yt)|0,f=f+Math.imul(Et,Xt)|0,f=f+Math.imul(St,Yt)|0,E=E+Math.imul(St,Xt)|0,y=y+Math.imul(lt,Jt)|0,f=f+Math.imul(lt,Qt)|0,f=f+Math.imul(ut,Jt)|0,E=E+Math.imul(ut,Qt)|0,y=y+Math.imul(K,te)|0,f=f+Math.imul(K,ee)|0,f=f+Math.imul(J,te)|0,E=E+Math.imul(J,ee)|0;var gi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(gi>>>26)|0,gi&=67108863,y=Math.imul(l,dt),f=Math.imul(l,ht),f=f+Math.imul(v,dt)|0,E=Math.imul(v,ht),y=y+Math.imul(Dt,ft)|0,f=f+Math.imul(Dt,Kt)|0,f=f+Math.imul(g,ft)|0,E=E+Math.imul(g,Kt)|0,y=y+Math.imul(Tt,Wt)|0,f=f+Math.imul(Tt,Ht)|0,f=f+Math.imul(Pt,Wt)|0,E=E+Math.imul(Pt,Ht)|0,y=y+Math.imul(Lt,Vt)|0,f=f+Math.imul(Lt,jt)|0,f=f+Math.imul(kt,Vt)|0,E=E+Math.imul(kt,jt)|0,y=y+Math.imul(Rt,Gt)|0,f=f+Math.imul(Rt,Zt)|0,f=f+Math.imul(Ft,Gt)|0,E=E+Math.imul(Ft,Zt)|0,y=y+Math.imul(Bt,Yt)|0,f=f+Math.imul(Bt,Xt)|0,f=f+Math.imul(Ot,Yt)|0,E=E+Math.imul(Ot,Xt)|0,y=y+Math.imul(Et,Jt)|0,f=f+Math.imul(Et,Qt)|0,f=f+Math.imul(St,Jt)|0,E=E+Math.imul(St,Qt)|0,y=y+Math.imul(lt,te)|0,f=f+Math.imul(lt,ee)|0,f=f+Math.imul(ut,te)|0,E=E+Math.imul(ut,ee)|0,y=y+Math.imul(K,ne)|0,f=f+Math.imul(K,re)|0,f=f+Math.imul(J,ne)|0,E=E+Math.imul(J,re)|0;var mi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(mi>>>26)|0,mi&=67108863,y=Math.imul(C,dt),f=Math.imul(C,ht),f=f+Math.imul(P,dt)|0,E=Math.imul(P,ht),y=y+Math.imul(l,ft)|0,f=f+Math.imul(l,Kt)|0,f=f+Math.imul(v,ft)|0,E=E+Math.imul(v,Kt)|0,y=y+Math.imul(Dt,Wt)|0,f=f+Math.imul(Dt,Ht)|0,f=f+Math.imul(g,Wt)|0,E=E+Math.imul(g,Ht)|0,y=y+Math.imul(Tt,Vt)|0,f=f+Math.imul(Tt,jt)|0,f=f+Math.imul(Pt,Vt)|0,E=E+Math.imul(Pt,jt)|0,y=y+Math.imul(Lt,Gt)|0,f=f+Math.imul(Lt,Zt)|0,f=f+Math.imul(kt,Gt)|0,E=E+Math.imul(kt,Zt)|0,y=y+Math.imul(Rt,Yt)|0,f=f+Math.imul(Rt,Xt)|0,f=f+Math.imul(Ft,Yt)|0,E=E+Math.imul(Ft,Xt)|0,y=y+Math.imul(Bt,Jt)|0,f=f+Math.imul(Bt,Qt)|0,f=f+Math.imul(Ot,Jt)|0,E=E+Math.imul(Ot,Qt)|0,y=y+Math.imul(Et,te)|0,f=f+Math.imul(Et,ee)|0,f=f+Math.imul(St,te)|0,E=E+Math.imul(St,ee)|0,y=y+Math.imul(lt,ne)|0,f=f+Math.imul(lt,re)|0,f=f+Math.imul(ut,ne)|0,E=E+Math.imul(ut,re)|0,y=y+Math.imul(K,ie)|0,f=f+Math.imul(K,se)|0,f=f+Math.imul(J,ie)|0,E=E+Math.imul(J,se)|0;var yi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,y=Math.imul(C,ft),f=Math.imul(C,Kt),f=f+Math.imul(P,ft)|0,E=Math.imul(P,Kt),y=y+Math.imul(l,Wt)|0,f=f+Math.imul(l,Ht)|0,f=f+Math.imul(v,Wt)|0,E=E+Math.imul(v,Ht)|0,y=y+Math.imul(Dt,Vt)|0,f=f+Math.imul(Dt,jt)|0,f=f+Math.imul(g,Vt)|0,E=E+Math.imul(g,jt)|0,y=y+Math.imul(Tt,Gt)|0,f=f+Math.imul(Tt,Zt)|0,f=f+Math.imul(Pt,Gt)|0,E=E+Math.imul(Pt,Zt)|0,y=y+Math.imul(Lt,Yt)|0,f=f+Math.imul(Lt,Xt)|0,f=f+Math.imul(kt,Yt)|0,E=E+Math.imul(kt,Xt)|0,y=y+Math.imul(Rt,Jt)|0,f=f+Math.imul(Rt,Qt)|0,f=f+Math.imul(Ft,Jt)|0,E=E+Math.imul(Ft,Qt)|0,y=y+Math.imul(Bt,te)|0,f=f+Math.imul(Bt,ee)|0,f=f+Math.imul(Ot,te)|0,E=E+Math.imul(Ot,ee)|0,y=y+Math.imul(Et,ne)|0,f=f+Math.imul(Et,re)|0,f=f+Math.imul(St,ne)|0,E=E+Math.imul(St,re)|0,y=y+Math.imul(lt,ie)|0,f=f+Math.imul(lt,se)|0,f=f+Math.imul(ut,ie)|0,E=E+Math.imul(ut,se)|0;var wi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,y=Math.imul(C,Wt),f=Math.imul(C,Ht),f=f+Math.imul(P,Wt)|0,E=Math.imul(P,Ht),y=y+Math.imul(l,Vt)|0,f=f+Math.imul(l,jt)|0,f=f+Math.imul(v,Vt)|0,E=E+Math.imul(v,jt)|0,y=y+Math.imul(Dt,Gt)|0,f=f+Math.imul(Dt,Zt)|0,f=f+Math.imul(g,Gt)|0,E=E+Math.imul(g,Zt)|0,y=y+Math.imul(Tt,Yt)|0,f=f+Math.imul(Tt,Xt)|0,f=f+Math.imul(Pt,Yt)|0,E=E+Math.imul(Pt,Xt)|0,y=y+Math.imul(Lt,Jt)|0,f=f+Math.imul(Lt,Qt)|0,f=f+Math.imul(kt,Jt)|0,E=E+Math.imul(kt,Qt)|0,y=y+Math.imul(Rt,te)|0,f=f+Math.imul(Rt,ee)|0,f=f+Math.imul(Ft,te)|0,E=E+Math.imul(Ft,ee)|0,y=y+Math.imul(Bt,ne)|0,f=f+Math.imul(Bt,re)|0,f=f+Math.imul(Ot,ne)|0,E=E+Math.imul(Ot,re)|0,y=y+Math.imul(Et,ie)|0,f=f+Math.imul(Et,se)|0,f=f+Math.imul(St,ie)|0,E=E+Math.imul(St,se)|0;var bi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(bi>>>26)|0,bi&=67108863,y=Math.imul(C,Vt),f=Math.imul(C,jt),f=f+Math.imul(P,Vt)|0,E=Math.imul(P,jt),y=y+Math.imul(l,Gt)|0,f=f+Math.imul(l,Zt)|0,f=f+Math.imul(v,Gt)|0,E=E+Math.imul(v,Zt)|0,y=y+Math.imul(Dt,Yt)|0,f=f+Math.imul(Dt,Xt)|0,f=f+Math.imul(g,Yt)|0,E=E+Math.imul(g,Xt)|0,y=y+Math.imul(Tt,Jt)|0,f=f+Math.imul(Tt,Qt)|0,f=f+Math.imul(Pt,Jt)|0,E=E+Math.imul(Pt,Qt)|0,y=y+Math.imul(Lt,te)|0,f=f+Math.imul(Lt,ee)|0,f=f+Math.imul(kt,te)|0,E=E+Math.imul(kt,ee)|0,y=y+Math.imul(Rt,ne)|0,f=f+Math.imul(Rt,re)|0,f=f+Math.imul(Ft,ne)|0,E=E+Math.imul(Ft,re)|0,y=y+Math.imul(Bt,ie)|0,f=f+Math.imul(Bt,se)|0,f=f+Math.imul(Ot,ie)|0,E=E+Math.imul(Ot,se)|0;var vi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(vi>>>26)|0,vi&=67108863,y=Math.imul(C,Gt),f=Math.imul(C,Zt),f=f+Math.imul(P,Gt)|0,E=Math.imul(P,Zt),y=y+Math.imul(l,Yt)|0,f=f+Math.imul(l,Xt)|0,f=f+Math.imul(v,Yt)|0,E=E+Math.imul(v,Xt)|0,y=y+Math.imul(Dt,Jt)|0,f=f+Math.imul(Dt,Qt)|0,f=f+Math.imul(g,Jt)|0,E=E+Math.imul(g,Qt)|0,y=y+Math.imul(Tt,te)|0,f=f+Math.imul(Tt,ee)|0,f=f+Math.imul(Pt,te)|0,E=E+Math.imul(Pt,ee)|0,y=y+Math.imul(Lt,ne)|0,f=f+Math.imul(Lt,re)|0,f=f+Math.imul(kt,ne)|0,E=E+Math.imul(kt,re)|0,y=y+Math.imul(Rt,ie)|0,f=f+Math.imul(Rt,se)|0,f=f+Math.imul(Ft,ie)|0,E=E+Math.imul(Ft,se)|0;var xi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(xi>>>26)|0,xi&=67108863,y=Math.imul(C,Yt),f=Math.imul(C,Xt),f=f+Math.imul(P,Yt)|0,E=Math.imul(P,Xt),y=y+Math.imul(l,Jt)|0,f=f+Math.imul(l,Qt)|0,f=f+Math.imul(v,Jt)|0,E=E+Math.imul(v,Qt)|0,y=y+Math.imul(Dt,te)|0,f=f+Math.imul(Dt,ee)|0,f=f+Math.imul(g,te)|0,E=E+Math.imul(g,ee)|0,y=y+Math.imul(Tt,ne)|0,f=f+Math.imul(Tt,re)|0,f=f+Math.imul(Pt,ne)|0,E=E+Math.imul(Pt,re)|0,y=y+Math.imul(Lt,ie)|0,f=f+Math.imul(Lt,se)|0,f=f+Math.imul(kt,ie)|0,E=E+Math.imul(kt,se)|0;var Ei=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,y=Math.imul(C,Jt),f=Math.imul(C,Qt),f=f+Math.imul(P,Jt)|0,E=Math.imul(P,Qt),y=y+Math.imul(l,te)|0,f=f+Math.imul(l,ee)|0,f=f+Math.imul(v,te)|0,E=E+Math.imul(v,ee)|0,y=y+Math.imul(Dt,ne)|0,f=f+Math.imul(Dt,re)|0,f=f+Math.imul(g,ne)|0,E=E+Math.imul(g,re)|0,y=y+Math.imul(Tt,ie)|0,f=f+Math.imul(Tt,se)|0,f=f+Math.imul(Pt,ie)|0,E=E+Math.imul(Pt,se)|0;var Si=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(Si>>>26)|0,Si&=67108863,y=Math.imul(C,te),f=Math.imul(C,ee),f=f+Math.imul(P,te)|0,E=Math.imul(P,ee),y=y+Math.imul(l,ne)|0,f=f+Math.imul(l,re)|0,f=f+Math.imul(v,ne)|0,E=E+Math.imul(v,re)|0,y=y+Math.imul(Dt,ie)|0,f=f+Math.imul(Dt,se)|0,f=f+Math.imul(g,ie)|0,E=E+Math.imul(g,se)|0;var Bi=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,y=Math.imul(C,ne),f=Math.imul(C,re),f=f+Math.imul(P,ne)|0,E=Math.imul(P,re),y=y+Math.imul(l,ie)|0,f=f+Math.imul(l,se)|0,f=f+Math.imul(v,ie)|0,E=E+Math.imul(v,se)|0;var _i=(M+y|0)+((f&8191)<<13)|0;M=(E+(f>>>13)|0)+(_i>>>26)|0,_i&=67108863,y=Math.imul(C,ie),f=Math.imul(C,se),f=f+Math.imul(P,ie)|0,E=Math.imul(P,se);var Ai=(M+y|0)+((f&8191)<<13)|0;return M=(E+(f>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,_[0]=ci,_[1]=ui,_[2]=fi,_[3]=li,_[4]=hi,_[5]=di,_[6]=pi,_[7]=gi,_[8]=mi,_[9]=yi,_[10]=wi,_[11]=bi,_[12]=vi,_[13]=xi,_[14]=Ei,_[15]=Si,_[16]=Bi,_[17]=_i,_[18]=Ai,M!==0&&(_[19]=M,p.length++),p};Math.imul||(q=U);function F(m,a,h){h.negative=a.negative^m.negative,h.length=m.length+a.length;for(var p=0,b=0,x=0;x<h.length-1;x++){var _=b;b=0;for(var M=p&67108863,y=Math.min(x,a.length-1),f=Math.max(0,x-m.length+1);f<=y;f++){var E=x-f,V=m.words[E]|0,K=a.words[f]|0,J=V*K,mt=J&67108863;_=_+(J/67108864|0)|0,mt=mt+M|0,M=mt&67108863,_=_+(mt>>>26)|0,b+=_>>>26,_&=67108863}h.words[x]=M,p=_,_=b}return p!==0?h.words[x]=p:h.length--,h._strip()}function W(m,a,h){return F(m,a,h)}i.prototype.mulTo=function(a,h){var p,b=this.length+a.length;return this.length===10&&a.length===10?p=q(this,a,h):b<63?p=U(this,a,h):b<1024?p=F(this,a,h):p=W(this,a,h),p},i.prototype.mul=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},i.prototype.mulf=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),W(this,a,h)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var h=a<0;h&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var p=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*a,_=(x&67108863)+(p&67108863);p>>=26,p+=x/67108864|0,p+=_>>>26,this.words[b]=_&67108863}return p!==0&&(this.words[b]=p,this.length++),this.length=a===0?1:this.length,h?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var h=L(a);if(h.length===0)return new i(1);for(var p=this,b=0;b<h.length&&h[b]===0;b++,p=p.sqr());if(++b<h.length)for(var x=p.sqr();b<h.length;b++,x=x.sqr())h[b]!==0&&(p=p.mul(x));return p},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var h=a%26,p=(a-h)/26,b=67108863>>>26-h<<26-h,x;if(h!==0){var _=0;for(x=0;x<this.length;x++){var M=this.words[x]&b,y=(this.words[x]|0)-M<<h;this.words[x]=y|_,_=M>>>26-h}_&&(this.words[x]=_,this.length++)}if(p!==0){for(x=this.length-1;x>=0;x--)this.words[x+p]=this.words[x];for(x=0;x<p;x++)this.words[x]=0;this.length+=p}return this._strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,h,p){n(typeof a=="number"&&a>=0);var b;h?b=(h-h%26)/26:b=0;var x=a%26,_=Math.min((a-x)/26,this.length),M=67108863^67108863>>>x<<x,y=p;if(b-=_,b=Math.max(0,b),y){for(var f=0;f<_;f++)y.words[f]=this.words[f];y.length=_}if(_!==0)if(this.length>_)for(this.length-=_,f=0;f<this.length;f++)this.words[f]=this.words[f+_];else this.words[0]=0,this.length=1;var E=0;for(f=this.length-1;f>=0&&(E!==0||f>=b);f--){var V=this.words[f]|0;this.words[f]=E<<26-x|V>>>x,E=V&M}return y&&E!==0&&(y.words[y.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,h,p){return n(this.negative===0),this.iushrn(a,h,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var h=a%26,p=(a-h)/26,b=1<<h;if(this.length<=p)return!1;var x=this.words[p];return!!(x&b)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var h=a%26,p=(a-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var b=67108863^67108863>>>h<<h;this.words[this.length-1]&=b}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,h,p){var b=a.length+p,x;this._expand(b);var _,M=0;for(x=0;x<a.length;x++){_=(this.words[x+p]|0)+M;var y=(a.words[x]|0)*h;_-=y&67108863,M=(_>>26)-(y/67108864|0),this.words[x+p]=_&67108863}for(;x<this.length-p;x++)_=(this.words[x+p]|0)+M,M=_>>26,this.words[x+p]=_&67108863;if(M===0)return this._strip();for(n(M===-1),M=0,x=0;x<this.length;x++)_=-(this.words[x]|0)+M,M=_>>26,this.words[x]=_&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,h){var p=this.length-a.length,b=this.clone(),x=a,_=x.words[x.length-1]|0,M=this._countBits(_);p=26-M,p!==0&&(x=x.ushln(p),b.iushln(p),_=x.words[x.length-1]|0);var y=b.length-x.length,f;if(h!=="mod"){f=new i(null),f.length=y+1,f.words=new Array(f.length);for(var E=0;E<f.length;E++)f.words[E]=0}var V=b.clone()._ishlnsubmul(x,1,y);V.negative===0&&(b=V,f&&(f.words[y]=1));for(var K=y-1;K>=0;K--){var J=(b.words[x.length+K]|0)*67108864+(b.words[x.length+K-1]|0);for(J=Math.min(J/_|0,67108863),b._ishlnsubmul(x,J,K);b.negative!==0;)J--,b.negative=0,b._ishlnsubmul(x,1,K),b.isZero()||(b.negative^=1);f&&(f.words[K]=J)}return f&&f._strip(),b._strip(),h!=="div"&&p!==0&&b.iushrn(p),{div:f||null,mod:b}},i.prototype.divmod=function(a,h,p){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var b,x,_;return this.negative!==0&&a.negative===0?(_=this.neg().divmod(a,h),h!=="mod"&&(b=_.div.neg()),h!=="div"&&(x=_.mod.neg(),p&&x.negative!==0&&x.iadd(a)),{div:b,mod:x}):this.negative===0&&a.negative!==0?(_=this.divmod(a.neg(),h),h!=="mod"&&(b=_.div.neg()),{div:b,mod:_.mod}):this.negative&a.negative?(_=this.neg().divmod(a.neg(),h),h!=="div"&&(x=_.mod.neg(),p&&x.negative!==0&&x.isub(a)),{div:_.div,mod:x}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,h)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(a):h.mod,b=a.ushrn(1),x=a.andln(1),_=p.cmp(b);return _<0||x===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(a){var h=a<0;h&&(a=-a),n(a<=67108863);for(var p=(1<<26)%a,b=0,x=this.length-1;x>=0;x--)b=(p*b+(this.words[x]|0))%a;return h?-b:b},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var h=a<0;h&&(a=-a),n(a<=67108863);for(var p=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+p*67108864;this.words[b]=x/a|0,p=x%a}return this._strip(),h?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var h=this,p=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var b=new i(1),x=new i(0),_=new i(0),M=new i(1),y=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++y;for(var f=p.clone(),E=h.clone();!h.isZero();){for(var V=0,K=1;!(h.words[0]&K)&&V<26;++V,K<<=1);if(V>0)for(h.iushrn(V);V-- >0;)(b.isOdd()||x.isOdd())&&(b.iadd(f),x.isub(E)),b.iushrn(1),x.iushrn(1);for(var J=0,mt=1;!(p.words[0]&mt)&&J<26;++J,mt<<=1);if(J>0)for(p.iushrn(J);J-- >0;)(_.isOdd()||M.isOdd())&&(_.iadd(f),M.isub(E)),_.iushrn(1),M.iushrn(1);h.cmp(p)>=0?(h.isub(p),b.isub(_),x.isub(M)):(p.isub(h),_.isub(b),M.isub(x))}return{a:_,b:M,gcd:p.iushln(y)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var h=this,p=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var b=new i(1),x=new i(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var M=0,y=1;!(h.words[0]&y)&&M<26;++M,y<<=1);if(M>0)for(h.iushrn(M);M-- >0;)b.isOdd()&&b.iadd(_),b.iushrn(1);for(var f=0,E=1;!(p.words[0]&E)&&f<26;++f,E<<=1);if(f>0)for(p.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(_),x.iushrn(1);h.cmp(p)>=0?(h.isub(p),b.isub(x)):(p.isub(h),x.isub(b))}var V;return h.cmpn(1)===0?V=b:V=x,V.cmpn(0)<0&&V.iadd(a),V},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),p=a.clone();h.negative=0,p.negative=0;for(var b=0;h.isEven()&&p.isEven();b++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var x=h.cmp(p);if(x<0){var _=h;h=p,p=_}else if(x===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(b)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var h=a%26,p=(a-h)/26,b=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=b,this;for(var x=b,_=p;x!==0&&_<this.length;_++){var M=this.words[_]|0;M+=x,x=M>>>26,M&=67108863,this.words[_]=M}return x!==0&&(this.words[_]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var p;if(this.length>1)p=1;else{h&&(a=-a),n(a<=67108863,"Number is too big");var b=this.words[0]|0;p=b===a?0:b<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var b=this.words[p]|0,x=a.words[p]|0;if(b!==x){b<x?h=-1:b>x&&(h=1);break}}return h},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Z(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var Q={k256:null,p224:null,p192:null,p25519:null};function it(m,a){this.name=m,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}it.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},it.prototype.ireduce=function(a){var h=a,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var b=p<this.n?-1:h.ucmp(this.p);return b===0?(h.words[0]=0,h.length=1):b>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},it.prototype.split=function(a,h){a.iushrn(this.n,0,h)},it.prototype.imulK=function(a){return a.imul(this.k)};function et(){it.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(et,it),et.prototype.split=function(a,h){for(var p=4194303,b=Math.min(a.length,9),x=0;x<b;x++)h.words[x]=a.words[x];if(h.length=b,a.length<=9){a.words[0]=0,a.length=1;return}var _=a.words[9];for(h.words[h.length++]=_&p,x=10;x<a.length;x++){var M=a.words[x]|0;a.words[x-10]=(M&p)<<4|_>>>22,_=M}_>>>=22,a.words[x-10]=_,_===0&&a.length>10?a.length-=10:a.length-=9},et.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,p=0;p<a.length;p++){var b=a.words[p]|0;h+=b*977,a.words[p]=h&67108863,h=b*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function X(){it.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(X,it);function D(){it.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(D,it);function G(){it.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(G,it),G.prototype.imulK=function(a){for(var h=0,p=0;p<a.length;p++){var b=(a.words[p]|0)*19+h,x=b&67108863;b>>>=26,a.words[p]=x,h=b}return h!==0&&(a.words[a.length++]=h),a},i._prime=function(a){if(Q[a])return Q[a];var h;if(a==="k256")h=new et;else if(a==="p224")h=new X;else if(a==="p192")h=new D;else if(a==="p25519")h=new G;else throw new Error("Unknown prime "+a);return Q[a]=h,h};function Z(m){if(typeof m=="string"){var a=i._prime(m);this.m=a.p,this.prime=a}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}Z.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,h){n((a.negative|h.negative)===0,"red works only with positives"),n(a.red&&a.red===h.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(S(a,a.umod(this.m)._forceRed(this)),a)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,h){this._verify2(a,h);var p=a.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Z.prototype.iadd=function(a,h){this._verify2(a,h);var p=a.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Z.prototype.sub=function(a,h){this._verify2(a,h);var p=a.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Z.prototype.isub=function(a,h){this._verify2(a,h);var p=a.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Z.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},Z.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},Z.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var b=this.m.subn(1),x=0;!b.isZero()&&b.andln(1)===0;)x++,b.iushrn(1);n(!b.isZero());var _=new i(1).toRed(this),M=_.redNeg(),y=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,y).cmp(M)!==0;)f.redIAdd(M);for(var E=this.pow(f,b),V=this.pow(a,b.addn(1).iushrn(1)),K=this.pow(a,b),J=x;K.cmp(_)!==0;){for(var mt=K,lt=0;mt.cmp(_)!==0;lt++)mt=mt.redSqr();n(lt<J);var ut=this.pow(E,new i(1).iushln(J-lt-1));V=V.redMul(ut),E=ut.redSqr(),K=K.redMul(E),J=lt}return V},Z.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Z.prototype.pow=function(a,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var p=4,b=new Array(1<<p);b[0]=new i(1).toRed(this),b[1]=a;for(var x=2;x<b.length;x++)b[x]=this.mul(b[x-1],a);var _=b[0],M=0,y=0,f=h.bitLength()%26;for(f===0&&(f=26),x=h.length-1;x>=0;x--){for(var E=h.words[x],V=f-1;V>=0;V--){var K=E>>V&1;if(_!==b[0]&&(_=this.sqr(_)),K===0&&M===0){y=0;continue}M<<=1,M|=K,y++,!(y!==p&&(x!==0||V!==0))&&(_=this.mul(_,b[M]),y=0,M=0)}f=26}return _},Z.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},Z.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},i.mont=function(a){return new tt(a)};function tt(m){Z.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(tt,Z),tt.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},tt.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},tt.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(h),b=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=p.isub(b).iushrn(this.shift),_=x;return x.cmp(this.m)>=0?_=x.isub(this.m):x.cmpn(0)<0&&(_=x.iadd(this.m)),_._forceRed(this)},tt.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new i(0)._forceRed(this);var p=a.mul(h),b=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=p.isub(b).iushrn(this.shift),_=x;return x.cmp(this.m)>=0?_=x.isub(this.m):x.cmpn(0)<0&&(_=x.iadd(this.m)),_._forceRed(this)},tt.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(r,mc)})(vs);var ra=vs.exports;const uo=Yr(ra);var ns={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=rt,n=e.Buffer;function s(o,c){for(var d in o)c[d]=o[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(s(e,t),t.Buffer=i);function i(o,c,d){return n(o,c,d)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(o,c,d){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,d)},i.alloc=function(o,c,d){if(typeof o!="number")throw new TypeError("Argument must be a number");var w=n(o);return c!==void 0?typeof d=="string"?w.fill(c,d):w.fill(c):w.fill(0),w},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(o)}})(ns,ns.exports);var Bu=ns.exports,Br=Bu.Buffer;function _u(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,c=r.charAt(0),d=Math.log(o)/Math.log(256),w=Math.log(256)/Math.log(o);function S(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=Br.from(B)),!Br.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var I=0,R=0,L=0,U=B.length;L!==U&&B[L]===0;)L++,I++;for(var q=(U-L)*w+1>>>0,F=new Uint8Array(q);L!==U;){for(var W=B[L],Q=0,it=q-1;(W!==0||Q<R)&&it!==-1;it--,Q++)W+=256*F[it]>>>0,F[it]=W%o>>>0,W=W/o>>>0;if(W!==0)throw new Error("Non-zero carry");R=Q,L++}for(var et=q-R;et!==q&&F[et]===0;)et++;for(var X=c.repeat(I);et<q;++et)X+=r.charAt(F[et]);return X}function A(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return Br.alloc(0);for(var I=0,R=0,L=0;B[I]===c;)R++,I++;for(var U=(B.length-I)*d+1>>>0,q=new Uint8Array(U);I<B.length;){var F=B.charCodeAt(I);if(F>255)return;var W=t[F];if(W===255)return;for(var Q=0,it=U-1;(W!==0||Q<L)&&it!==-1;it--,Q++)W+=o*q[it]>>>0,q[it]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");L=Q,I++}for(var et=U-L;et!==U&&q[et]===0;)et++;var X=Br.allocUnsafe(R+(U-et));X.fill(0,0,R);for(var D=R;et!==U;)X[D++]=q[et++];return X}function k(B){var I=A(B);if(I)return I;throw new Error("Non-base"+o+" character")}return{encode:S,decodeUnsafe:A,decode:k}}var Au=_u,ku=Au,Iu="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ia=ku(Iu);const pe=Yr(ia),fo=Oo;function tn(r,t,e){return t<=r&&r<=e}function Qr(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Mu(r){for(var t=String(r),e=t.length,n=0,s=[];n<e;){var i=t.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===e-1)s.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var c=i&1023,d=o&1023;s.push(65536+(c<<10)+d),n+=1}else s.push(65533)}n+=1}return s}function Ru(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Nr=-1;function xs(r){this.tokens=[].slice.call(r)}xs.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Nr},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Gn=-1;function Ni(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Or="utf-8";function Fr(r,t){if(!(this instanceof Fr))return new Fr(r,t);if(r=r!==void 0?String(r).toLowerCase():Or,r!==Or)throw new Error("Encoding not supported. Only utf-8 is supported");t=Qr(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Fr.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Qr(e),this._streaming||(this._decoder=new Tu({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var s=new xs(n),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Gn);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Gn)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Ru(i)}};function Pr(r,t){if(!(this instanceof Pr))return new Pr(r,t);if(r=r!==void 0?String(r).toLowerCase():Or,r!==Or)throw new Error("Encoding not supported. Only utf-8 is supported");t=Qr(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Pr.prototype={encode:function(t,e){t=t?String(t):"",e=Qr(e),this._streaming||(this._encoder=new Lu(this._options)),this._streaming=!!e.stream;for(var n=[],s=new xs(Mu(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Gn);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Gn;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function Tu(r){var t=r.fatal,e=0,n=0,s=0,i=128,o=191;this.handler=function(c,d){if(d===Nr&&s!==0)return s=0,Ni(t);if(d===Nr)return Gn;if(s===0){if(tn(d,0,127))return d;if(tn(d,194,223))s=1,e=d-192;else if(tn(d,224,239))d===224&&(i=160),d===237&&(o=159),s=2,e=d-224;else if(tn(d,240,244))d===240&&(i=144),d===244&&(o=143),s=3,e=d-240;else return Ni(t);return e=e<<6*s,null}if(!tn(d,i,o))return e=s=n=0,i=128,o=191,c.prepend(d),Ni(t);if(i=128,o=191,n+=1,e+=d-128<<6*(s-n),n!==s)return null;var w=e;return e=s=n=0,w}}function Lu(r){r.fatal,this.handler=function(t,e){if(e===Nr)return Gn;if(tn(e,0,127))return e;var n,s;tn(e,128,2047)?(n=1,s=192):tn(e,2048,65535)?(n=2,s=224):tn(e,65536,1114111)&&(n=3,s=240);for(var i=[(e>>6*n)+s];n>0;){var o=e>>6*(n-1);i.push(128|o&63),n-=1}return i}}const Cu=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Fr,TextEncoder:Pr},Symbol.toStringTag,{value:"Module"})),Uu=hs(Cu);var Nu=Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]},Ou=Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t},Ge=function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Fu=function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&Nu(t,r,e);return Ou(t,r),t},sa=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fe,"__esModule",{value:!0});fe.deserializeUnchecked=fe.deserialize=fe.serialize=fe.BinaryReader=fe.BinaryWriter=fe.BorshError=fe.baseDecode=fe.baseEncode=void 0;const ln=sa(ra),oa=sa(ia),Pu=Fu(Uu),Du=typeof TextDecoder!="function"?Pu.TextDecoder:TextDecoder,qu=new Du("utf-8",{fatal:!0});function zu(r){return typeof r=="string"&&(r=rt.Buffer.from(r,"utf8")),oa.default.encode(rt.Buffer.from(r))}fe.baseEncode=zu;function $u(r){return rt.Buffer.from(oa.default.decode(r))}fe.baseDecode=$u;const Oi=1024;class Ee extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}fe.BorshError=Ee;class aa{constructor(){this.buf=rt.Buffer.alloc(Oi),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=rt.Buffer.concat([this.buf,rt.Buffer.alloc(Oi)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(rt.Buffer.from(new ln.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(rt.Buffer.from(new ln.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(rt.Buffer.from(new ln.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(rt.Buffer.from(new ln.default(t).toArray("le",64)))}writeBuffer(t){this.buf=rt.Buffer.concat([rt.Buffer.from(this.buf.subarray(0,this.length)),t,rt.Buffer.alloc(Oi)]),this.length+=t.length}writeString(t){this.maybeResize();const e=rt.Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(rt.Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}fe.BinaryWriter=aa;function Ze(r,t,e){const n=e.value;e.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Ee("Reached the end of buffer when deserializing")}throw i}}}class Te{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ln.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ln.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ln.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ln.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Ee(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return qu.decode(e)}catch(n){throw new Ee(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let s=0;s<e;++s)n.push(t());return n}}Ge([Ze],Te.prototype,"readU8",null);Ge([Ze],Te.prototype,"readU16",null);Ge([Ze],Te.prototype,"readU32",null);Ge([Ze],Te.prototype,"readU64",null);Ge([Ze],Te.prototype,"readU128",null);Ge([Ze],Te.prototype,"readU256",null);Ge([Ze],Te.prototype,"readU512",null);Ge([Ze],Te.prototype,"readString",null);Ge([Ze],Te.prototype,"readFixedArray",null);Ge([Ze],Te.prototype,"readArray",null);fe.BinaryReader=Te;function ca(r){return r.charAt(0).toUpperCase()+r.slice(1)}function pn(r,t,e,n,s){try{if(typeof n=="string")s[`write${ca(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Ee(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);s.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Ee(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)pn(r,null,e[i],n[0],s)}else s.writeArray(e,i=>{pn(r,t,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?s.writeU8(0):(s.writeU8(1),pn(r,t,e,n.type,s));break}case"map":{s.writeU32(e.size),e.forEach((i,o)=>{pn(r,t,o,n.key,s),pn(r,t,i,n.value,s)});break}default:throw new Ee(`FieldType ${n} unrecognized`)}else ua(r,e,s)}catch(i){throw i instanceof Ee&&i.addToFieldPath(t),i}}function ua(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new Ee(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{pn(r,s,t[s],i,e)});else if(n.kind==="enum"){const s=t[n.field];for(let i=0;i<n.values.length;++i){const[o,c]=n.values[i];if(o===s){e.writeU8(i),pn(r,o,t[o],c,e);break}}}else throw new Ee(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Ku(r,t,e=aa){const n=new e;return ua(r,t,n),n.toArray()}fe.serialize=Ku;function gn(r,t,e,n){try{if(typeof e=="string")return n[`read${ca(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const s=[];for(let i=0;i<e[1];i++)s.push(gn(r,null,e[0],n));return s}else return n.readArray(()=>gn(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?gn(r,t,e.type,n):void 0;if(e.kind==="map"){let s=new Map;const i=n.readU32();for(let o=0;o<i;o++){const c=gn(r,t,e.key,n),d=gn(r,t,e.value,n);s.set(c,d)}return s}return Es(r,e,n)}catch(s){throw s instanceof Ee&&s.addToFieldPath(t),s}}function Es(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Ee(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,o]of r.get(t).fields)s[i]=gn(r,i,o,e);return new t(s)}if(n.kind==="enum"){const s=e.readU8();if(s>=n.values.length)throw new Ee(`Enum index: ${s} is out of range`);const[i,o]=n.values[s],c=gn(r,i,o,e);return new t({[i]:c})}throw new Ee(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Wu(r,t,e,n=Te){const s=new n(e),i=Es(r,t,s);if(s.offset<e.length)throw new Ee(`Unexpected ${e.length-s.offset} bytes after deserialized data`);return i}fe.deserialize=Wu;function Hu(r,t,e,n=Te){const s=new n(e);return Es(r,t,s)}fe.deserializeUnchecked=Hu;const Vu=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),{serialize:ju,deserialize:Gu,deserializeUnchecked:Zu}=Vu;var O={};Object.defineProperty(O,"__esModule",{value:!0});O.s16=O.s8=O.nu64be=O.u48be=O.u40be=O.u32be=O.u24be=O.u16be=de=O.nu64=O.u48=O.u40=at=O.u32=O.u24=Fe=O.u16=bt=O.u8=vn=O.offset=O.greedy=O.Constant=O.UTF8=O.CString=O.Blob=O.Boolean=O.BitField=O.BitStructure=O.VariantLayout=O.Union=O.UnionLayoutDiscriminator=O.UnionDiscriminator=O.Structure=O.Sequence=O.DoubleBE=O.Double=O.FloatBE=O.Float=O.NearInt64BE=O.NearInt64=O.NearUInt64BE=O.NearUInt64=O.IntBE=O.Int=O.UIntBE=O.UInt=O.OffsetLayout=O.GreedyCount=O.ExternalLayout=O.bindConstructorLayout=O.nameWithProperty=O.Layout=O.uint8ArrayToBuffer=O.checkUint8Array=void 0;O.constant=O.utf8=O.cstr=Mt=O.blob=O.unionLayoutDiscriminator=O.union=xe=O.seq=O.bits=nt=O.struct=O.f64be=O.f64=O.f32be=O.f32=O.ns64be=O.s48be=O.s40be=O.s32be=O.s24be=O.s16be=ke=O.ns64=O.s48=O.s40=O.s32=O.s24=void 0;const Ss=rt;function Xn(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}O.checkUint8Array=Xn;function wt(r){return Xn(r),Ss.Buffer.from(r.buffer,r.byteOffset,r.length)}O.uint8ArrayToBuffer=wt;class xt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}O.Layout=xt;function Bs(r,t){return t.property?r+"["+t.property+"]":r}O.nameWithProperty=Bs;function Yu(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof xt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}O.bindConstructorLayout=Yu;class Be extends xt{isCount(){throw new Error("ExternalLayout is abstract")}}O.ExternalLayout=Be;class fa extends Be{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Xn(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}O.GreedyCount=fa;class _s extends Be{constructor(t,e=0,n){if(!(t instanceof xt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Pe||this.layout instanceof ze}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}O.OffsetLayout=_s;class Pe extends xt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return wt(t).readUIntLE(e,this.span)}encode(t,e,n=0){return wt(e).writeUIntLE(t,n,this.span),this.span}}O.UInt=Pe;class ze extends xt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return wt(t).readUIntBE(e,this.span)}encode(t,e,n=0){return wt(e).writeUIntBE(t,n,this.span),this.span}}O.UIntBE=ze;class An extends xt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return wt(t).readIntLE(e,this.span)}encode(t,e,n=0){return wt(e).writeIntLE(t,n,this.span),this.span}}O.Int=An;class Jn extends xt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return wt(t).readIntBE(e,this.span)}encode(t,e,n=0){return wt(e).writeIntBE(t,n,this.span),this.span}}O.IntBE=Jn;const rs=Math.pow(2,32);function ti(r){const t=Math.floor(r/rs),e=r-t*rs;return{hi32:t,lo32:e}}function ei(r,t){return r*rs+t}class la extends xt{constructor(t){super(8,t)}decode(t,e=0){const n=wt(t),s=n.readUInt32LE(e),i=n.readUInt32LE(e+4);return ei(i,s)}encode(t,e,n=0){const s=ti(t),i=wt(e);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}}O.NearUInt64=la;class ha extends xt{constructor(t){super(8,t)}decode(t,e=0){const n=wt(t),s=n.readUInt32BE(e),i=n.readUInt32BE(e+4);return ei(s,i)}encode(t,e,n=0){const s=ti(t),i=wt(e);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}O.NearUInt64BE=ha;class da extends xt{constructor(t){super(8,t)}decode(t,e=0){const n=wt(t),s=n.readUInt32LE(e),i=n.readInt32LE(e+4);return ei(i,s)}encode(t,e,n=0){const s=ti(t),i=wt(e);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}O.NearInt64=da;class pa extends xt{constructor(t){super(8,t)}decode(t,e=0){const n=wt(t),s=n.readInt32BE(e),i=n.readUInt32BE(e+4);return ei(s,i)}encode(t,e,n=0){const s=ti(t),i=wt(e);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}O.NearInt64BE=pa;class ga extends xt{constructor(t){super(4,t)}decode(t,e=0){return wt(t).readFloatLE(e)}encode(t,e,n=0){return wt(e).writeFloatLE(t,n),4}}O.Float=ga;class ma extends xt{constructor(t){super(4,t)}decode(t,e=0){return wt(t).readFloatBE(e)}encode(t,e,n=0){return wt(e).writeFloatBE(t,n),4}}O.FloatBE=ma;class ya extends xt{constructor(t){super(8,t)}decode(t,e=0){return wt(t).readDoubleLE(e)}encode(t,e,n=0){return wt(e).writeDoubleLE(t,n),8}}O.Double=ya;class wa extends xt{constructor(t){super(8,t)}decode(t,e=0){return wt(t).readDoubleBE(e)}encode(t,e,n=0){return wt(e).writeDoubleBE(t,n),8}}O.DoubleBE=wa;class ba extends xt{constructor(t,e,n){if(!(t instanceof xt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Be&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof Be)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof Be&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let s=0,i=this.count;for(i instanceof Be&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n=0){const s=this.elementLayout,i=t.reduce((o,c)=>o+s.encode(c,e,n+o),0);return this.count instanceof Be&&this.count.encode(t.length,e,n),i}}O.Sequence=ba;class va extends xt{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof xt,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const o=i.getSpan(t,e);return e+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){Xn(t);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const s=n;let i=0,o=0;for(const c of this.fields){let d=c.span;if(o=0<d?d:0,c.property!==void 0){const w=t[c.property];w!==void 0&&(o=c.encode(w,e,n),0>d&&(d=c.getSpan(e,n)))}i=n,n+=d}return i+o-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}O.Structure=va;class As{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}O.UnionDiscriminator=As;class Dr extends As{constructor(t,e){if(!(t instanceof Be&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}O.UnionLayoutDiscriminator=Dr;class ks extends xt{constructor(t,e,n){let s;if(t instanceof Pe||t instanceof ze)s=new Dr(new _s(t));else if(t instanceof Be&&t.isCount())s=new Dr(t);else if(t instanceof As)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof xt))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof Pe||t instanceof ze)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof Pe||t instanceof ze,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return o(c)},this.configGetSourceVariant=function(c){o=c.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const s=this.discriminator,i=s.decode(t,e),o=this.registry[i];if(o===void 0){const c=this.defaultLayout;let d=0;this.usesPrefixDiscriminator&&(d=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[c.property]=c.decode(t,e+d)}else n=o.decode(t,e);return n}encode(t,e,n=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(t[i.property],e,n),c+o.encode(t[o.property],e,n+c)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new xa(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}}O.Union=ks;class xa extends xt{constructor(t,e,n,s){if(!(t instanceof ks))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof xt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+n)),n+s}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}O.VariantLayout=xa;function Fn(r){return 0>r&&(r+=4294967296),r}class Is extends xt{constructor(t,e,n){if(!(t instanceof Pe||t instanceof ze))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Fn(i),this},this._packedGetValue=function(){return s}}decode(t,e=0){const n=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Ms(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new Ea(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}O.BitStructure=Is;class Ms{constructor(t,e,n){if(!(t instanceof Is))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,c)=>o+c.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=Fn(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return Fn(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Fn(t&this.valueMask))throw new TypeError(Bs("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Fn(t<<this.start);this.container._packedSetValue(Fn(e&~this.wordMask)|n)}}O.BitField=Ms;let Ea=class extends Ms{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};O.Boolean=Ea;class Sa extends xt{constructor(t,e){if(!(t instanceof Be&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Be||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),wt(t).slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof Be&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(Bs("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>e.length)throw new RangeError("encoding overruns Uint8Array");const i=wt(t);return wt(e).write(i.toString("hex"),n,s,"hex"),this.length instanceof Be&&this.length.encode(s,e,n),s}}O.Blob=Sa;class Ba extends xt{constructor(t){super(-1,t)}getSpan(t,e=0){Xn(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return wt(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=Ss.Buffer.from(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const o=wt(e);return s.copy(o,n),o[n+i]=0,i+1}}O.CString=Ba;class _a extends xt{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Xn(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return wt(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=Ss.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(wt(e),n),i}}O.UTF8=_a;class Aa extends xt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}O.Constant=Aa;O.greedy=(r,t)=>new fa(r,t);var vn=O.offset=(r,t,e)=>new _s(r,t,e),bt=O.u8=r=>new Pe(1,r),Fe=O.u16=r=>new Pe(2,r);O.u24=r=>new Pe(3,r);var at=O.u32=r=>new Pe(4,r);O.u40=r=>new Pe(5,r);O.u48=r=>new Pe(6,r);var de=O.nu64=r=>new la(r);O.u16be=r=>new ze(2,r);O.u24be=r=>new ze(3,r);O.u32be=r=>new ze(4,r);O.u40be=r=>new ze(5,r);O.u48be=r=>new ze(6,r);O.nu64be=r=>new ha(r);O.s8=r=>new An(1,r);O.s16=r=>new An(2,r);O.s24=r=>new An(3,r);O.s32=r=>new An(4,r);O.s40=r=>new An(5,r);O.s48=r=>new An(6,r);var ke=O.ns64=r=>new da(r);O.s16be=r=>new Jn(2,r);O.s24be=r=>new Jn(3,r);O.s32be=r=>new Jn(4,r);O.s40be=r=>new Jn(5,r);O.s48be=r=>new Jn(6,r);O.ns64be=r=>new pa(r);O.f32=r=>new ga(r);O.f32be=r=>new ma(r);O.f64=r=>new ya(r);O.f64be=r=>new wa(r);var nt=O.struct=(r,t,e)=>new va(r,t,e);O.bits=(r,t,e)=>new Is(r,t,e);var xe=O.seq=(r,t,e)=>new ba(r,t,e);O.union=(r,t,e)=>new ks(r,t,e);O.unionLayoutDiscriminator=(r,t)=>new Dr(r,t);var Mt=O.blob=(r,t)=>new Sa(r,t);O.cstr=r=>new Ba(r);O.utf8=(r,t)=>new _a(r,t);O.constant=(r,t)=>new Aa(r,t);var Xu=8078e3,Ju=8078001,Qu=8078004,tf=8078005,ef=8078006,nf=8078011;function ka(r){return Array.isArray(r)?"%5B"+r.map(ka).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function rf([r,t]){return`${r}=${ka(t)}`}function sf(r){const t=Object.entries(r).map(rf).join("&");return btoa(t)}function of(r,t={}){{let e=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(t).length&&(e+=` '${sf(t)}'`),`${e}\``}}var zn=class extends Error{constructor(...[t,e]){let n,s;if(e){const{cause:o,...c}=e;o&&(s={cause:o}),Object.keys(c).length>0&&(n=c)}const i=of(t,n);super(i,s);oe(this,"cause",this.cause);oe(this,"context");this.context={__code:t,...n},this.name="SolanaError"}};function af(r,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(r)}function cf(r){return Object.freeze({...r,encode:t=>{const e=new Uint8Array(af(t,r));return r.write(t,e,0),e}})}function uf(r){return Object.freeze({...r,decode:(t,e=0)=>r.read(t,e)[0]})}function Nn(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function ff(r,t){if(Nn(r)!==Nn(t))throw new zn(Qu);if(Nn(r)&&Nn(t)&&r.fixedSize!==t.fixedSize)throw new zn(tf,{decoderFixedSize:t.fixedSize,encoderFixedSize:r.fixedSize});if(!Nn(r)&&!Nn(t)&&r.maxSize!==t.maxSize)throw new zn(ef,{decoderMaxSize:t.maxSize,encoderMaxSize:r.maxSize});return{...t,...r,decode:t.decode,encode:r.encode,read:t.read,write:r.write}}function lf(r,t,e=0){if(t.length-e<=0)throw new zn(Xu,{codecDescription:r})}function hf(r,t,e,n=0){const s=e.length-n;if(s<t)throw new zn(Ju,{bytesLength:s,codecDescription:r,expected:t})}function df(r,t,e,n){if(n<t||n>e)throw new zn(nf,{codecDescription:r,max:e,min:t,value:n})}function Ia(r){return(r==null?void 0:r.endian)!==1}function pf(r){return cf({fixedSize:r.size,write(t,e,n){r.range&&df(r.name,r.range[0],r.range[1],t);const s=new ArrayBuffer(r.size);return r.set(new DataView(s),t,Ia(r.config)),e.set(new Uint8Array(s),n),n+r.size}})}function gf(r){return uf({fixedSize:r.size,read(t,e=0){lf(r.name,t,e),hf(r.name,r.size,t,e);const n=new DataView(mf(t,e,r.size));return[r.get(n,Ia(r.config)),e+r.size]}})}function mf(r,t,e){const n=r.byteOffset+(t??0),s=e??r.byteLength;return r.buffer.slice(n,n+s)}var yf=(r={})=>pf({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,e,n)=>t.setBigUint64(0,BigInt(e),n),size:8}),wf=(r={})=>gf({config:r,get:(t,e)=>t.getBigUint64(0,e),name:"u64",size:8}),bf=(r={})=>ff(yf(r),wf(r));class vf extends TypeError{constructor(t,e){let n;const{message:s,explanation:i,...o}=t,{path:c}=t,d=c.length===0?s:`At path: ${c.join(".")} -- ${s}`;super(i??d),i!=null&&(this.cause=d),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function xf(r){return gr(r)&&typeof r[Symbol.iterator]=="function"}function gr(r){return typeof r=="object"&&r!=null}function qr(r){return gr(r)&&!Array.isArray(r)}function $e(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function Ef(r){const{done:t,value:e}=r.next();return t?void 0:e}function Sf(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=t,{type:o}=e,{refinement:c,message:d=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${$e(n)}\``}=r;return{value:n,type:o,refinement:c,key:s[s.length-1],path:s,branch:i,...r,message:d}}function*lo(r,t,e,n){xf(r)||(r=[r]);for(const s of r){const i=Sf(s,t,e,n);i&&(yield i)}}function*Rs(r,t,e={}){const{path:n=[],branch:s=[r],coerce:i=!1,mask:o=!1}=e,c={path:n,branch:s,mask:o};i&&(r=t.coercer(r,c));let d="valid";for(const w of t.validator(r,c))w.explanation=e.message,d="not_valid",yield[w,void 0];for(let[w,S,A]of t.entries(r,c)){const k=Rs(S,A,{path:w===void 0?n:[...n,w],branch:w===void 0?s:[...s,S],coerce:i,mask:o,message:e.message});for(const B of k)B[0]?(d=B[0].refinement!=null?"not_refined":"not_valid",yield[B[0],void 0]):i&&(S=B[1],w===void 0?r=S:r instanceof Map?r.set(w,S):r instanceof Set?r.add(S):gr(r)&&(S!==void 0||w in r)&&(r[w]=S))}if(d!=="not_valid")for(const w of t.refiner(r,c))w.explanation=e.message,d="not_refined",yield[w,void 0];d==="valid"&&(yield[void 0,r])}let Ye=class{constructor(t){const{type:e,schema:n,validator:s,refiner:i,coercer:o=d=>d,entries:c=function*(){}}=t;this.type=e,this.schema=n,this.entries=c,this.coercer=o,s?this.validator=(d,w)=>{const S=s(d,w);return lo(S,w,this,d)}:this.validator=()=>[],i?this.refiner=(d,w)=>{const S=i(d,w);return lo(S,w,this,d)}:this.refiner=()=>[]}assert(t,e){return Bf(t,this,e)}create(t,e){return H(t,this,e)}is(t){return Ma(t,this)}mask(t,e){return _f(t,this,e)}validate(t,e={}){return mr(t,this,e)}};function Bf(r,t,e){const n=mr(r,t,{message:e});if(n[0])throw n[0]}function H(r,t,e){const n=mr(r,t,{coerce:!0,message:e});if(n[0])throw n[0];return n[1]}function _f(r,t,e){const n=mr(r,t,{coerce:!0,mask:!0,message:e});if(n[0])throw n[0];return n[1]}function Ma(r,t){return!mr(r,t)[0]}function mr(r,t,e={}){const n=Rs(r,t,e),s=Ef(n);return s[0]?[new vf(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function kn(r,t){return new Ye({type:r,schema:null,validator:t})}function Af(){return kn("any",()=>!0)}function j(r){return new Ye({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${$e(t)}`}})}function Ve(){return kn("boolean",r=>typeof r=="boolean")}function Ts(r){return kn("instance",t=>t instanceof r||`Expected a \`${r.name}\` instance, but received: ${$e(t)}`)}function Ct(r){const t=$e(r),e=typeof r;return new Ye({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${t}\`, but received: ${$e(n)}`}})}function kf(){return kn("never",()=>!1)}function Y(r){return new Ye({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function N(){return kn("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${$e(r)}`)}function ot(r){return new Ye({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function Ra(r,t){return new Ye({type:"record",schema:null,*entries(e){if(gr(e))for(const n in e){const s=e[n];yield[n,n,r],yield[n,s,t]}},validator(e){return qr(e)||`Expected an object, but received: ${$e(e)}`},coercer(e){return qr(e)?{...e}:e}})}function $(){return kn("string",r=>typeof r=="string"||`Expected a string, but received: ${$e(r)}`)}function Ls(r){const t=kf();return new Ye({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let s=0;s<n;s++)yield[s,e[s],r[s]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${$e(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function z(r){const t=Object.keys(r);return new Ye({type:"type",schema:r,*entries(e){if(gr(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return qr(e)||`Expected an object, but received: ${$e(e)}`},coercer(e){return qr(e)?{...e}:e}})}function Se(r){const t=r.map(e=>e.type).join(" | ");return new Ye({type:"union",schema:null,coercer(e,n){for(const s of r){const[i,o]=s.validate(e,{coerce:!0,mask:n.mask});if(!i)return o}return e},validator(e,n){const s=[];for(const i of r){const[...o]=Rs(e,i,n),[c]=o;if(c[0])for(const[d]of o)d&&s.push(d);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${$e(e)}`,...s]}})}function Qn(){return kn("unknown",()=>!0)}function yr(r,t,e){return new Ye({...r,coercer:(n,s)=>Ma(n,t)?r.coercer(e(n,s),s):r.coercer(n,s)})}var _r,If=new Uint8Array(16);function Ta(){if(!_r&&(_r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!_r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _r(If)}const Mf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ni(r){return typeof r=="string"&&Mf.test(r)}var he=[];for(var Fi=0;Fi<256;++Fi)he.push((Fi+256).toString(16).substr(1));function ri(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(he[r[t+0]]+he[r[t+1]]+he[r[t+2]]+he[r[t+3]]+"-"+he[r[t+4]]+he[r[t+5]]+"-"+he[r[t+6]]+he[r[t+7]]+"-"+he[r[t+8]]+he[r[t+9]]+"-"+he[r[t+10]]+he[r[t+11]]+he[r[t+12]]+he[r[t+13]]+he[r[t+14]]+he[r[t+15]]).toLowerCase();if(!ni(e))throw TypeError("Stringified UUID is invalid");return e}var ho,Pi,Di=0,qi=0;function Rf(r,t,e){var n=t&&e||0,s=t||new Array(16);r=r||{};var i=r.node||ho,o=r.clockseq!==void 0?r.clockseq:Pi;if(i==null||o==null){var c=r.random||(r.rng||Ta)();i==null&&(i=ho=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=Pi=(c[6]<<8|c[7])&16383)}var d=r.msecs!==void 0?r.msecs:Date.now(),w=r.nsecs!==void 0?r.nsecs:qi+1,S=d-Di+(w-qi)/1e4;if(S<0&&r.clockseq===void 0&&(o=o+1&16383),(S<0||d>Di)&&r.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Di=d,qi=w,Pi=o,d+=122192928e5;var A=((d&268435455)*1e4+w)%4294967296;s[n++]=A>>>24&255,s[n++]=A>>>16&255,s[n++]=A>>>8&255,s[n++]=A&255;var k=d/4294967296*1e4&268435455;s[n++]=k>>>8&255,s[n++]=k&255,s[n++]=k>>>24&15|16,s[n++]=k>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var B=0;B<6;++B)s[n+B]=i[B];return t||ri(s)}function La(r){if(!ni(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function Tf(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var Lf="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Cf="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ca(r,t,e){function n(s,i,o,c){if(typeof s=="string"&&(s=Tf(s)),typeof i=="string"&&(i=La(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+s.length);if(d.set(i),d.set(s,i.length),d=e(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,o){c=c||0;for(var w=0;w<16;++w)o[c+w]=d[w];return o}return ri(d)}try{n.name=r}catch{}return n.DNS=Lf,n.URL=Cf,n}function Uf(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return Nf(Of(Ff(r),r.length*8))}function Nf(r){for(var t=[],e=r.length*32,n="0123456789abcdef",s=0;s<e;s+=8){var i=r[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(o)}return t}function Ua(r){return(r+64>>>9<<4)+14+1}function Of(r,t){r[t>>5]|=128<<t%32,r[Ua(t)-1]=t;for(var e=1732584193,n=-271733879,s=-1732584194,i=271733878,o=0;o<r.length;o+=16){var c=e,d=n,w=s,S=i;e=ye(e,n,s,i,r[o],7,-680876936),i=ye(i,e,n,s,r[o+1],12,-389564586),s=ye(s,i,e,n,r[o+2],17,606105819),n=ye(n,s,i,e,r[o+3],22,-1044525330),e=ye(e,n,s,i,r[o+4],7,-176418897),i=ye(i,e,n,s,r[o+5],12,1200080426),s=ye(s,i,e,n,r[o+6],17,-1473231341),n=ye(n,s,i,e,r[o+7],22,-45705983),e=ye(e,n,s,i,r[o+8],7,1770035416),i=ye(i,e,n,s,r[o+9],12,-1958414417),s=ye(s,i,e,n,r[o+10],17,-42063),n=ye(n,s,i,e,r[o+11],22,-1990404162),e=ye(e,n,s,i,r[o+12],7,1804603682),i=ye(i,e,n,s,r[o+13],12,-40341101),s=ye(s,i,e,n,r[o+14],17,-1502002290),n=ye(n,s,i,e,r[o+15],22,1236535329),e=we(e,n,s,i,r[o+1],5,-165796510),i=we(i,e,n,s,r[o+6],9,-1069501632),s=we(s,i,e,n,r[o+11],14,643717713),n=we(n,s,i,e,r[o],20,-373897302),e=we(e,n,s,i,r[o+5],5,-701558691),i=we(i,e,n,s,r[o+10],9,38016083),s=we(s,i,e,n,r[o+15],14,-660478335),n=we(n,s,i,e,r[o+4],20,-405537848),e=we(e,n,s,i,r[o+9],5,568446438),i=we(i,e,n,s,r[o+14],9,-1019803690),s=we(s,i,e,n,r[o+3],14,-187363961),n=we(n,s,i,e,r[o+8],20,1163531501),e=we(e,n,s,i,r[o+13],5,-1444681467),i=we(i,e,n,s,r[o+2],9,-51403784),s=we(s,i,e,n,r[o+7],14,1735328473),n=we(n,s,i,e,r[o+12],20,-1926607734),e=be(e,n,s,i,r[o+5],4,-378558),i=be(i,e,n,s,r[o+8],11,-2022574463),s=be(s,i,e,n,r[o+11],16,1839030562),n=be(n,s,i,e,r[o+14],23,-35309556),e=be(e,n,s,i,r[o+1],4,-1530992060),i=be(i,e,n,s,r[o+4],11,1272893353),s=be(s,i,e,n,r[o+7],16,-155497632),n=be(n,s,i,e,r[o+10],23,-1094730640),e=be(e,n,s,i,r[o+13],4,681279174),i=be(i,e,n,s,r[o],11,-358537222),s=be(s,i,e,n,r[o+3],16,-722521979),n=be(n,s,i,e,r[o+6],23,76029189),e=be(e,n,s,i,r[o+9],4,-640364487),i=be(i,e,n,s,r[o+12],11,-421815835),s=be(s,i,e,n,r[o+15],16,530742520),n=be(n,s,i,e,r[o+2],23,-995338651),e=ve(e,n,s,i,r[o],6,-198630844),i=ve(i,e,n,s,r[o+7],10,1126891415),s=ve(s,i,e,n,r[o+14],15,-1416354905),n=ve(n,s,i,e,r[o+5],21,-57434055),e=ve(e,n,s,i,r[o+12],6,1700485571),i=ve(i,e,n,s,r[o+3],10,-1894986606),s=ve(s,i,e,n,r[o+10],15,-1051523),n=ve(n,s,i,e,r[o+1],21,-2054922799),e=ve(e,n,s,i,r[o+8],6,1873313359),i=ve(i,e,n,s,r[o+15],10,-30611744),s=ve(s,i,e,n,r[o+6],15,-1560198380),n=ve(n,s,i,e,r[o+13],21,1309151649),e=ve(e,n,s,i,r[o+4],6,-145523070),i=ve(i,e,n,s,r[o+11],10,-1120210379),s=ve(s,i,e,n,r[o+2],15,718787259),n=ve(n,s,i,e,r[o+9],21,-343485551),e=hn(e,c),n=hn(n,d),s=hn(s,w),i=hn(i,S)}return[e,n,s,i]}function Ff(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(Ua(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function hn(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function Pf(r,t){return r<<t|r>>>32-t}function ii(r,t,e,n,s,i){return hn(Pf(hn(hn(t,r),hn(n,i)),s),e)}function ye(r,t,e,n,s,i,o){return ii(t&e|~t&n,r,t,s,i,o)}function we(r,t,e,n,s,i,o){return ii(t&n|e&~n,r,t,s,i,o)}function be(r,t,e,n,s,i,o){return ii(t^e^n,r,t,s,i,o)}function ve(r,t,e,n,s,i,o){return ii(e^(t|~n),r,t,s,i,o)}var Df=Ca("v3",48,Uf);function qf(r,t,e){r=r||{};var n=r.random||(r.rng||Ta)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=n[s];return t}return ri(n)}function zf(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function zi(r,t){return r<<t|r>>>32-t}function $f(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,o=Math.ceil(i/16),c=new Array(o),d=0;d<o;++d){for(var w=new Uint32Array(16),S=0;S<16;++S)w[S]=r[d*64+S*4]<<24|r[d*64+S*4+1]<<16|r[d*64+S*4+2]<<8|r[d*64+S*4+3];c[d]=w}c[o-1][14]=(r.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(r.length-1)*8&4294967295;for(var A=0;A<o;++A){for(var k=new Uint32Array(80),B=0;B<16;++B)k[B]=c[A][B];for(var I=16;I<80;++I)k[I]=zi(k[I-3]^k[I-8]^k[I-14]^k[I-16],1);for(var R=e[0],L=e[1],U=e[2],q=e[3],F=e[4],W=0;W<80;++W){var Q=Math.floor(W/20),it=zi(R,5)+zf(Q,L,U,q)+F+t[Q]+k[W]>>>0;F=q,q=U,U=zi(L,30)>>>0,L=R,R=it}e[0]=e[0]+R>>>0,e[1]=e[1]+L>>>0,e[2]=e[2]+U>>>0,e[3]=e[3]+q>>>0,e[4]=e[4]+F>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var Kf=Ca("v5",80,$f);const Wf="00000000-0000-0000-0000-000000000000";function Hf(r){if(!ni(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Vf=Object.freeze(Object.defineProperty({__proto__:null,NIL:Wf,parse:La,stringify:ri,v1:Rf,v3:Df,v4:qf,v5:Kf,validate:ni,version:Hf},Symbol.toStringTag,{value:"Module"})),Na=hs(Vf),jf=Na.v4,Gf=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:r};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const o=typeof n.generator=="function"?n.generator:function(){return jf()};i.id=o(i,n)}else s===2&&e===null?n.notificationIdNull&&(i.id=null):i.id=e;return i};var Zf=Gf;const Yf=Na.v4,Xf=Zf,ar=function(r,t){if(!(this instanceof ar))return new ar(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Yf()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};var Jf=ar;ar.prototype.request=function(r,t,e,n){const s=this;let i=null;const o=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof t=="function")n=t,i=r;else{typeof e=="function"&&(n=e,e=void 0);const w=typeof n=="function";try{i=Xf(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(S){if(w)return n(S);throw S}if(!w)return i}let d;try{d=JSON.stringify(i,this.options.replacer)}catch(w){return n(w)}return this.callServer(d,function(w,S){s._parseResponse(w,S,n)}),i};ar.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(s){return e(s)}if(e.length===3)if(Array.isArray(n)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return e(null,n.filter(s),n.filter(i))}else return e(null,n.error,n.result);e(null,n)};const Qf=Yr(Jf);var Oa={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(d,w,S){this.fn=d,this.context=w,this.once=S||!1}function i(d,w,S,A,k){if(typeof S!="function")throw new TypeError("The listener must be a function");var B=new s(S,A||d,k),I=e?e+w:w;return d._events[I]?d._events[I].fn?d._events[I]=[d._events[I],B]:d._events[I].push(B):(d._events[I]=B,d._eventsCount++),d}function o(d,w){--d._eventsCount===0?d._events=new n:delete d._events[w]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var w=[],S,A;if(this._eventsCount===0)return w;for(A in S=this._events)t.call(S,A)&&w.push(e?A.slice(1):A);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(S)):w},c.prototype.listeners=function(w){var S=e?e+w:w,A=this._events[S];if(!A)return[];if(A.fn)return[A.fn];for(var k=0,B=A.length,I=new Array(B);k<B;k++)I[k]=A[k].fn;return I},c.prototype.listenerCount=function(w){var S=e?e+w:w,A=this._events[S];return A?A.fn?1:A.length:0},c.prototype.emit=function(w,S,A,k,B,I){var R=e?e+w:w;if(!this._events[R])return!1;var L=this._events[R],U=arguments.length,q,F;if(L.fn){switch(L.once&&this.removeListener(w,L.fn,void 0,!0),U){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,S),!0;case 3:return L.fn.call(L.context,S,A),!0;case 4:return L.fn.call(L.context,S,A,k),!0;case 5:return L.fn.call(L.context,S,A,k,B),!0;case 6:return L.fn.call(L.context,S,A,k,B,I),!0}for(F=1,q=new Array(U-1);F<U;F++)q[F-1]=arguments[F];L.fn.apply(L.context,q)}else{var W=L.length,Q;for(F=0;F<W;F++)switch(L[F].once&&this.removeListener(w,L[F].fn,void 0,!0),U){case 1:L[F].fn.call(L[F].context);break;case 2:L[F].fn.call(L[F].context,S);break;case 3:L[F].fn.call(L[F].context,S,A);break;case 4:L[F].fn.call(L[F].context,S,A,k);break;default:if(!q)for(Q=1,q=new Array(U-1);Q<U;Q++)q[Q-1]=arguments[Q];L[F].fn.apply(L[F].context,q)}}return!0},c.prototype.on=function(w,S,A){return i(this,w,S,A,!1)},c.prototype.once=function(w,S,A){return i(this,w,S,A,!0)},c.prototype.removeListener=function(w,S,A,k){var B=e?e+w:w;if(!this._events[B])return this;if(!S)return o(this,B),this;var I=this._events[B];if(I.fn)I.fn===S&&(!k||I.once)&&(!A||I.context===A)&&o(this,B);else{for(var R=0,L=[],U=I.length;R<U;R++)(I[R].fn!==S||k&&!I[R].once||A&&I[R].context!==A)&&L.push(I[R]);L.length?this._events[B]=L.length===1?L[0]:L:o(this,B)}return this},c.prototype.removeAllListeners=function(w){var S;return w?(S=e?e+w:w,this._events[S]&&o(this,S)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=e,c.EventEmitter=c,r.exports=c})(Oa);var tl=Oa.exports;const Fa=Yr(tl);var el=class extends Fa{constructor(t,e,n){super();oe(this,"socket");this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,e,n){const s=n||e;try{this.socket.send(t),s()}catch(i){s(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};function nl(r,t){return new el(r,t)}var rl=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},il=class extends Fa{constructor(t,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...c}={},d,w){super();oe(this,"address");oe(this,"rpc_id");oe(this,"queue");oe(this,"options");oe(this,"autoconnect");oe(this,"ready");oe(this,"reconnect");oe(this,"reconnect_timer_id");oe(this,"reconnect_interval");oe(this,"max_reconnects");oe(this,"rest_options");oe(this,"current_reconnects");oe(this,"generate_request_id");oe(this,"socket");oe(this,"webSocketFactory");oe(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=d||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),w?this.dataPack=w:this.dataPack=new rl,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,s){return!s&&typeof n=="object"&&(s=n,n=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const c=this.generate_request_id(t,e),d={jsonrpc:"2.0",method:t,params:e||void 0,id:c};this.socket.send(this.dataPack.encode(d),s,w=>{if(w)return o(w);this.queue[c]={promise:[i,o]},n&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],o(new Error("reply timeout"))},n))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((n,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=rt.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const s=[n.notification];if(n.params.constructor===Object)s.push(n.params);else for(let i=0;i<n.params.length;i++)s.push(n.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",n,s),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};class Pa extends Lo{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Ro(t);const n=ps(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Vn(i)}update(t){return Tr(this),this.iHash.update(t),this}digestInto(t){Tr(this),Bn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=c,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Da=(r,t,e)=>new Pa(r,t).update(e).digest();Da.create=(r,t)=>new Pa(r,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const po=(r,t)=>(r+(r>=0?t:-t)/qa)/t;function sl(r,t,e){const[[n,s],[i,o]]=t,c=po(o*r,e),d=po(-s*r,e);let w=r-c*n-d*i,S=-c*s-d*o;const A=w<rn,k=S<rn;A&&(w=-w),k&&(S=-S);const B=hr(Math.ceil(Do(e)/2))+$n;if(w<rn||w>=B||S<rn||S>=B)throw new Error("splitScalar (endomorphism): failed, k="+r);return{k1neg:A,k1:w,k2neg:k,k2:S}}function is(r){if(!["compact","recovered","der"].includes(r))throw new Error('Signature format must be "compact", "recovered", or "der"');return r}function $i(r,t){const e={};for(let n of Object.keys(t))e[n]=r[n]===void 0?t[n]:r[n];return xn(e.lowS,"lowS"),xn(e.prehash,"prehash"),e.format!==void 0&&is(e.format),e}class ol extends Error{constructor(t=""){super(t)}}const Qe={Err:ol,_tlv:{encode:(r,t)=>{const{Err:e}=Qe;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const n=t.length/2,s=Sr(n);if(s.length/2&128)throw new e("tlv.encode: long form length too big");const i=n>127?Sr(s.length/2|128):"";return Sr(r)+i+s+t},decode(r,t){const{Err:e}=Qe;let n=0;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[n++]!==r)throw new e("tlv.decode: wrong tlv");const s=t[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const d=s&127;if(!d)throw new e("tlv.decode(long): indefinite length not supported");if(d>4)throw new e("tlv.decode(long): byte length is too big");const w=t.subarray(n,n+d);if(w.length!==d)throw new e("tlv.decode: length bytes not complete");if(w[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const S of w)o=o<<8|S;if(n+=d,o<128)throw new e("tlv.decode(long): not minimal encoding")}const c=t.subarray(n,n+o);if(c.length!==o)throw new e("tlv.decode: wrong value length");return{v:c,l:t.subarray(n+o)}}},_int:{encode(r){const{Err:t}=Qe;if(r<rn)throw new t("integer: negative integers are not allowed");let e=Sr(r);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return e},decode(r){const{Err:t}=Qe;if(r[0]&128)throw new t("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Jr(r)}},toSig(r){const{Err:t,_int:e,_tlv:n}=Qe,s=zt("signature",r),{v:i,l:o}=n.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:d}=n.decode(2,i),{v:w,l:S}=n.decode(2,d);if(S.length)throw new t("invalid signature: left bytes after parsing");return{r:e.decode(c),s:e.decode(w)}},hexFromSig(r){const{_tlv:t,_int:e}=Qe,n=t.encode(2,e.encode(r.r)),s=t.encode(2,e.encode(r.s)),i=n+s;return t.encode(48,i)}},rn=BigInt(0),$n=BigInt(1),qa=BigInt(2),Ar=BigInt(3),al=BigInt(4);function Dn(r,t){const{BYTES:e}=r;let n;if(typeof t=="bigint")n=t;else{let s=zt("private key",t);try{n=r.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${e}, got ${typeof t}`)}}if(!r.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function cl(r,t={}){const e=ea("weierstrass",r,t),{Fp:n,Fn:s}=e;let i=e.CURVE;const{h:o,n:c}=i;dr(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=t;if(d&&(!n.is0(i.a)||typeof d.beta!="bigint"||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const w=$a(n,s);function S(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function A(tt,m,a){const{x:h,y:p}=m.toAffine(),b=n.toBytes(h);if(xn(a,"isCompressed"),a){S();const x=!n.isOdd(p);return He(za(x),b)}else return He(Uint8Array.of(4),b,n.toBytes(p))}function k(tt){qe(tt,void 0,"Point");const{publicKey:m,publicKeyUncompressed:a}=w,h=tt.length,p=tt[0],b=tt.subarray(1);if(h===m&&(p===2||p===3)){const x=n.fromBytes(b);if(!n.isValid(x))throw new Error("bad point: is not on curve, wrong x");const _=R(x);let M;try{M=n.sqrt(_)}catch(E){const V=E instanceof Error?": "+E.message:"";throw new Error("bad point: is not on curve, sqrt error"+V)}S();const y=n.isOdd(M);return(p&1)===1!==y&&(M=n.neg(M)),{x,y:M}}else if(h===a&&p===4){const x=n.BYTES,_=n.fromBytes(b.subarray(0,x)),M=n.fromBytes(b.subarray(x,x*2));if(!L(_,M))throw new Error("bad point: is not on curve");return{x:_,y:M}}else throw new Error(`bad point: got length ${h}, expected compressed=${m} or uncompressed=${a}`)}const B=t.toBytes||A,I=t.fromBytes||k;function R(tt){const m=n.sqr(tt),a=n.mul(m,tt);return n.add(n.add(a,n.mul(tt,i.a)),i.b)}function L(tt,m){const a=n.sqr(m),h=R(tt);return n.eql(a,h)}if(!L(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const U=n.mul(n.pow(i.a,Ar),al),q=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(U,q)))throw new Error("bad curve params: a or b");function F(tt,m,a=!1){if(!n.isValid(m)||a&&n.is0(m))throw new Error(`bad point coordinate ${tt}`);return m}function W(tt){if(!(tt instanceof D))throw new Error("ProjectivePoint expected")}function Q(tt){if(!d||!d.basises)throw new Error("no endo");return sl(tt,d.basises,s.ORDER)}const it=Cr((tt,m)=>{const{X:a,Y:h,Z:p}=tt;if(n.eql(p,n.ONE))return{x:a,y:h};const b=tt.is0();m==null&&(m=b?n.ONE:n.inv(p));const x=n.mul(a,m),_=n.mul(h,m),M=n.mul(p,m);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x,y:_}}),et=Cr(tt=>{if(tt.is0()){if(t.allowInfinityPoint&&!n.is0(tt.Y))return;throw new Error("bad point: ZERO")}const{x:m,y:a}=tt.toAffine();if(!n.isValid(m)||!n.isValid(a))throw new Error("bad point: x or y not field elements");if(!L(m,a))throw new Error("bad point: equation left != right");if(!tt.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function X(tt,m,a,h,p){return a=new D(n.mul(a.X,tt),a.Y,a.Z),m=Ur(h,m),a=Ur(p,a),m.add(a)}class D{constructor(m,a,h){this.X=F("x",m),this.Y=F("y",a,!0),this.Z=F("z",h),Object.freeze(this)}static CURVE(){return i}static fromAffine(m){const{x:a,y:h}=m||{};if(!m||!n.isValid(a)||!n.isValid(h))throw new Error("invalid affine point");if(m instanceof D)throw new Error("projective point not allowed");return n.is0(a)&&n.is0(h)?D.ZERO:new D(a,h,n.ONE)}static fromBytes(m){const a=D.fromAffine(I(qe(m,void 0,"point")));return a.assertValidity(),a}static fromHex(m){return D.fromBytes(zt("pointHex",m))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(m=8,a=!0){return Z.createCache(this,m),a||this.multiply(Ar),this}assertValidity(){et(this)}hasEvenY(){const{y:m}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(m)}equals(m){W(m);const{X:a,Y:h,Z:p}=this,{X:b,Y:x,Z:_}=m,M=n.eql(n.mul(a,_),n.mul(b,p)),y=n.eql(n.mul(h,_),n.mul(x,p));return M&&y}negate(){return new D(this.X,n.neg(this.Y),this.Z)}double(){const{a:m,b:a}=i,h=n.mul(a,Ar),{X:p,Y:b,Z:x}=this;let _=n.ZERO,M=n.ZERO,y=n.ZERO,f=n.mul(p,p),E=n.mul(b,b),V=n.mul(x,x),K=n.mul(p,b);return K=n.add(K,K),y=n.mul(p,x),y=n.add(y,y),_=n.mul(m,y),M=n.mul(h,V),M=n.add(_,M),_=n.sub(E,M),M=n.add(E,M),M=n.mul(_,M),_=n.mul(K,_),y=n.mul(h,y),V=n.mul(m,V),K=n.sub(f,V),K=n.mul(m,K),K=n.add(K,y),y=n.add(f,f),f=n.add(y,f),f=n.add(f,V),f=n.mul(f,K),M=n.add(M,f),V=n.mul(b,x),V=n.add(V,V),f=n.mul(V,K),_=n.sub(_,f),y=n.mul(V,E),y=n.add(y,y),y=n.add(y,y),new D(_,M,y)}add(m){W(m);const{X:a,Y:h,Z:p}=this,{X:b,Y:x,Z:_}=m;let M=n.ZERO,y=n.ZERO,f=n.ZERO;const E=i.a,V=n.mul(i.b,Ar);let K=n.mul(a,b),J=n.mul(h,x),mt=n.mul(p,_),lt=n.add(a,h),ut=n.add(b,x);lt=n.mul(lt,ut),ut=n.add(K,J),lt=n.sub(lt,ut),ut=n.add(a,p);let Nt=n.add(b,_);return ut=n.mul(ut,Nt),Nt=n.add(K,mt),ut=n.sub(ut,Nt),Nt=n.add(h,p),M=n.add(x,_),Nt=n.mul(Nt,M),M=n.add(J,mt),Nt=n.sub(Nt,M),f=n.mul(E,ut),M=n.mul(V,mt),f=n.add(M,f),M=n.sub(J,f),f=n.add(J,f),y=n.mul(M,f),J=n.add(K,K),J=n.add(J,K),mt=n.mul(E,mt),ut=n.mul(V,ut),J=n.add(J,mt),mt=n.sub(K,mt),mt=n.mul(E,mt),ut=n.add(ut,mt),K=n.mul(J,ut),y=n.add(y,K),K=n.mul(Nt,ut),M=n.mul(lt,M),M=n.sub(M,K),K=n.mul(lt,J),f=n.mul(Nt,f),f=n.add(f,K),new D(M,y,f)}subtract(m){return this.add(m.negate())}is0(){return this.equals(D.ZERO)}multiply(m){const{endo:a}=t;if(!s.isValidNot0(m))throw new Error("invalid scalar: out of range");let h,p;const b=x=>Z.cached(this,x,_=>wn(D,_));if(a){const{k1neg:x,k1:_,k2neg:M,k2:y}=Q(m),{p:f,f:E}=b(_),{p:V,f:K}=b(y);p=E.add(K),h=X(a.beta,f,V,x,M)}else{const{p:x,f:_}=b(m);h=x,p=_}return wn(D,[h,p])[0]}multiplyUnsafe(m){const{endo:a}=t,h=this;if(!s.isValid(m))throw new Error("invalid scalar: out of range");if(m===rn||h.is0())return D.ZERO;if(m===$n)return h;if(Z.hasCache(this))return this.multiply(m);if(a){const{k1neg:p,k1:b,k2neg:x,k2:_}=Q(m),{p1:M,p2:y}=su(D,h,b,_);return X(a.beta,M,y,p,x)}else return Z.unsafe(h,m)}multiplyAndAddUnsafe(m,a,h){const p=this.multiplyUnsafe(a).add(m.multiplyUnsafe(h));return p.is0()?void 0:p}toAffine(m){return it(this,m)}isTorsionFree(){const{isTorsionFree:m}=t;return o===$n?!0:m?m(D,this):Z.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:m}=t;return o===$n?this:m?m(D,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(m=!0){return xn(m,"isCompressed"),this.assertValidity(),B(D,this,m)}toHex(m=!0){return bn(this.toBytes(m))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(m=!0){return this.toBytes(m)}_setWindowSize(m){this.precompute(m)}static normalizeZ(m){return wn(D,m)}static msm(m,a){return ta(D,s,m,a)}static fromPrivateKey(m){return D.BASE.multiply(Dn(s,m))}}D.BASE=new D(i.Gx,i.Gy,n.ONE),D.ZERO=new D(n.ZERO,n.ONE,n.ZERO),D.Fp=n,D.Fn=s;const G=s.BITS,Z=new Qo(D,t.endo?Math.ceil(G/2):G);return D.BASE.precompute(8),D}function za(r){return Uint8Array.of(r?2:3)}function $a(r,t){return{secretKey:t.BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function ul(r,t={}){const{Fn:e}=r,n=t.randomBytes||gs,s=Object.assign($a(r.Fp,e),{seed:Yo(e.ORDER)});function i(B){try{return!!Dn(e,B)}catch{return!1}}function o(B,I){const{publicKey:R,publicKeyUncompressed:L}=s;try{const U=B.length;return I===!0&&U!==R||I===!1&&U!==L?!1:!!r.fromBytes(B)}catch{return!1}}function c(B=n(s.seed)){return nu(qe(B,s.seed,"seed"),e.ORDER)}function d(B,I=!0){return r.BASE.multiply(Dn(e,B)).toBytes(I)}function w(B){const I=c(B);return{secretKey:I,publicKey:d(I)}}function S(B){if(typeof B=="bigint")return!1;if(B instanceof r)return!0;const{secretKey:I,publicKey:R,publicKeyUncompressed:L}=s;if(e.allowedLengths||I===R)return;const U=zt("key",B).length;return U===R||U===L}function A(B,I,R=!0){if(S(B)===!0)throw new Error("first arg must be private key");if(S(I)===!1)throw new Error("second arg must be public key");const L=Dn(e,B);return r.fromHex(I).multiply(L).toBytes(R)}return Object.freeze({getPublicKey:d,getSharedSecret:A,keygen:w,Point:r,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:B=>Dn(e,B),precompute(B=8,I=r.BASE){return I.precompute(B,!1)}},lengths:s})}function fl(r,t,e={}){Ro(t),dr(e,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||gs,s=e.hmac||((a,...h)=>Da(t,a,He(...h))),{Fp:i,Fn:o}=r,{ORDER:c,BITS:d}=o,{keygen:w,getPublicKey:S,getSharedSecret:A,utils:k,lengths:B}=ul(r,e),I={prehash:!1,lowS:typeof e.lowS=="boolean"?e.lowS:!1,format:void 0,extraEntropy:!1},R="compact";function L(a){const h=c>>$n;return a>h}function U(a,h){if(!o.isValidNot0(h))throw new Error(`invalid signature ${a}: out of range 1..Point.Fn.ORDER`);return h}function q(a,h){is(h);const p=B.signature,b=h==="compact"?p:h==="recovered"?p+1:void 0;return qe(a,b,`${h} signature`)}class F{constructor(h,p,b){this.r=U("r",h),this.s=U("s",p),b!=null&&(this.recovery=b),Object.freeze(this)}static fromBytes(h,p=R){q(h,p);let b;if(p==="der"){const{r:y,s:f}=Qe.toSig(qe(h));return new F(y,f)}p==="recovered"&&(b=h[0],p="compact",h=h.subarray(1));const x=o.BYTES,_=h.subarray(0,x),M=h.subarray(x,x*2);return new F(o.fromBytes(_),o.fromBytes(M),b)}static fromHex(h,p){return this.fromBytes(Lr(h),p)}addRecoveryBit(h){return new F(this.r,this.s,h)}recoverPublicKey(h){const p=i.ORDER,{r:b,s:x,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(c*qa<p&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const y=_===2||_===3?b+c:b;if(!i.isValid(y))throw new Error("recovery id 2 or 3 invalid");const f=i.toBytes(y),E=r.fromBytes(He(za((_&1)===0),f)),V=o.inv(y),K=Q(zt("msgHash",h)),J=o.create(-K*V),mt=o.create(x*V),lt=r.BASE.multiplyUnsafe(J).add(E.multiplyUnsafe(mt));if(lt.is0())throw new Error("point at infinify");return lt.assertValidity(),lt}hasHighS(){return L(this.s)}toBytes(h=R){if(is(h),h==="der")return Lr(Qe.hexFromSig(this));const p=o.toBytes(this.r),b=o.toBytes(this.s);if(h==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return He(Uint8Array.of(this.recovery),p,b)}return He(p,b)}toHex(h){return bn(this.toBytes(h))}assertValidity(){}static fromCompact(h){return F.fromBytes(zt("sig",h),"compact")}static fromDER(h){return F.fromBytes(zt("sig",h),"der")}normalizeS(){return this.hasHighS()?new F(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return bn(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return bn(this.toBytes("compact"))}}const W=e.bits2int||function(h){if(h.length>8192)throw new Error("input is too large");const p=Jr(h),b=h.length*8-d;return b>0?p>>BigInt(b):p},Q=e.bits2int_modN||function(h){return o.create(W(h))},it=hr(d);function et(a){return es("num < 2^"+d,a,rn,it),o.toBytes(a)}function X(a,h){return qe(a,void 0,"message"),h?qe(t(a),void 0,"prehashed message"):a}function D(a,h,p){if(["recovered","canonical"].some(J=>J in p))throw new Error("sign() legacy options not supported");const{lowS:b,prehash:x,extraEntropy:_}=$i(p,I);a=X(a,x);const M=Q(a),y=Dn(o,h),f=[et(y),et(M)];if(_!=null&&_!==!1){const J=_===!0?n(B.secretKey):_;f.push(zt("extraEntropy",J))}const E=He(...f),V=M;function K(J){const mt=W(J);if(!o.isValidNot0(mt))return;const lt=o.inv(mt),ut=r.BASE.multiply(mt).toAffine(),Nt=o.create(ut.x);if(Nt===rn)return;const Et=o.create(lt*o.create(V+Nt*y));if(Et===rn)return;let St=(ut.x===Nt?0:2)|Number(ut.y&$n),Le=Et;return b&&L(Et)&&(Le=o.neg(Et),St^=1),new F(Nt,Le,St)}return{seed:E,k2sig:K}}function G(a,h,p={}){a=zt("message",a);const{seed:b,k2sig:x}=D(a,h,p);return Vc(t.outputLen,o.BYTES,s)(b,x)}function Z(a){let h;const p=typeof a=="string"||lr(a),b=!p&&a!==null&&typeof a=="object"&&typeof a.r=="bigint"&&typeof a.s=="bigint";if(!p&&!b)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(b)h=new F(a.r,a.s);else if(p){try{h=F.fromBytes(zt("sig",a),"der")}catch(x){if(!(x instanceof Qe.Err))throw x}if(!h)try{h=F.fromBytes(zt("sig",a),"compact")}catch{return!1}}return h||!1}function tt(a,h,p,b={}){const{lowS:x,prehash:_,format:M}=$i(b,I);if(p=zt("publicKey",p),h=X(zt("message",h),_),"strict"in b)throw new Error("options.strict was renamed to lowS");const y=M===void 0?Z(a):F.fromBytes(zt("sig",a),M);if(y===!1)return!1;try{const f=r.fromBytes(p);if(x&&y.hasHighS())return!1;const{r:E,s:V}=y,K=Q(h),J=o.inv(V),mt=o.create(K*J),lt=o.create(E*J),ut=r.BASE.multiplyUnsafe(mt).add(f.multiplyUnsafe(lt));return ut.is0()?!1:o.create(ut.x)===E}catch{return!1}}function m(a,h,p={}){const{prehash:b}=$i(p,I);return h=X(h,b),F.fromBytes(a,"recovered").recoverPublicKey(h).toBytes()}return Object.freeze({keygen:w,getPublicKey:S,getSharedSecret:A,utils:k,lengths:B,Point:r,sign:G,verify:tt,recoverPublicKey:m,Signature:F,hash:t})}function ll(r){const t={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},e=r.Fp;let n=r.allowedPrivateKeyLengths?Array.from(new Set(r.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=_n(t.n,{BITS:r.nBitLength,allowedLengths:n,modFromBytes:r.wrapPrivateKey}),i={Fp:e,Fn:s,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:t,curveOpts:i}}function hl(r){const{CURVE:t,curveOpts:e}=ll(r),n={hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:t,curveOpts:e,hash:r.hash,ecdsaOpts:n}}function dl(r,t){const e=t.Point;return Object.assign({},t,{ProjectivePoint:e,CURVE:Object.assign({},r,Go(e.Fn.ORDER,e.Fn.BITS))})}function pl(r){const{CURVE:t,curveOpts:e,hash:n,ecdsaOpts:s}=hl(r),i=cl(t,e),o=fl(i,n,s);return dl(r,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gl(r,t){const e=n=>pl({...r,hash:n});return{...e(t),create:e}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cs={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ml={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},go=BigInt(2);function yl(r){const t=Cs.p,e=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),d=BigInt(88),w=r*r*r%t,S=w*w*r%t,A=qt(S,e,t)*S%t,k=qt(A,e,t)*S%t,B=qt(k,go,t)*w%t,I=qt(B,s,t)*B%t,R=qt(I,i,t)*I%t,L=qt(R,c,t)*R%t,U=qt(L,d,t)*L%t,q=qt(U,c,t)*R%t,F=qt(q,e,t)*S%t,W=qt(F,o,t)*I%t,Q=qt(W,n,t)*w%t,it=qt(Q,go,t);if(!ss.eql(ss.sqr(it),r))throw new Error("Cannot find square root");return it}const ss=_n(Cs.p,{sqrt:yl}),wl=gl({...Cs,Fp:ss,lowS:!0,endo:ml},Oo);pr.utils.randomPrivateKey;pr.getPublicKey;function mo(r){try{return pr.ExtendedPoint.fromHex(r),!0}catch{return!1}}const Ka=(r,t)=>pr.sign(r,t.slice(0,32)),bl=pr.verify,ue=r=>rt.Buffer.isBuffer(r)?r:r instanceof Uint8Array?rt.Buffer.from(r.buffer,r.byteOffset,r.byteLength):rt.Buffer.from(r);class vl{constructor(t){Object.assign(this,t)}encode(){return rt.Buffer.from(ju(Mr,this))}static decode(t){return Gu(Mr,this,t)}static decodeUnchecked(t){return Zu(Mr,this,t)}}const Mr=new Map;var Wa;const xl=32,dn=32;function El(r){return r._bn!==void 0}let yo=1;class ct extends vl{constructor(t){if(super({}),this._bn=void 0,El(t))this._bn=t._bn;else{if(typeof t=="string"){const e=pe.decode(t);if(e.length!=dn)throw new Error("Invalid public key input");this._bn=new uo(e)}else this._bn=new uo(t);if(this._bn.byteLength()>dn)throw new Error("Invalid public key input")}}static unique(){const t=new ct(yo);return yo+=1,new ct(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(rt.Buffer);if(t.length===dn)return t;const e=rt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const s=rt.Buffer.concat([t.toBuffer(),rt.Buffer.from(e),n.toBuffer()]),i=fo(s);return new ct(i)}static createProgramAddressSync(t,e){let n=rt.Buffer.alloc(0);t.forEach(function(i){if(i.length>xl)throw new TypeError("Max seed length exceeded");n=rt.Buffer.concat([n,ue(i)])}),n=rt.Buffer.concat([n,e.toBuffer(),rt.Buffer.from("ProgramDerivedAddress")]);const s=fo(n);if(mo(s))throw new Error("Invalid seeds, address must fall off the curve");return new ct(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,s;for(;n!=0;){try{const i=t.concat(rt.Buffer.from([n]));s=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new ct(t);return mo(e.toBytes())}}Wa=ct;ct.default=new Wa("11111111111111111111111111111111");Mr.set(ct,{kind:"struct",fields:[["_bn","u256"]]});new ct("BPFLoader1111111111111111111111111111111111");const Kn=1232,Us=127,zr=64;class Ha extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ha.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Va extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Va.prototype,"name",{value:"TransactionExpiredTimeoutError"});class rr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(rr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class $r{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,o)=>{n.set(i.toBase58(),o)});const s=i=>{const o=n.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const yt=(r="publicKey")=>Mt(32,r),Sl=(r="signature")=>Mt(64,r),qn=(r="string")=>{const t=nt([at("length"),at("lengthPadding"),Mt(vn(at(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(i,o)=>e(i,o).chars.toString(),s.encode=(i,o,c)=>{const d={chars:rt.Buffer.from(i,"utf8")};return n(d,o,c)},s.alloc=i=>at().span+at().span+rt.Buffer.from(i,"utf8").length,s},Bl=(r="authorized")=>nt([yt("staker"),yt("withdrawer")],r),_l=(r="lockup")=>nt([ke("unixTimestamp"),ke("epoch"),yt("custodian")],r),Al=(r="voteInit")=>nt([yt("nodePubkey"),yt("authorizedVoter"),yt("authorizedWithdrawer"),bt("commission")],r),kl=(r="voteAuthorizeWithSeedArgs")=>nt([at("voteAuthorizationType"),yt("currentAuthorityDerivedKeyOwnerPubkey"),qn("currentAuthorityDerivedKeySeed"),yt("newAuthorized")],r);function ja(r,t){const e=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(t[s.property]);if("count"in s&&"elementLayout"in s){const i=t[s.property];if(Array.isArray(i))return i.length*e(s.elementLayout)}else if("fields"in s)return ja({layout:s},t[s.property]);return 0};let n=0;return r.layout.fields.forEach(s=>{n+=e(s)}),n}function Ie(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function Me(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function At(r,t){if(!r)throw new Error(t||"Assertion failed")}class si{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,s=o=>{const c=o.toBase58();let d=n.get(c);return d===void 0&&(d={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,d)),d},i=s(e);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const c of o.keys){const d=s(c.pubkey);d.isSigner||(d.isSigner=c.isSigner),d.isWritable||(d.isWritable=c.isWritable)}}return new si(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];At(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,d])=>d.isSigner&&d.isWritable),n=t.filter(([,d])=>d.isSigner&&!d.isWritable),s=t.filter(([,d])=>!d.isSigner&&d.isWritable),i=t.filter(([,d])=>!d.isSigner&&!d.isWritable),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{At(e.length>0,"Expected at least one writable signer key");const[d]=e[0];At(d===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...e.map(([d])=>new ct(d)),...n.map(([d])=>new ct(d)),...s.map(([d])=>new ct(d)),...i.map(([d])=>new ct(d))];return[o,c]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(e.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const c=new ct(i),d=t.findIndex(w=>w.equals(c));d>=0&&(At(d<256,"Max lookup table index exceeded"),n.push(d),s.push(c),this.keyMetaMap.delete(i))}return[n,s]}}const Ga="Reached end of buffer unexpectedly";function en(r){if(r.length===0)throw new Error(Ga);return r.shift()}function Re(r,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>r.length:e>=r.length)throw new Error(Ga);return r.splice(...t)}class je{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new ct(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:pe.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new $r(this.staticAccountKeys)}static compile(t){const e=si.compile(t.instructions,t.payerKey),[n,s]=e.getMessageComponents(),o=new $r(s).compileInstructions(t.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:pe.encode(c.data)}));return new je({header:n,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Me(e,t);const n=this.instructions.map(A=>{const{accounts:k,programIdIndex:B}=A,I=Array.from(pe.decode(A.data));let R=[];Me(R,k.length);let L=[];return Me(L,I.length),{programIdIndex:B,keyIndicesCount:rt.Buffer.from(R),keyIndices:k,dataLength:rt.Buffer.from(L),data:I}});let s=[];Me(s,n.length);let i=rt.Buffer.alloc(Kn);rt.Buffer.from(s).copy(i);let o=s.length;n.forEach(A=>{const B=nt([bt("programIdIndex"),Mt(A.keyIndicesCount.length,"keyIndicesCount"),xe(bt("keyIndex"),A.keyIndices.length,"keyIndices"),Mt(A.dataLength.length,"dataLength"),xe(bt("userdatum"),A.data.length,"data")]).encode(A,i,o);o+=B}),i=i.slice(0,o);const c=nt([Mt(1,"numRequiredSignatures"),Mt(1,"numReadonlySignedAccounts"),Mt(1,"numReadonlyUnsignedAccounts"),Mt(e.length,"keyCount"),xe(yt("key"),t,"keys"),yt("recentBlockhash")]),d={numRequiredSignatures:rt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:rt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:rt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:rt.Buffer.from(e),keys:this.accountKeys.map(A=>ue(A.toBytes())),recentBlockhash:pe.decode(this.recentBlockhash)};let w=rt.Buffer.alloc(2048);const S=c.encode(d,w);return i.copy(w,S),w.slice(0,S+i.length)}static from(t){let e=[...t];const n=en(e);if(n!==(n&Us))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=en(e),i=en(e),o=Ie(e);let c=[];for(let k=0;k<o;k++){const B=Re(e,0,dn);c.push(new ct(rt.Buffer.from(B)))}const d=Re(e,0,dn),w=Ie(e);let S=[];for(let k=0;k<w;k++){const B=en(e),I=Ie(e),R=Re(e,0,I),L=Ie(e),U=Re(e,0,L),q=pe.encode(rt.Buffer.from(U));S.push({programIdIndex:B,accounts:R,data:q})}const A={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:pe.encode(rt.Buffer.from(d)),accountKeys:c,instructions:S};return new je(A)}}class Zn{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new $r(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const s=t-n,i=this.addressTableLookups.reduce((o,c)=>o+c.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-e,o=n-e-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=e-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=t.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)e.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)e.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){const e=si.compile(t.instructions,t.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const S of i){const A=e.extractTableLookup(S);if(A!==void 0){const[k,{writable:B,readonly:I}]=A;n.push(k),s.writable.push(...B),s.readonly.push(...I)}}const[o,c]=e.getMessageComponents(),w=new $r(c,s).compileInstructions(t.instructions);return new Zn({header:o,staticAccountKeys:c,recentBlockhash:t.recentBlockhash,compiledInstructions:w,addressTableLookups:n})}serialize(){const t=Array();Me(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();Me(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Me(i,this.addressTableLookups.length);const o=nt([bt("prefix"),nt([bt("numRequiredSignatures"),bt("numReadonlySignedAccounts"),bt("numReadonlyUnsignedAccounts")],"header"),Mt(t.length,"staticAccountKeysLength"),xe(yt(),this.staticAccountKeys.length,"staticAccountKeys"),yt("recentBlockhash"),Mt(n.length,"instructionsLength"),Mt(e.length,"serializedInstructions"),Mt(i.length,"addressTableLookupsLength"),Mt(s.length,"serializedAddressTableLookups")]),c=new Uint8Array(Kn),w=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(S=>S.toBytes()),recentBlockhash:pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},c);return c.slice(0,w)}serializeInstructions(){let t=0;const e=new Uint8Array(Kn);for(const n of this.compiledInstructions){const s=Array();Me(s,n.accountKeyIndexes.length);const i=Array();Me(i,n.data.length);const o=nt([bt("programIdIndex"),Mt(s.length,"encodedAccountKeyIndexesLength"),xe(bt(),n.accountKeyIndexes.length,"accountKeyIndexes"),Mt(i.length,"encodedDataLength"),Mt(n.data.length,"data")]);t+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Kn);for(const n of this.addressTableLookups){const s=Array();Me(s,n.writableIndexes.length);const i=Array();Me(i,n.readonlyIndexes.length);const o=nt([yt("accountKey"),Mt(s.length,"encodedWritableIndexesLength"),xe(bt(),n.writableIndexes.length,"writableIndexes"),Mt(i.length,"encodedReadonlyIndexesLength"),xe(bt(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=en(e),s=n&Us;At(n!==s,"Expected versioned message but received legacy message");const i=s;At(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:en(e),numReadonlySignedAccounts:en(e),numReadonlyUnsignedAccounts:en(e)},c=[],d=Ie(e);for(let I=0;I<d;I++)c.push(new ct(Re(e,0,dn)));const w=pe.encode(Re(e,0,dn)),S=Ie(e),A=[];for(let I=0;I<S;I++){const R=en(e),L=Ie(e),U=Re(e,0,L),q=Ie(e),F=new Uint8Array(Re(e,0,q));A.push({programIdIndex:R,accountKeyIndexes:U,data:F})}const k=Ie(e),B=[];for(let I=0;I<k;I++){const R=new ct(Re(e,0,dn)),L=Ie(e),U=Re(e,0,L),q=Ie(e),F=Re(e,0,q);B.push({accountKey:R,writableIndexes:U,readonlyIndexes:F})}return new Zn({header:o,staticAccountKeys:c,recentBlockhash:w,compiledInstructions:A,addressTableLookups:B})}}const Za={deserializeMessageVersion(r){const t=r[0],e=t&Us;return e===t?"legacy":e},deserialize:r=>{const t=Za.deserializeMessageVersion(r);if(t==="legacy")return je.from(r);if(t===0)return Zn.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let fn=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({});const Il=rt.Buffer.alloc(zr).fill(0);class Oe{constructor(t){this.keys=void 0,this.programId=void 0,this.data=rt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class nn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Oe(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let R=0;R<e.length;R++)if(e[R].programId===void 0)throw new Error(`Transaction instruction index ${R} has undefined program id`);const s=[],i=[];e.forEach(R=>{R.keys.forEach(U=>{i.push({...U})});const L=R.programId.toString();s.includes(L)||s.push(L)}),s.forEach(R=>{i.push({pubkey:new ct(R),isSigner:!1,isWritable:!1})});const o=[];i.forEach(R=>{const L=R.pubkey.toString(),U=o.findIndex(q=>q.pubkey.toString()===L);U>-1?(o[U].isWritable=o[U].isWritable||R.isWritable,o[U].isSigner=o[U].isSigner||R.isSigner):o.push(R)}),o.sort(function(R,L){if(R.isSigner!==L.isSigner)return R.isSigner?-1:1;if(R.isWritable!==L.isWritable)return R.isWritable?-1:1;const U={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return R.pubkey.toBase58().localeCompare(L.pubkey.toBase58(),"en",U)});const c=o.findIndex(R=>R.pubkey.equals(n));if(c>-1){const[R]=o.splice(c,1);R.isSigner=!0,R.isWritable=!0,o.unshift(R)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const R of this.signatures){const L=o.findIndex(U=>U.pubkey.equals(R.publicKey));if(L>-1)o[L].isSigner||(o[L].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${R.publicKey.toString()}`)}let d=0,w=0,S=0;const A=[],k=[];o.forEach(({pubkey:R,isSigner:L,isWritable:U})=>{L?(A.push(R.toString()),d+=1,U||(w+=1)):(k.push(R.toString()),U||(S+=1))});const B=A.concat(k),I=e.map(R=>{const{data:L,programId:U}=R;return{programIdIndex:B.indexOf(U.toString()),accounts:R.keys.map(q=>B.indexOf(q.pubkey.toString())),data:pe.encode(L)}});return I.forEach(R=>{At(R.programIdIndex>=0),R.accounts.forEach(L=>At(L>=0))}),new je({header:{numRequiredSignatures:d,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:S},accountKeys:B,recentBlockhash:t,instructions:I})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,i)=>e[i].equals(s.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const s=n.toString();return e.has(s)?!1:(e.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(s=>{const i=Ka(n,s.secretKey);this._addSignature(s.publicKey,ue(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){At(e.length===64);const n=this.signatures.findIndex(s=>t.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=rt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:s,publicKey:i}of this.signatures)s===null?e&&(n.missing||(n.missing=[])).push(i):bl(s,t,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(s,e);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(t){const{signatures:e}=this,n=[];Me(n,e.length);const s=n.length+e.length*64+t.length,i=rt.Buffer.alloc(s);return At(e.length<256),rt.Buffer.from(n).copy(i,0),e.forEach(({signature:o},c)=>{o!==null&&(At(o.length===64,"signature has invalid length"),rt.Buffer.from(o).copy(i,n.length+c*64))}),t.copy(i,n.length+e.length*64),At(i.length<=Kn,`Transaction too large: ${i.length} > ${Kn}`),i}get keys(){return At(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return At(this.instructions.length===1),this.instructions[0].programId}get data(){return At(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=Ie(e);let s=[];for(let i=0;i<n;i++){const o=Re(e,0,zr);s.push(pe.encode(rt.Buffer.from(o)))}return nn.populate(je.from(e),s)}static populate(t,e=[]){const n=new nn;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((s,i)=>{const o={signature:s==pe.encode(Il)?null:pe.decode(s),publicKey:t.accountKeys[i]};n.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const c=t.accountKeys[o];return{pubkey:c,isSigner:n.signatures.some(d=>d.publicKey.toString()===c.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});n.instructions.push(new Oe({keys:i,programId:t.accountKeys[s.programIdIndex],data:pe.decode(s.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Ns{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:n,compiledInstructions:s,recentBlockhash:i}=t,{numRequiredSignatures:o,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d}=n,w=o-c;At(w>0,"Message header is invalid");const S=t.staticAccountKeys.length-o-d;At(S>=0,"Message header is invalid");const A=t.getAccountKeys(e),k=A.get(0);if(k===void 0)throw new Error("Failed to decompile message because no account keys were found");const B=[];for(const I of s){const R=[];for(const U of I.accountKeyIndexes){const q=A.get(U);if(q===void 0)throw new Error(`Failed to find key for account key index ${U}`);const F=U<o;let W;F?W=U<w:U<A.staticAccountKeys.length?W=U-o<S:W=U-A.staticAccountKeys.length<A.accountKeysFromLookups.writable.length,R.push({pubkey:q,isSigner:U<n.numRequiredSignatures,isWritable:W})}const L=A.get(I.programIdIndex);if(L===void 0)throw new Error(`Failed to find program id for program id index ${I.programIdIndex}`);B.push(new Oe({programId:L,data:ue(I.data),keys:R}))}return new Ns({payerKey:k,instructions:B,recentBlockhash:i})}compileToLegacyMessage(){return je.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return Zn.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class Os{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)At(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const n=[];for(let s=0;s<t.header.numRequiredSignatures;s++)n.push(new Uint8Array(zr));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Me(e,this.signatures.length);const n=nt([Mt(e.length,"encodedSignaturesLength"),xe(Sl(),this.signatures.length,"signatures"),Mt(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let e=[...t];const n=[],s=Ie(e);for(let o=0;o<s;o++)n.push(new Uint8Array(Re(e,0,zr)));const i=Za.deserialize(new Uint8Array(e));return new Os(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=n.findIndex(o=>o.equals(s.publicKey));At(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Ka(e,s.secretKey)}}addSignature(t,e){At(e.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));At(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=e}}const Ml=160,Rl=64,Tl=Ml/Rl,Ll=1e3/Tl;new ct("SysvarC1ock11111111111111111111111111111111");new ct("SysvarEpochSchedu1e111111111111111111111111");new ct("Sysvar1nstructions1111111111111111111111111");const Ki=new ct("SysvarRecentB1ockHashes11111111111111111111"),wo=new ct("SysvarRent111111111111111111111111111111111");new ct("SysvarRewards111111111111111111111111111111");new ct("SysvarS1otHashes111111111111111111111111111");new ct("SysvarS1otHistory11111111111111111111111111");new ct("SysvarStakeHistory1111111111111111111111111");class bo extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let c;switch(t){case"send":c=`Transaction ${e} resulted in an error. 
${n}. `+i+o;break;case"simulate":c=`Simulation failed. 
Message: ${n}. 
`+i+o;break;default:c=`Unknown action '${(d=>d)(t)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,e(i)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class st extends Error{constructor({code:t,message:e,data:n},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}function Pn(r){return new Promise(t=>setTimeout(t,r))}function Ce(r,t){const e=r.layout.span>=0?r.layout.span:ja(r,t),n=rt.Buffer.alloc(e),s=Object.assign({instruction:r.index},t);return r.layout.encode(s,n),n}const Cl=de("lamportsPerSignature"),Ya=nt([at("version"),at("state"),yt("authorizedPubkey"),yt("nonce"),nt([Cl],"feeCalculator")]),vo=Ya.span;class Fs{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Ya.decode(ue(t),0);return new Fs({authorizedPubkey:new ct(e.authorizedPubkey),nonce:new ct(e.nonce).toString(),feeCalculator:e.feeCalculator})}}function Yn(r){const t=Mt(8,r),e=t.decode.bind(t),n=t.encode.bind(t),s=t,i=bf();return s.decode=(o,c)=>{const d=e(o,c);return i.decode(d)},s.encode=(o,c,d)=>{const w=i.encode(o);return n(w,c,d)},s}const Ue=Object.freeze({Create:{index:0,layout:nt([at("instruction"),ke("lamports"),ke("space"),yt("programId")])},Assign:{index:1,layout:nt([at("instruction"),yt("programId")])},Transfer:{index:2,layout:nt([at("instruction"),Yn("lamports")])},CreateWithSeed:{index:3,layout:nt([at("instruction"),yt("base"),qn("seed"),ke("lamports"),ke("space"),yt("programId")])},AdvanceNonceAccount:{index:4,layout:nt([at("instruction")])},WithdrawNonceAccount:{index:5,layout:nt([at("instruction"),ke("lamports")])},InitializeNonceAccount:{index:6,layout:nt([at("instruction"),yt("authorized")])},AuthorizeNonceAccount:{index:7,layout:nt([at("instruction"),yt("authorized")])},Allocate:{index:8,layout:nt([at("instruction"),ke("space")])},AllocateWithSeed:{index:9,layout:nt([at("instruction"),yt("base"),qn("seed"),ke("space"),yt("programId")])},AssignWithSeed:{index:10,layout:nt([at("instruction"),yt("base"),qn("seed"),yt("programId")])},TransferWithSeed:{index:11,layout:nt([at("instruction"),Yn("lamports"),qn("seed"),yt("programId")])},UpgradeNonceAccount:{index:12,layout:nt([at("instruction")])}});class cr{constructor(){}static createAccount(t){const e=Ue.Create,n=Ce(e,{lamports:t.lamports,space:t.space,programId:ue(t.programId.toBuffer())});return new Oe({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(t){let e,n;if("basePubkey"in t){const s=Ue.TransferWithSeed;e=Ce(s,{lamports:BigInt(t.lamports),seed:t.seed,programId:ue(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ue.Transfer;e=Ce(s,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Oe({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if("basePubkey"in t){const s=Ue.AssignWithSeed;e=Ce(s,{base:ue(t.basePubkey.toBuffer()),seed:t.seed,programId:ue(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ue.Assign;e=Ce(s,{programId:ue(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Oe({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Ue.CreateWithSeed,n=Ce(e,{base:ue(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:ue(t.programId.toBuffer())});let s=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||s.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Oe({keys:s,programId:this.programId,data:n})}static createNonceAccount(t){const e=new nn;"basePubkey"in t&&"seed"in t?e.add(cr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:vo,programId:this.programId})):e.add(cr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:vo,programId:this.programId}));const n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){const e=Ue.InitializeNonceAccount,n=Ce(e,{authorized:ue(t.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ki,isSigner:!1,isWritable:!1},{pubkey:wo,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Oe(s)}static nonceAdvance(t){const e=Ue.AdvanceNonceAccount,n=Ce(e),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ki,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Oe(s)}static nonceWithdraw(t){const e=Ue.WithdrawNonceAccount,n=Ce(e,{lamports:t.lamports});return new Oe({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ki,isSigner:!1,isWritable:!1},{pubkey:wo,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(t){const e=Ue.AuthorizeNonceAccount,n=Ce(e,{authorized:ue(t.newAuthorizedPubkey.toBuffer())});return new Oe({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(t){let e,n;if("basePubkey"in t){const s=Ue.AllocateWithSeed;e=Ce(s,{base:ue(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:ue(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ue.Allocate;e=Ce(s,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Oe({keys:n,programId:this.programId,data:e})}}cr.programId=new ct("11111111111111111111111111111111");new ct("BPFLoader2111111111111111111111111111111111");function Ul(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wi,xo;function Nl(){if(xo)return Wi;xo=1;var r=Object.prototype.toString,t=Object.keys||function(n){var s=[];for(var i in n)s.push(i);return s};function e(n,s){var i,o,c,d,w,S,A;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return e(n.toJSON(),s);if(A=r.call(n),A==="[object Array]"){for(c="[",o=n.length-1,i=0;i<o;i++)c+=e(n[i],!0)+",";return o>-1&&(c+=e(n[i],!0)),c+"]"}else if(A==="[object Object]"){for(d=t(n).sort(),o=d.length,c="",i=0;i<o;)w=d[i],S=e(n[w],!1),S!==void 0&&(c&&(c+=","),c+=JSON.stringify(w)+":"+S),i++;return"{"+c+"}"}else return JSON.stringify(n);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return Wi=function(n){var s=e(n,!1);if(s!==void 0)return""+s},Wi}var Ol=Nl(),Eo=Ul(Ol);const er=32;function Hi(r){let t=0;for(;r>1;)r/=2,t++;return t}function Fl(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class Pl{constructor(t,e,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Hi(Fl(t+er+1))-Hi(er)-1,n=this.getSlotsInEpoch(e),s=t-(n-er);return[e,s]}else{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch),s=this.firstNormalEpoch+n,i=e%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*er:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Hi(er)):this.slotsPerEpoch}}var Dl=globalThis.fetch;class ql extends il{constructor(t,e,n){const s=i=>{const o=nl(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,t,e,n),this.underlyingSocket=void 0}call(...t){var n;const e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var n;const e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function zl(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${r.index}`);return e}const So=56;class Bo{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=zl($l,t),n=t.length-So;At(n>=0,"lookup table is invalid"),At(n%32===0,"lookup table is invalid");const s=n/32,{addresses:i}=nt([xe(yt(),s,"addresses")]).decode(t.slice(So));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new ct(e.authority[0]):void 0,addresses:i.map(o=>new ct(o))}}}const $l={index:1,layout:nt([at("typeIndex"),Yn("deactivationSlot"),de("lastExtendedSlot"),bt("lastExtendedStartIndex"),bt(),xe(yt(),vn(bt(),-1),"authority")])},Kl=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Wl(r){const t=r.match(Kl);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[e,n,s,i]=t,o=r.startsWith("https:")?"wss:":"ws:",c=s==null?null:parseInt(s.slice(1),10),d=c==null?"":`:${c+1}`;return`${o}//${n}${d}${i}`}const Ut=yr(Ts(ct),$(),r=>new ct(r)),Xa=Ls([$(),Ct("base64")]),Ps=yr(Ts(rt.Buffer),Xa,r=>rt.Buffer.from(r[0],"base64")),Hl=30*1e3;function Vl(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function _t(r){let t,e;if(typeof r=="string")t=r;else if(r){const{commitment:n,...s}=r;t=n,e=s}return{commitment:t,config:e}}function _o(r){return r.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function Ja(r){return Se([z({jsonrpc:Ct("2.0"),id:$(),result:r}),z({jsonrpc:Ct("2.0"),id:$(),error:z({code:Qn(),message:$(),data:ot(Af())})})])}const jl=Ja(Qn());function gt(r){return yr(Ja(r),jl,t=>"error"in t?t:{...t,result:H(t.result,r)})}function $t(r){return gt(z({context:z({slot:N()}),value:r}))}function oi(r){return z({context:z({slot:N()}),value:r})}function Vi(r,t){return r===0?new Zn({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new ct(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:pe.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new je(t)}const Gl=z({foundation:N(),foundationTerm:N(),initial:N(),taper:N(),terminal:N()}),Zl=gt(j(Y(z({epoch:N(),effectiveSlot:N(),amount:N(),postBalance:N(),commission:ot(Y(N()))})))),Yl=j(z({slot:N(),prioritizationFee:N()})),Xl=z({total:N(),validator:N(),foundation:N(),epoch:N()}),Jl=z({epoch:N(),slotIndex:N(),slotsInEpoch:N(),absoluteSlot:N(),blockHeight:ot(N()),transactionCount:ot(N())}),Ql=z({slotsPerEpoch:N(),leaderScheduleSlotOffset:N(),warmup:Ve(),firstNormalEpoch:N(),firstNormalSlot:N()}),th=Ra($(),j(N())),In=Y(Se([z({}),$()])),eh=z({err:In}),nh=Ct("receivedSignature"),rh=z({"solana-core":$(),"feature-set":ot(N())}),ih=z({program:$(),programId:Ut,parsed:Qn()}),sh=z({programId:Ut,accounts:j(Ut),data:$()}),Ao=$t(z({err:Y(Se([z({}),$()])),logs:Y(j($())),accounts:ot(Y(j(Y(z({executable:Ve(),owner:$(),lamports:N(),data:j($()),rentEpoch:ot(N())}))))),unitsConsumed:ot(N()),returnData:ot(Y(z({programId:$(),data:Ls([$(),Ct("base64")])}))),innerInstructions:ot(Y(j(z({index:N(),instructions:j(Se([ih,sh]))}))))})),oh=$t(z({byIdentity:Ra($(),j(N())),range:z({firstSlot:N(),lastSlot:N()})}));function ah(r,t,e,n,s,i){const o=e||Dl;let c;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let d;return n&&(d=async(S,A)=>{const k=await new Promise((B,I)=>{try{n(S,A,(R,L)=>B([R,L]))}catch(R){I(R)}});return await o(...k)}),new Qf(async(S,A)=>{const k={method:"POST",body:S,agent:c,headers:Object.assign({"Content-Type":"application/json"},t||{},ad)};try{let B=5,I,R=500;for(;d?I=await d(r,k):I=await o(r,k),!(I.status!==429||s===!0||(B-=1,B===0));)console.error(`Server responded with ${I.status} ${I.statusText}.  Retrying after ${R}ms delay...`),await Pn(R),R*=2;const L=await I.text();I.ok?A(null,L):A(new Error(`${I.status} ${I.statusText}: ${L}`))}catch(B){B instanceof Error&&A(B)}},{})}function ch(r){return(t,e)=>new Promise((n,s)=>{r.request(t,e,(i,o)=>{if(i){s(i);return}n(o)})})}function uh(r){return t=>new Promise((e,n)=>{t.length===0&&e([]);const s=t.map(i=>r.request(i.methodName,i.args));r.request(s,(i,o)=>{if(i){n(i);return}e(o)})})}const fh=gt(Gl),lh=gt(Xl),hh=gt(Yl),dh=gt(Jl),ph=gt(Ql),gh=gt(th),mh=gt(N()),yh=$t(z({total:N(),circulating:N(),nonCirculating:N(),nonCirculatingAccounts:j(Ut)})),os=z({amount:$(),uiAmount:Y(N()),decimals:N(),uiAmountString:ot($())}),wh=$t(j(z({address:Ut,amount:$(),uiAmount:Y(N()),decimals:N(),uiAmountString:ot($())}))),bh=$t(j(z({pubkey:Ut,account:z({executable:Ve(),owner:Ut,lamports:N(),data:Ps,rentEpoch:N()})}))),as=z({program:$(),parsed:Qn(),space:N()}),vh=$t(j(z({pubkey:Ut,account:z({executable:Ve(),owner:Ut,lamports:N(),data:as,rentEpoch:N()})}))),xh=$t(j(z({lamports:N(),address:Ut}))),ur=z({executable:Ve(),owner:Ut,lamports:N(),data:Ps,rentEpoch:N()}),Eh=z({pubkey:Ut,account:ur}),Sh=yr(Se([Ts(rt.Buffer),as]),Se([Xa,as]),r=>Array.isArray(r)?H(r,Ps):r),cs=z({executable:Ve(),owner:Ut,lamports:N(),data:Sh,rentEpoch:N()}),Bh=z({pubkey:Ut,account:cs}),_h=z({state:Se([Ct("active"),Ct("inactive"),Ct("activating"),Ct("deactivating")]),active:N(),inactive:N()}),Ah=gt(j(z({signature:$(),slot:N(),err:In,memo:Y($()),blockTime:ot(Y(N()))}))),kh=gt(j(z({signature:$(),slot:N(),err:In,memo:Y($()),blockTime:ot(Y(N()))}))),Ih=z({subscription:N(),result:oi(ur)}),Mh=z({pubkey:Ut,account:ur}),Rh=z({subscription:N(),result:oi(Mh)}),Th=z({parent:N(),slot:N(),root:N()}),Lh=z({subscription:N(),result:Th}),Ch=Se([z({type:Se([Ct("firstShredReceived"),Ct("completed"),Ct("optimisticConfirmation"),Ct("root")]),slot:N(),timestamp:N()}),z({type:Ct("createdBank"),parent:N(),slot:N(),timestamp:N()}),z({type:Ct("frozen"),slot:N(),timestamp:N(),stats:z({numTransactionEntries:N(),numSuccessfulTransactions:N(),numFailedTransactions:N(),maxTransactionsPerEntry:N()})}),z({type:Ct("dead"),slot:N(),timestamp:N(),err:$()})]),Uh=z({subscription:N(),result:Ch}),Nh=z({subscription:N(),result:oi(Se([eh,nh]))}),Oh=z({subscription:N(),result:N()}),Fh=z({pubkey:$(),gossip:Y($()),tpu:Y($()),rpc:Y($()),version:Y($())}),ko=z({votePubkey:$(),nodePubkey:$(),activatedStake:N(),epochVoteAccount:Ve(),epochCredits:j(Ls([N(),N(),N()])),commission:N(),lastVote:N(),rootSlot:Y(N())}),Ph=gt(z({current:j(ko),delinquent:j(ko)})),Dh=Se([Ct("processed"),Ct("confirmed"),Ct("finalized")]),qh=z({slot:N(),confirmations:Y(N()),err:In,confirmationStatus:ot(Dh)}),zh=$t(j(Y(qh))),$h=gt(N()),Qa=z({accountKey:Ut,writableIndexes:j(N()),readonlyIndexes:j(N())}),Ds=z({signatures:j($()),message:z({accountKeys:j($()),header:z({numRequiredSignatures:N(),numReadonlySignedAccounts:N(),numReadonlyUnsignedAccounts:N()}),instructions:j(z({accounts:j(N()),data:$(),programIdIndex:N()})),recentBlockhash:$(),addressTableLookups:ot(j(Qa))})}),tc=z({pubkey:Ut,signer:Ve(),writable:Ve(),source:ot(Se([Ct("transaction"),Ct("lookupTable")]))}),ec=z({accountKeys:j(tc),signatures:j($())}),nc=z({parsed:Qn(),program:$(),programId:Ut}),rc=z({accounts:j(Ut),data:$(),programId:Ut}),Kh=Se([rc,nc]),Wh=Se([z({parsed:Qn(),program:$(),programId:$()}),z({accounts:j($()),data:$(),programId:$()})]),ic=yr(Kh,Wh,r=>"accounts"in r?H(r,rc):H(r,nc)),sc=z({signatures:j($()),message:z({accountKeys:j(tc),instructions:j(ic),recentBlockhash:$(),addressTableLookups:ot(Y(j(Qa)))})}),Kr=z({accountIndex:N(),mint:$(),owner:ot($()),programId:ot($()),uiTokenAmount:os}),oc=z({writable:j(Ut),readonly:j(Ut)}),ai=z({err:In,fee:N(),innerInstructions:ot(Y(j(z({index:N(),instructions:j(z({accounts:j(N()),data:$(),programIdIndex:N()}))})))),preBalances:j(N()),postBalances:j(N()),logMessages:ot(Y(j($()))),preTokenBalances:ot(Y(j(Kr))),postTokenBalances:ot(Y(j(Kr))),loadedAddresses:ot(oc),computeUnitsConsumed:ot(N()),costUnits:ot(N())}),qs=z({err:In,fee:N(),innerInstructions:ot(Y(j(z({index:N(),instructions:j(ic)})))),preBalances:j(N()),postBalances:j(N()),logMessages:ot(Y(j($()))),preTokenBalances:ot(Y(j(Kr))),postTokenBalances:ot(Y(j(Kr))),loadedAddresses:ot(oc),computeUnitsConsumed:ot(N()),costUnits:ot(N())}),tr=Se([Ct(0),Ct("legacy")]),Mn=z({pubkey:$(),lamports:N(),postBalance:Y(N()),rewardType:Y($()),commission:ot(Y(N()))}),Hh=gt(Y(z({blockhash:$(),previousBlockhash:$(),parentSlot:N(),transactions:j(z({transaction:Ds,meta:Y(ai),version:ot(tr)})),rewards:ot(j(Mn)),blockTime:Y(N()),blockHeight:Y(N())}))),Vh=gt(Y(z({blockhash:$(),previousBlockhash:$(),parentSlot:N(),rewards:ot(j(Mn)),blockTime:Y(N()),blockHeight:Y(N())}))),jh=gt(Y(z({blockhash:$(),previousBlockhash:$(),parentSlot:N(),transactions:j(z({transaction:ec,meta:Y(ai),version:ot(tr)})),rewards:ot(j(Mn)),blockTime:Y(N()),blockHeight:Y(N())}))),Gh=gt(Y(z({blockhash:$(),previousBlockhash:$(),parentSlot:N(),transactions:j(z({transaction:sc,meta:Y(qs),version:ot(tr)})),rewards:ot(j(Mn)),blockTime:Y(N()),blockHeight:Y(N())}))),Zh=gt(Y(z({blockhash:$(),previousBlockhash:$(),parentSlot:N(),transactions:j(z({transaction:ec,meta:Y(qs),version:ot(tr)})),rewards:ot(j(Mn)),blockTime:Y(N()),blockHeight:Y(N())}))),Yh=gt(Y(z({blockhash:$(),previousBlockhash:$(),parentSlot:N(),rewards:ot(j(Mn)),blockTime:Y(N()),blockHeight:Y(N())}))),Xh=gt(Y(z({blockhash:$(),previousBlockhash:$(),parentSlot:N(),transactions:j(z({transaction:Ds,meta:Y(ai)})),rewards:ot(j(Mn)),blockTime:Y(N())}))),Io=gt(Y(z({blockhash:$(),previousBlockhash:$(),parentSlot:N(),signatures:j($()),blockTime:Y(N())}))),ji=gt(Y(z({slot:N(),meta:Y(ai),blockTime:ot(Y(N())),transaction:Ds,version:ot(tr)}))),kr=gt(Y(z({slot:N(),transaction:sc,meta:Y(qs),blockTime:ot(Y(N())),version:ot(tr)}))),Jh=$t(z({blockhash:$(),lastValidBlockHeight:N()})),Qh=$t(Ve()),td=z({slot:N(),numTransactions:N(),numSlots:N(),samplePeriodSecs:N()}),ed=gt(j(td)),nd=$t(Y(z({feeCalculator:z({lamportsPerSignature:N()})}))),rd=gt($()),id=gt($()),sd=z({err:In,logs:j($()),signature:$()}),od=z({result:oi(sd),subscription:N()}),ad={"solana-client":"js/1.0.0-maintenance"};class ac{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async S=>{const{commitment:A,config:k}=_t(S),B=this._buildArgs([],A,void 0,k),I=Eo(B);return w[I]=w[I]??(async()=>{try{const R=await this._rpcRequest("getBlockHeight",B),L=H(R,gt(N()));if("error"in L)throw new st(L.error,"failed to get block height information");return L.result}finally{delete w[I]}})(),await w[I]}})();let n,s,i,o,c,d;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,s=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,c=e.disableRetryOnRateLimit,d=e.httpAgent),this._rpcEndpoint=Vl(t),this._rpcWsEndpoint=n||Wl(t),this._rpcClient=ah(t,s,i,o,c,d),this._rpcRequest=ch(this._rpcClient),this._rpcBatchRequest=uh(this._rpcClient),this._rpcWebSocket=new ql(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgs([t.toBase58()],n,void 0,s),o=await this._rpcRequest("getBalance",i),c=H(o,$t(N()));if("error"in c)throw new st(c.error,`failed to get balance for ${t.toBase58()}`);return c.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),n=H(e,gt(Y(N())));if("error"in n)throw new st(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=H(t,gt(N()));if("error"in e)throw new st(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=H(t,mh);if("error"in e)throw new st(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[e]),s=H(n,yh);if("error"in s)throw new st(s.error,"failed to get supply");return s.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenSupply",n),i=H(s,$t(os));if("error"in i)throw new st(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenAccountBalance",n),i=H(s,$t(os));if("error"in i)throw new st(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,n){const{commitment:s,config:i}=_t(n);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const c=this._buildArgs(o,s,"base64",i),d=await this._rpcRequest("getTokenAccountsByOwner",c),w=H(d,bh);if("error"in w)throw new st(w.error,`failed to get token accounts owned by account ${t.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(t,e,n){let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const i=this._buildArgs(s,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),c=H(o,vh);if("error"in c)throw new st(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],s=await this._rpcRequest("getLargestAccounts",n),i=H(s,xh);if("error"in i)throw new st(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenLargestAccounts",n),i=H(s,wh);if("error"in i)throw new st(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgs([t.toBase58()],n,"base64",s),o=await this._rpcRequest("getAccountInfo",i),c=H(o,$t(Y(ur)));if("error"in c)throw new st(c.error,`failed to get info about account ${t.toBase58()}`);return c.result}async getParsedAccountInfo(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),c=H(o,$t(Y(cs)));if("error"in c)throw new st(c.error,`failed to get info about account ${t.toBase58()}`);return c.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:s}=_t(e),i=t.map(w=>w.toBase58()),o=this._buildArgs([i],n,"jsonParsed",s),c=await this._rpcRequest("getMultipleAccounts",o),d=H(c,$t(j(Y(cs))));if("error"in d)throw new st(d.error,`failed to get info for accounts ${i}`);return d.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:s}=_t(e),i=t.map(w=>w.toBase58()),o=this._buildArgs([i],n,"base64",s),c=await this._rpcRequest("getMultipleAccounts",o),d=H(c,$t(j(Y(ur))));if("error"in d)throw new st(d.error,`failed to get info for accounts ${i}`);return d.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:s,config:i}=_t(e),o=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getStakeActivation",o),d=H(c,gt(_h));if("error"in d)throw new st(d.error,`failed to get Stake Activation ${t.toBase58()}`);return d.result}async getProgramAccounts(t,e){const{commitment:n,config:s}=_t(e),{encoding:i,...o}=s||{},c=this._buildArgs([t.toBase58()],n,i||"base64",{...o,...o.filters?{filters:_o(o.filters)}:null}),d=await this._rpcRequest("getProgramAccounts",c),w=j(Eh),S=o.withContext===!0?H(d,$t(w)):H(d,gt(w));if("error"in S)throw new st(S.error,`failed to get accounts owned by program ${t.toBase58()}`);return S.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),c=H(o,gt(j(Bh)));if("error"in c)throw new st(c.error,`failed to get accounts owned by program ${t.toBase58()}`);return c.result}async confirmTransaction(t,e){var i;let n;if(typeof t=="string")n=t;else{const o=t;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let s;try{s=pe.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return At(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,s,i=!1;const o=new Promise((d,w)=>{try{n=this.onSignature(e,(A,k)=>{n=void 0;const B={context:k,value:A};d({__type:fn.PROCESSED,response:B})},t);const S=new Promise(A=>{n==null?A():s=this._onSubscriptionStateChange(n,k=>{k==="subscribed"&&A()})});(async()=>{if(await S,i)return;const A=await this.getSignatureStatus(e);if(i||A==null)return;const{context:k,value:B}=A;if(B!=null)if(B!=null&&B.err)w(B.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(B.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(B.confirmationStatus==="processed"||B.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,d({__type:fn.PROCESSED,response:{context:k,value:B}})}})()}catch(S){w(S)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:s}}){let i=!1;const o=new Promise(A=>{const k=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let B=await k();if(!i){for(;B<=n;)if(await Pn(1e3),i||(B=await k(),i))return;A({__type:fn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),w=this.getCancellationPromise(e);let S;try{const A=await Promise.race([w,d,o]);if(A.__type===fn.PROCESSED)S=A.response;else throw new Ha(s)}finally{i=!0,c()}return S}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let c=!1;const d=new Promise(B=>{let I=i,R=null;const L=async()=>{try{const{context:U,value:q}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:n});return R=U.slot,q==null?void 0:q.nonce}catch{return I}};(async()=>{if(I=await L(),!c)for(;;){if(i!==I){B({__type:fn.NONCE_INVALID,slotInWhichNonceDidAdvance:R});return}if(await Pn(2e3),c||(I=await L(),c))return}})()}),{abortConfirmation:w,confirmationPromise:S}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),A=this.getCancellationPromise(e);let k;try{const B=await Promise.race([A,S,d]);if(B.__type===fn.PROCESSED)k=B.response;else{let I;for(;;){const R=await this.getSignatureStatus(o);if(R==null)break;if(R.context.slot<(B.slotInWhichNonceDidAdvance??n)){await Pn(400);continue}I=R;break}if(I!=null&&I.value){const R=t||"finalized",{confirmationStatus:L}=I.value;switch(R){case"processed":case"recent":if(L!=="processed"&&L!=="confirmed"&&L!=="finalized")throw new rr(o);break;case"confirmed":case"single":case"singleGossip":if(L!=="confirmed"&&L!=="finalized")throw new rr(o);break;case"finalized":case"max":case"root":if(L!=="finalized")throw new rr(o);break;default:}k={context:I.context,value:{err:I.value.err}}}else throw new rr(o)}}finally{c=!0,w()}return k}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const s=new Promise(d=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>d({__type:fn.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let c;try{const d=await Promise.race([o,s]);if(d.__type===fn.PROCESSED)c=d.response;else throw new Va(e,d.timeoutMs/1e3)}finally{clearTimeout(n),i()}return c}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=H(t,gt(j(Fh)));if("error"in e)throw new st(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",e),s=H(n,Ph);if("error"in s)throw new st(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:e,config:n}=_t(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlot",s),o=H(i,gt(N()));if("error"in o)throw new st(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:e,config:n}=_t(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlotLeader",s),o=H(i,gt($()));if("error"in o)throw new st(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,e){const n=[t,e],s=await this._rpcRequest("getSlotLeaders",n),i=H(s,gt(j(Ut)));if("error"in i)throw new st(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:n,value:s}=await this.getSignatureStatuses([t],e);At(s.length===1);const i=s[0];return{context:n,value:i}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const s=await this._rpcRequest("getSignatureStatuses",n),i=H(s,zh);if("error"in i)throw new st(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:n}=_t(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getTransactionCount",s),o=H(i,gt(N()));if("error"in o)throw new st(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",e),s=H(n,fh);if("error"in s)throw new st(s.error,"failed to get inflation");return s.result}async getInflationReward(t,e,n){const{commitment:s,config:i}=_t(n),o=this._buildArgs([t.map(w=>w.toBase58())],s,void 0,{...i,epoch:e??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getInflationReward",o),d=H(c,Zl);if("error"in d)throw new st(d.error,"failed to get inflation reward");return d.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=H(t,lh);if("error"in e)throw new st(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:n}=_t(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getEpochInfo",s),o=H(i,dh);if("error"in o)throw new st(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=H(t,ph);if("error"in e)throw new st(e.error,"failed to get epoch schedule");const n=e.result;return new Pl(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=H(t,gh);if("error"in e)throw new st(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=H(s,$h);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=H(e,ed);if("error"in n)throw new st(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=H(s,nd);if("error"in i)throw new st(i.error,"failed to get fee calculator");const{context:o,value:c}=i.result;return{context:o,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(t,e){const n=ue(t.serialize()).toString("base64"),s=this._buildArgs([n],e),i=await this._rpcRequest("getFeeForMessage",s),o=H(i,$t(Y(N())));if("error"in o)throw new st(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){var o;const e=(o=t==null?void 0:t.lockedWritableAccounts)==null?void 0:o.map(c=>c.toBase58()),n=e!=null&&e.length?[e]:[],s=await this._rpcRequest("getRecentPrioritizationFees",n),i=H(s,hh);if("error"in i)throw new st(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=_t(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getLatestBlockhash",s),o=H(i,Jh);if("error"in o)throw new st(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgs([t],n,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),c=H(o,Qh);if("error"in c)throw new st(c.error,"failed to determine if the blockhash `"+t+"`is valid");return c.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=H(t,gt(rh));if("error"in e)throw new st(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=H(t,gt($()));if("error"in e)throw new st(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const c=H(o,jh);if("error"in c)throw c.error;return c.result}case"none":{const c=H(o,Vh);if("error"in c)throw c.error;return c.result}default:{const c=H(o,Hh);if("error"in c)throw c.error;const{result:d}=c;return d?{...d,transactions:d.transactions.map(({transaction:w,meta:S,version:A})=>({meta:S,transaction:{...w,message:Vi(A,w.message)},version:A}))}:null}}}catch(c){throw new st(c,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const c=H(o,Zh);if("error"in c)throw c.error;return c.result}case"none":{const c=H(o,Yh);if("error"in c)throw c.error;return c.result}default:{const c=H(o,Gh);if("error"in c)throw c.error;return c.result}}}catch(c){throw new st(c,"failed to get block")}}async getBlockProduction(t){let e,n;if(typeof t=="string")n=t;else if(t){const{commitment:c,...d}=t;n=c,e=d}const s=this._buildArgs([],n,"base64",e),i=await this._rpcRequest("getBlockProduction",s),o=H(i,oh);if("error"in o)throw new st(o.error,"failed to get block production information");return o.result}async getTransaction(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,s),o=await this._rpcRequest("getTransaction",i),c=H(o,ji);if("error"in c)throw new st(c.error,"failed to get transaction");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:Vi(d.version,d.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:n,config:s}=_t(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),c=H(o,kr);if("error"in c)throw new st(c.error,"failed to get transaction");return c.result}async getParsedTransactions(t,e){const{commitment:n,config:s}=_t(e),i=t.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],n,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(d=>{const w=H(d,kr);if("error"in w)throw new st(w.error,"failed to get transactions");return w.result})}async getTransactions(t,e){const{commitment:n,config:s}=_t(e),i=t.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],n,void 0,s)}));return(await this._rpcBatchRequest(i)).map(d=>{const w=H(d,ji);if("error"in w)throw new st(w.error,"failed to get transactions");const S=w.result;return S&&{...S,transaction:{...S.transaction,message:Vi(S.version,S.transaction.message)}}})}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getBlock",n),i=H(s,Xh);if("error"in i)throw new st(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const c={...o,transactions:o.transactions.map(({transaction:d,meta:w})=>{const S=new je(d.message);return{meta:w,transaction:{...d,message:S}}})};return{...c,transactions:c.transactions.map(({transaction:d,meta:w})=>({meta:w,transaction:nn.populate(d.message,d.signatures)}))}}async getBlocks(t,e,n){const s=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],n),i=await this._rpcRequest("getBlocks",s),o=H(i,gt(j(N())));if("error"in o)throw new st(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=H(s,Io);if("error"in i)throw new st(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=H(s,Io);if("error"in i)throw new st(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getTransaction",n),i=H(s,ji);if("error"in i)throw new st(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const c=new je(o.transaction.message),d=o.transaction.signatures;return{...o,transaction:nn.populate(c,d)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),s=await this._rpcRequest("getTransaction",n),i=H(s,kr);if("error"in i)throw new st(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const n=t.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const c=H(o,kr);if("error"in c)throw new st(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(t,e,n){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(e--,!(e<=0||e<i));)try{const d=await this.getConfirmedBlockSignatures(e,"finalized");d.signatures.length>0&&(s.until=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}let o=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>o));)try{const d=await this.getConfirmedBlockSignatures(n);d.signatures.length>0&&(s.before=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(d=>d.signature)}async getConfirmedSignaturesForAddress2(t,e,n){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=H(i,Ah);if("error"in o)throw new st(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,e,n){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",s),o=H(i,kh);if("error"in o)throw new st(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,e){const{context:n,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=new Bo({key:t,state:Bo.deserialize(s.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=Fs.fromAccountData(s.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,e){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),s=H(n,rd);if("error"in s)throw new st(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Pn(100);const n=Date.now()-this._blockhashInfo.lastFetch>=Hl;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Pn(Ll/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=_t(t),s=this._buildArgs([],e,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=H(i,$t(N()));if("error"in o)throw new st(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,e,n){if("message"in t){const R=t.serialize(),L=rt.Buffer.from(R).toString("base64");if(Array.isArray(e)||n!==void 0)throw new Error("Invalid arguments");const U=e||{};U.encoding="base64","commitment"in U||(U.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(U.innerInstructions=e.innerInstructions);const q=[L,U],F=await this._rpcRequest("simulateTransaction",q),W=H(F,Ao);if("error"in W)throw new Error("failed to simulate transaction: "+W.error.message);return W.result}let s;if(t instanceof nn){let I=t;s=new nn,s.feePayer=I.feePayer,s.instructions=t.instructions,s.nonceInfo=I.nonceInfo,s.signatures=I.signatures}else s=nn.populate(t),s._message=s._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(s.nonceInfo&&i)s.sign(...i);else{let I=this._disableBlockhashCaching;for(;;){const R=await this._blockhashWithExpiryBlockHeight(I);if(s.lastValidBlockHeight=R.lastValidBlockHeight,s.recentBlockhash=R.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const L=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(L)&&!this._blockhashInfo.transactionSignatures.includes(L)){this._blockhashInfo.simulatedSignatures.push(L);break}else I=!0}}const o=s._compile(),c=o.serialize(),w=s._serialize(c).toString("base64"),S={encoding:"base64",commitment:this.commitment};if(n){const I=(Array.isArray(n)?n:o.nonProgramIds()).map(R=>R.toBase58());S.accounts={encoding:"base64",addresses:I}}i&&(S.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(S.innerInstructions=e.innerInstructions);const A=[w,S],k=await this._rpcRequest("simulateTransaction",A),B=H(k,Ao);if("error"in B){let I;if("data"in B.error&&(I=B.error.data.logs,I&&Array.isArray(I))){const R=`
    `,L=R+I.join(R);console.error(B.error.message,L)}throw new bo({action:"simulate",signature:"",transactionMessage:B.error.message,logs:I})}return B.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(t.nonceInfo)t.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=c.lastValidBlockHeight,t.recentBlockhash=c.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const d=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(d))o=!0;else{this._blockhashInfo.transactionSignatures.push(d);break}}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=ue(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},s=e&&e.skipPreflight,i=s===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(n.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(n.minContextSlot=e.minContextSlot),s&&(n.skipPreflight=s),i&&(n.preflightCommitment=i);const o=[t,n],c=await this._rpcRequest("sendTransaction",o),d=H(c,id);if("error"in d){let w;throw"data"in d.error&&(w=d.error.data.logs),new bo({action:s?"send":"simulate",signature:"",transactionMessage:d.error.message,logs:w})}return d.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,n])=>{this._setSubscription(e,{...n,state:"pending"})})}_setSubscription(t,e){var s;const n=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var i;const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[n]||(i[n]=new Set);return s.add(e),()=>{s.delete(e),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(n,{...s,state:"subscribing"});const c=await this._rpcWebSocket.call(o,i);this._setSubscription(n,{...s,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=s.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:c}),!e())return;this._setSubscription(n,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...s,state:"unsubscribing"}),this._setSubscription(n,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(c){if(c instanceof Error&&console.error(`${o} error:`,c.message),!e())return;this._setSubscription(n,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(s=>{try{s(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:n}=H(t,Ih);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,s=Eo([t.method,e]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[s];At(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const{commitment:s,config:i}=_t(n),o=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=H(t,Rh);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,s){const{commitment:i,config:o}=_t(n),c=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:_o(s)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=H(t,od);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=H(t,Lh);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=H(t,Uh);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,s){const i=e||this._commitment;if(i||n||s){let o={};n&&(o.encoding=n),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,e,n,s){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,s)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=H(t,Nh);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const s=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,c)=>{if(o.type==="status"){e(o.result,c);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,e,n){const{commitment:s,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],s,void 0,i),c=this._makeSubscription({callback:(d,w)=>{e(d,w);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return c}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=H(t,Oh);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:nt([at("instruction"),Yn("recentSlot"),bt("bumpSeed")])},FreezeLookupTable:{index:1,layout:nt([at("instruction")])},ExtendLookupTable:{index:2,layout:nt([at("instruction"),Yn(),xe(yt(),vn(at(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:nt([at("instruction")])},CloseLookupTable:{index:4,layout:nt([at("instruction")])}});new ct("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:nt([bt("instruction"),at("units"),at("additionalFee")])},RequestHeapFrame:{index:1,layout:nt([bt("instruction"),at("bytes")])},SetComputeUnitLimit:{index:2,layout:nt([bt("instruction"),at("units")])},SetComputeUnitPrice:{index:3,layout:nt([bt("instruction"),Yn("microLamports")])}});new ct("ComputeBudget111111111111111111111111111111");nt([bt("numSignatures"),bt("padding"),Fe("signatureOffset"),Fe("signatureInstructionIndex"),Fe("publicKeyOffset"),Fe("publicKeyInstructionIndex"),Fe("messageDataOffset"),Fe("messageDataSize"),Fe("messageInstructionIndex")]);new ct("Ed25519SigVerify111111111111111111111111111");wl.utils.isValidPrivateKey;nt([bt("numSignatures"),Fe("signatureOffset"),bt("signatureInstructionIndex"),Fe("ethAddressOffset"),bt("ethAddressInstructionIndex"),Fe("messageDataOffset"),Fe("messageDataSize"),bt("messageInstructionIndex"),Mt(20,"ethAddress"),Mt(64,"signature"),bt("recoveryId")]);new ct("KeccakSecp256k11111111111111111111111111111");var cc;new ct("StakeConfig11111111111111111111111111111111");class uc{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}cc=uc;uc.default=new cc(0,0,ct.default);Object.freeze({Initialize:{index:0,layout:nt([at("instruction"),Bl(),_l()])},Authorize:{index:1,layout:nt([at("instruction"),yt("newAuthorized"),at("stakeAuthorizationType")])},Delegate:{index:2,layout:nt([at("instruction")])},Split:{index:3,layout:nt([at("instruction"),ke("lamports")])},Withdraw:{index:4,layout:nt([at("instruction"),ke("lamports")])},Deactivate:{index:5,layout:nt([at("instruction")])},Merge:{index:7,layout:nt([at("instruction")])},AuthorizeWithSeed:{index:8,layout:nt([at("instruction"),yt("newAuthorized"),at("stakeAuthorizationType"),qn("authoritySeed"),yt("authorityOwner")])}});new ct("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:nt([at("instruction"),Al()])},Authorize:{index:1,layout:nt([at("instruction"),yt("newAuthorized"),at("voteAuthorizationType")])},Withdraw:{index:3,layout:nt([at("instruction"),ke("lamports")])},UpdateValidatorIdentity:{index:4,layout:nt([at("instruction")])},AuthorizeWithSeed:{index:10,layout:nt([at("instruction"),kl()])}});new ct("Vote111111111111111111111111111111111111111");new ct("Va1idator1nfo111111111111111111111111111111");z({name:$(),website:ot($()),details:ot($()),iconUrl:ot($()),keybaseUsername:ot($())});new ct("Vote111111111111111111111111111111111111111");nt([yt("nodePubkey"),yt("authorizedWithdrawer"),bt("commission"),de(),xe(nt([de("slot"),at("confirmationCount")]),vn(at(),-8),"votes"),bt("rootSlotValid"),de("rootSlot"),de(),xe(nt([de("epoch"),yt("authorizedVoter")]),vn(at(),-8),"authorizedVoters"),nt([xe(nt([yt("authorizedPubkey"),de("epochOfLastAuthorizedSwitch"),de("targetEpoch")]),32,"buf"),de("idx"),bt("isEmpty")],"priorVoters"),de(),xe(nt([de("epoch"),de("credits"),de("prevCredits")]),vn(at(),-8),"epochCredits"),nt([de("slot"),de("timestamp")],"lastTimestamp")]);const fc=1e9;let En,ir=[],Wr=0,lc=vt.DEFAULT_CLUSTER,Gi=0;const Zi=()=>Date.now(),cd=r=>Array.from(new Set(r));function ud(r){const e=String((r==null?void 0:r.message)||r||"").toLowerCase();return e.includes("429")||e.includes("rate")||e.includes("fetch")||e.includes("network")||e.includes("timeout")||e.includes("forbidden")||e.includes("403")}function fd(r){return/rpc\.ankr\.com\/multichain/i.test(r)}function ld(r,t){return r.length>0?r:t==="devnet"?["https://rpc.publicnode.com/solana-devnet","https://api.devnet.solana.com"]:["https://rpc.publicnode.com/solana","https://solana.drpc.org","https://api.mainnet-beta.solana.com"]}function hc(r){lc=r;const t=r==="devnet"?vt.DEVNET_RPCS:vt.MAINNET_RPCS;let e=cd(t).filter(Boolean);const n=e.length;e=e.filter(s=>!fd(s)),e.length!==n&&console.warn("[RPC] Ignoring Ankr Multichain endpoints for Solana JSON-RPC. Supply native Solana RPC URLs instead."),e=ld(e,r),ir=e,Wr=0,En=new ac(Hr(),{commitment:"confirmed"})}function hd(r){Wr=(Wr+1)%(ir.length||1),En=new ac(Hr(),{commitment:"confirmed"}),console.warn("[RPC] rotated →",Hr(),r?`(${r})`:"")}function Hr(){return ir.length||hc(vt.DEFAULT_CLUSTER),ir[Wr%ir.length]}function zs(r=vt.DEFAULT_CLUSTER){return hc(r),En}function dd(){return En||zs(vt.DEFAULT_CLUSTER),En}function fr(){return lc}async function us(r,t="op",e=2){En||zs(vt.DEFAULT_CLUSTER),Zi()<Gi&&await new Promise(s=>setTimeout(s,Math.max(0,Gi-Zi())));let n=700;for(let s=0;s<=e;s++)try{return await r(En)}catch(i){const o=ud(i);if(console.warn(`[RPC] ${t} failed on ${Hr()} (try ${s+1}/${e+1})`,i),!o||s===e)throw i;String((i==null?void 0:i.message)||"").includes("429")&&(Gi=Zi()+15e3),hd(t),await new Promise(c=>setTimeout(c,n+Math.floor(Math.random()*300))),n=Math.min(n*2,6e3)}throw new Error("failover loop exhausted")}async function pd(r){if(!r)return null;try{const t=r.endsWith(".sol")?r.slice(0,-4):r,e=await fetch(`https://sns-api.bonfida.com/resolve/${encodeURIComponent(t)}`);if(!e.ok)return null;const n=await e.json(),s=n==null?void 0:n.address;return s&&Rr(s)?s:null}catch{return null}}function Rr(r){try{return new ct(r),!0}catch{return!1}}async function gd(r,t){const e=await Sn(),n=new ct(e),{blockhash:s}=await us(S=>S.getLatestBlockhash({commitment:"finalized"}),"getLatestBlockhash"),i=cr.transfer({fromPubkey:r,toPubkey:n,lamports:Math.round(Number(t)*fc)}),o=new Ns({payerKey:r,recentBlockhash:s,instructions:[i]}).compileToV0Message(),c=new Os(o),d=Vr();if(!(d!=null&&d.signAndSendTransaction))throw new Error("No wallet found. Open Phantom and connect.");const w=await d.signAndSendTransaction(c);return String((w==null?void 0:w.signature)??w)}async function md(){var o,c,d,w;const r=await Sn(),t=new ct(r),e=await us(S=>S.getSignaturesForAddress(t,{limit:15},"confirmed"),"getSignaturesForAddress");if(!(e!=null&&e.length))return[];const n=e.map(S=>S.signature).slice(0,12),s=await us(async S=>(await Promise.all(n.map(k=>S.getTransaction(k,{maxSupportedTransactionVersion:0})))).filter(Boolean),"getTransaction(batch)"),i=[];for(const S of s)try{const A=S.transaction.message.accountKeys.map(L=>typeof L=="string"?L:L!=null&&L.toBase58?L.toBase58():String((L==null?void 0:L.pubkey)??L)),k=A.indexOf(r);if(k<0)continue;const B=((c=(o=S.meta)==null?void 0:o.preBalances)==null?void 0:c[k])??0,R=(((w=(d=S.meta)==null?void 0:d.postBalances)==null?void 0:w[k])??0)-B;R>0&&i.push({sol:(R/fc).toFixed(4),sig:S.transaction.signatures[0],from:A[0],when:S.blockTime??0})}catch{}return i.slice(0,10)}function Vr(){const r=window.solana;return r!=null&&r.isPhantom?r:null}let Ir=null;async function Sn(){if(Ir&&Rr(Ir))return Ir;let r=vt.TIP_DEST_SOL;if(!Rr(r)&&vt.OWNER_SOL_DOMAIN){const t=await pd(vt.OWNER_SOL_DOMAIN);t&&(r=t)}if(!Rr(r))throw new Error("Invalid recipient. Set VITE_OWNER_WALLET to a base58 address.");return Ir=r,r}function jr(r,t,e,n){const s=new URL(`solana:${r}`);return t>0&&s.searchParams.set("amount",String(t)),e&&s.searchParams.set("label",e),n&&s.searchParams.set("message",n),s.toString()}const Gr=/Android|iPhone|iPad|iPod/i.test(navigator.userAgent||""),le=r=>{const t=document.querySelector(r);if(!t)throw new Error(`Missing element: ${r}`);return t};let Yi=null,Xi=!1,On=0;function Wn(r){Yi&&window.clearTimeout(Yi),Yi=window.setTimeout(wd,r)}function yd(r){return r?new Date(r*1e3).toLocaleString():""}async function wd(){if(!Xi){Xi=!0;try{const r=await md(),t=le("#tip-feed");if(!r.length)t.innerHTML='<li class="text-white/60 text-sm">No recent tips yet.</li>';else{const e=fr(),n=e==="mainnet"?"":`?cluster=${e}`;t.innerHTML=r.map(s=>`<li class="glass rounded px-3 py-2 border border-white/10 flex items-center justify-between">
              <div>
                <a class="underline" href="${`https://explorer.solana.com/tx/${s.sig}${n}`}" target="_blank" rel="noopener">${s.sig.slice(0,4)}…${s.sig.slice(-4)}</a>
                <span class="ml-2 text-white/70">${s.sol} SOL</span>
              </div>
              <div class="text-xs text-white/50">${yd(s.when)}</div>
            </li>`).join("")}On=0,Wn(6e4)}catch(r){const t=String((r==null?void 0:r.message)||r).includes("429")||/too many requests/i.test(String((r==null?void 0:r.message)||r));On=On?Math.min(On*2,12e4):2e4,Wn(Math.max(t?6e4:45e3,On))}finally{Xi=!1}}}async function bd(){const r=le("#owner-sol");try{const t=await Sn();r.textContent=`${t.slice(0,4)}…${t.slice(-4)}`}catch{r.textContent="—"}}function nr(r){const t=le("#connect-wallet");r?(t.textContent=`${r.slice(0,4)}…${r.slice(-4)}`,t.classList.add("opacity-90")):(t.textContent="Connect Wallet",t.classList.remove("opacity-90"))}let fs=null;function vd(r){return`https://phantom.app/ul/v1/pay?link=${encodeURIComponent(r)}`}function xd(){return window.QRCode?Promise.resolve(!0):new Promise(r=>{const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js",t.async=!0,t.onload=()=>r(!0),t.onerror=()=>r(!1),document.head.appendChild(t)})}function Ed(r){let t=document.getElementById("qr-box");return t||(t=document.createElement("div"),t.id="qr-box",t.className=r.className,r.insertAdjacentElement("afterend",t)),t}function Sd(r,t){r.classList.remove("hidden");const e=r.getContext("2d");e.fillStyle="#fff",e.fillRect(0,0,r.width,r.height),e.fillStyle="#000",e.font="14px monospace",(t.match(/.{1,40}/g)||[t]).forEach((s,i)=>e.fillText(s,10,28+i*18))}async function Bd(r){const t=le("#qr-canvas");if(await xd()&&window.QRCode){const n=Ed(t);t.classList.add("hidden"),n.innerHTML="";try{new window.QRCode(n,{text:r,width:256,height:256,correctLevel:0});return}catch{}}Sd(t,r)}async function Zr(r,t,e){fs=r;const n=le("#qr-backdrop"),s=le("#qr-open"),i=le("#qr-amount"),o=le("#qr-recipient");i.textContent=String(t),o.textContent=e,Gr?(s.href=vd(r),s.textContent="Open in Phantom",s.classList.remove("hidden")):(s.removeAttribute("href"),s.classList.add("hidden")),await Bd(r),n.classList.remove("hidden")}function _d(){le("#qr-close").addEventListener("click",()=>{le("#qr-backdrop").classList.add("hidden")}),le("#qr-copy").addEventListener("click",async()=>{try{if(!fs)return;await navigator.clipboard.writeText(fs)}catch{}})}async function ls(r){if(!r||r<=0)return;const t=Vr();if(!t){if(Gr){const e=await Sn(),n=jr(e,r,`${vt.OWNER_SOL_DOMAIN||"Tip Jar"}`,`Thanks for the tip (${fr()})`);await Zr(n,r,e)}else window.open("https://phantom.app/","_blank","noopener");return}try{t.publicKey||await t.connect({onlyIfTrusted:!1});const e=t.publicKey;if(!e)throw new Error("connect_failed");await gd(e,r),Wn(4e3)}catch(e){const n=e==null?void 0:e.code,s=String((e==null?void 0:e.message)||e||"");if(n===4001||/reject/i.test(s))return;if(!Gr){console.warn("Send failed on desktop:",e);return}try{const i=await Sn(),o=jr(i,r,`${vt.OWNER_SOL_DOMAIN||"Tip Jar"}`,`Thanks for the tip (${fr()})`);await Zr(o,r,i)}catch{}}}function Ad(){const r=le("#qr-tip");let t=document.getElementById("send-tip");t||(t=document.createElement("button"),t.id="send-tip",t.type="button",t.className="btn-grad px-3 py-2 rounded-lg font-semibold text-sm hover:scale-105 transition",t.textContent="Send",r.insertAdjacentElement("beforebegin",t)),t.onclick=async()=>{const e=le("#custom-tip"),n=Number(e.value);await ls(n)}}function kd(){var e,n,s;dd(),_d(),bd(),Ad();const r=le("#custom-tip");r.addEventListener("keydown",async i=>{if(i.key==="Enter"){i.preventDefault();const o=Number(r.value);await ls(o)}});const t=le("#connect-wallet");t.onclick=async()=>{var o,c,d,w;const i=Vr();if(!i){if(Gr){const S=await Sn(),A=Number(le("#custom-tip").value)||.05,k=jr(S,A,`${vt.OWNER_SOL_DOMAIN||"Tip Jar"}`,`Thanks for the tip (${fr()})`);await Zr(k,A,S)}else window.open("https://phantom.app/","_blank","noopener");return}try{const S=await i.connect({onlyIfTrusted:!1}),A=((c=(o=S==null?void 0:S.publicKey)==null?void 0:o.toBase58)==null?void 0:c.call(o))??((w=(d=i.publicKey)==null?void 0:d.toBase58)==null?void 0:w.call(d));nr(A),Wn(2e3)}catch{nr(void 0)}};try{const i=Vr();(e=i==null?void 0:i.on)==null||e.call(i,"connect",()=>{var c,d;const o=(d=(c=i.publicKey)==null?void 0:c.toBase58)==null?void 0:d.call(c);nr(o),Wn(2e3)}),(n=i==null?void 0:i.on)==null||n.call(i,"disconnect",()=>{nr(void 0)}),(s=i==null?void 0:i.on)==null||s.call(i,"accountChanged",o=>{nr(o?o.toBase58():void 0)})}catch{}document.querySelectorAll(".tip-btn").forEach(i=>{i.onclick=async()=>{const o=Number(i.dataset.amount||"0");await ls(o)}}),le("#qr-tip").addEventListener("click",async()=>{const i=le("#custom-tip"),o=Number(i.value)||.05,c=await Sn(),d=jr(c,o,`${vt.OWNER_SOL_DOMAIN||"Tip Jar"}`,`Thanks for the tip (${fr()})`);await Zr(d,o,c)}),Wn(3e3)}const Hn=(r,t,e)=>{const n=document.createElement("div");n.className=`fixed bottom-4 left-4 px-4 py-2 rounded-lg shadow-lg text-sm font-medium ${t==="success"?"bg-green-500":"bg-red-500"} text-white z-[1000]`,n.innerHTML=r,document.body.appendChild(n),setTimeout(()=>n.remove(),3200)},Ji=30,sr={list:async()=>{const r=await fetch("https://api.memegen.link/templates/");if(!r.ok)throw new Error("Failed to load templates");return(await r.json()).map(e=>({key:(e.key||e.id||e.template||e.slug||"").toString(),name:(e.name||e.id||e.key||"Template").toString()})).filter(e=>e.key)},encode:r=>r.trim().replace(/_/g,"__").replace(/-/g,"--").replace(/ /g,"_").replace(/\?/g,"~q").replace(/%/g,"~p").replace(/#/g,"~h").replace(/\//g,"~s").replace(/\\/g,"~b").replace(/"/g,"''"),previewUrl:(r,t,e)=>{const n=new URL("https://api.memegen.link/images/preview.jpg");return n.searchParams.set("template",r),t&&n.searchParams.append("lines[]",t),e&&n.searchParams.append("lines[]",e),n.searchParams.set("font","impact"),n.searchParams.set("width","600"),n.toString()},finalUrl:(r,t,e)=>{const n=t?sr.encode(t):"_",s=e?sr.encode(e):"_",i=`https://api.memegen.link/images/${encodeURIComponent(r)}/${n}/${s}.png`,o=new URL(i);return o.searchParams.set("font","impact"),o.searchParams.set("width","600"),vt.MEMEGEN_API_KEY&&(o.searchParams.set("api_key",vt.MEMEGEN_API_KEY),o.searchParams.set("watermark",vt.OWNER_SOL_DOMAIN)),o.toString()}};function Id(){const r=document.getElementById("meme-canvas"),t=r.getContext("2d"),e=document.getElementById("top-text"),n=document.getElementById("bottom-text"),s=document.getElementById("meme-upload"),i=document.getElementById("download-meme");let o=null;s.onchange=d=>{var A;const w=(A=d.target.files)==null?void 0:A[0];if(!w)return;const S=new FileReader;S.onload=()=>{o=new Image,o.onload=c,o.src=S.result},S.readAsDataURL(w)},[e,n].forEach(d=>d.oninput=c),i.onclick=()=>{if(!o)return Hn("Pick a template or upload an image first","error");const d=document.createElement("a");d.download=`${vt.OWNER_SOL_DOMAIN}-meme.png`,d.href=r.toDataURL("image/png"),d.click(),Hn("Meme downloaded!","success")};function c(){var S,A;o&&o.complete?t.drawImage(o,0,0,r.width,r.height):(t.fillStyle="#111827",t.fillRect(0,0,r.width,r.height)),t.textAlign="center",t.lineJoin="round",t.strokeStyle="black",t.fillStyle="white",t.font="48px Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif",t.lineWidth=6;const d=(S=e.value)==null?void 0:S.toUpperCase(),w=(A=n.value)==null?void 0:A.toUpperCase();d&&(t.strokeText(d,r.width/2,60),t.fillText(d,r.width/2,60)),w&&(t.strokeText(w,r.width/2,r.height-24),t.fillText(w,r.width/2,r.height-24)),t.save(),t.font="18px Inter, system-ui, sans-serif",t.globalAlpha=.9,t.textAlign="right",t.fillStyle="rgba(255,255,255,0.95)",t.strokeStyle="rgba(0,0,0,0.5)",t.lineWidth=3,t.strokeText(vt.OWNER_SOL_DOMAIN,r.width-12,r.height-12),t.fillText(vt.OWNER_SOL_DOMAIN,r.width-12,r.height-12),t.restore()}}async function Md(){var it;const r=document.getElementById("api-templates"),t=document.getElementById("template-search"),e=document.getElementById("api-page"),n=document.getElementById("api-pages"),s=document.getElementById("api-prev"),i=document.getElementById("api-next"),o=document.getElementById("api-top"),c=document.getElementById("api-bottom"),d=document.getElementById("api-preview"),w=document.getElementById("api-open"),S=document.getElementById("api-copy"),A=document.getElementById("api-download"),k=document.getElementById("api-watermark-hint");vt.MEMEGEN_API_KEY?k.textContent=`Server-side watermark enabled for: ${vt.OWNER_SOL_DOMAIN}`:k.innerHTML=`No API key set — use <b>Download (SNS watermark)</b> to bake <b>${vt.OWNER_SOL_DOMAIN}</b> locally.`;let B=[];try{B=await sr.list()}catch{r.innerHTML='<div class="text-sm text-red-300">Failed to load templates</div>';return}let I=B,R=1,L=((it=B[0])==null?void 0:it.key)||"fry";const U=()=>Math.max(1,Math.ceil(I.length/Ji)),q=et=>{R=Math.min(Math.max(1,et),U()),e.textContent=String(R),n.textContent=String(U()),s.disabled=R===1,i.disabled=R===U(),F()},F=()=>{const et=(R-1)*Ji,X=I.slice(et,et+Ji);r.innerHTML=X.map(D=>`
      <button class="group relative block rounded-lg overflow-hidden border border-white/10 hover:border-white/30 transition"
              data-id="${D.key}" title="${D.name}">
        <img src="https://api.memegen.link/images/${encodeURIComponent(D.key)}.jpg?height=90"
             class="w-full h-20 object-cover group-hover:scale-105 transition" />
        <span class="absolute bottom-1 left-1 text-[10px] px-1.5 py-0.5 rounded bg-black/60">${D.name}</span>
      </button>
    `).join(""),r.querySelectorAll("button").forEach(D=>D.addEventListener("click",()=>{L=D.dataset.id||"fry",W()}))},W=()=>{const et=sr.previewUrl(L||"fry",o.value||"",c.value||""),X=sr.finalUrl(L||"fry",o.value||"",c.value||"");d.src=et,w.href=X};t.oninput=()=>{const et=t.value.toLowerCase().trim();I=et?B.filter(X=>X.name.toLowerCase().includes(et)||X.key.toLowerCase().includes(et)):B,q(1)},s.onclick=()=>q(R-1),i.onclick=()=>q(R+1),[o,c].forEach(et=>et.addEventListener("input",W)),S.onclick=async()=>{w.href&&(await navigator.clipboard.writeText(w.href),Hn("Meme URL copied","success"))},A.onclick=async()=>{if(w.href)try{const et=await Q(w.href),X=document.createElement("canvas");X.width=et.naturalWidth,X.height=et.naturalHeight;const D=X.getContext("2d");D.drawImage(et,0,0),D.save(),D.font=`${Math.max(18,Math.floor(X.width*.02))}px Inter, system-ui, sans-serif`,D.textAlign="right",D.fillStyle="rgba(255,255,255,0.95)",D.strokeStyle="rgba(0,0,0,0.5)",D.lineWidth=Math.max(2,Math.floor(X.width*.0025));const G=Math.max(12,Math.floor(X.width*.02));D.strokeText(vt.OWNER_SOL_DOMAIN,X.width-G,X.height-G),D.fillText(vt.OWNER_SOL_DOMAIN,X.width-G,X.height-G),D.restore();const Z=document.createElement("a");Z.download=`${vt.OWNER_SOL_DOMAIN}-meme.png`,Z.href=X.toDataURL("image/png"),Z.click(),Hn("Meme downloaded with watermark!","success")}catch{Hn("Failed to download image","error")}};function Q(et){return new Promise((X,D)=>{const G=new Image;G.crossOrigin="anonymous",G.onload=()=>X(G),G.onerror=D,G.src=et})}q(1),W()}function Rd(){const r=document.getElementById("api-mode"),t=[document.getElementById("meme-upload"),document.getElementById("top-text"),document.getElementById("bottom-text"),document.getElementById("meme-canvas"),document.getElementById("download-meme")].filter(Boolean),e=document.getElementById("mode-api"),n=document.getElementById("mode-local"),s=()=>{r.classList.remove("hidden"),t.forEach(o=>o==null?void 0:o.classList.add("hidden")),e.classList.add("bg-white/15"),n.classList.remove("bg-white/15")},i=()=>{r.classList.add("hidden"),t.forEach(o=>o==null?void 0:o.classList.remove("hidden")),n.classList.add("bg-white/15"),e.classList.remove("bg-white/15")};e.addEventListener("click",s),n.addEventListener("click",i),s()}const Td=()=>{Id(),Md().catch(()=>Hn("Memegen API failed","error")),Rd()};function Ld(){const e=(vt.DEFAULT_CLUSTER==="devnet"?vt.DEVNET_RPCS:vt.MAINNET_RPCS).filter(s=>{const i=s.toLowerCase();return!(i.includes("solana.drpc.org")||i.includes("rpc.ankr.com/multichain"))});return e.find(s=>s.includes("helius-rpc.com"))||e[0]}function Cd(){const r="jup-widget";if(!document.getElementById(r))return;const e=()=>{var i;if(!((i=window.Jupiter)!=null&&i.init))return!1;const n=document.getElementById("jup-cluster-label");n&&(n.textContent=vt.DEFAULT_CLUSTER);const s=Ld();try{window.Jupiter.init({displayMode:"integrated",integratedTargetId:r,defaultExplorer:"Solscan",endpoint:s,passThroughWallet:window.solana??void 0})}catch(o){console.warn("[Jupiter] init failed:",o)}return!0};if(!e()){let n=0;const s=setInterval(()=>{(e()||++n>40)&&clearInterval(s)},250)}}document.addEventListener("DOMContentLoaded",()=>{zs(),kd(),Td(),Cd()})});export default Ud();
